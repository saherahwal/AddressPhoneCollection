function W(){function aa(d,g,h){var p=!1;h();if(d&&g)k=d,m=g;else{var q={};var m=function(e){return q[e]},k=function(e,b,a){b=a(m);q[e]=b};p=!0}k(0,0,function(){var e={Yx:21,qs:0,$J:8,si:100,vm:256,kU:1,iO:8192/8191,cO:15,Yr:250,ln:125,Dt:150,Et:150,qI:300,rI:300,Tg:.01,Iw:[.973,.957,.926,1],ag:10,sL:100,jr:[.59375,.58984375,.57421875,1],ir:[.973,.957,.926,1],ZI:[.8359375,.8359375,.8359375,1],Jw:[.25,.25,.25,1],HK:100,Di:128,FK:1,Sq:.5,js:8192,vL:16384,uL:32768,YL:1.75,Iy:[256,256],ML:16,Lw:1,Kw:1,
kr:"",hr:"",lr:"",aJ:"standard",Xg:"light",Wg:"standard",pz:.01,AI:1,YI:2147483648,Cx:"__invisible-collision-id__",Hy:"__arrow-collision-id__",xM:"__arrow__",yM:"RAS",XS:15,US:180,PL:10,kM:35,Tx:"_",yn:50,wn:640,ps:2,ls:21,os:1,ks:20,vn:1E3,qz:[1,3],rz:[1,3],Vd:256};e.ms=e.Vd<<1;e.qn=1;e.tn=1-Math.log(e.Vd/e.vm)/Math.log(2);e.xy=e.Vd/e.vm;e.baseTileSize=e.vm;return e});(function(e,b){k(1,[],b)})(this,function(){return function(e){function b(c){if(a[c])return a[c].wd;var f=a[c]={wd:{},id:c,loaded:!1};
e[c].call(f.wd,f,f.wd,b);f.loaded=!0;return f.wd}var a={};b.LS=e;b.vP=a;b.p="";return b(0)}([function(e,b,a){b.BS=a(1);b.fs=a(2);b.Ux=a(3);b.gs=a(4);b.S=a(5);b.Jn=a(6);b.g=a(9);b.Ba=a(7);b.I=a(8)},function(e){var b={EPSILON:1E-6};b.ob=Array;b.Gg=Math.random;b.aT=function(a){b.ob=a};var a=Math.PI/180;b.vz=function(b){return b*a};b.fe=function(a,f){return Math.abs(a-f)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};e.wd=b},function(e,b,a){var c=a(1);b={create:function(){var a=new c.ob(4);a[0]=1;a[1]=
0;a[2]=0;a[3]=1;return a},clone:function(a){var l=new c.ob(4);l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=a[3];return l},He:function(a,l){a[0]=l[0];a[1]=l[1];a[2]=l[2];a[3]=l[3];return a},cg:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},l:function(a,l,b,t){var n=new c.ob(4);n[0]=a;n[1]=l;n[2]=b;n[3]=t;return n},set:function(a,b,c,t,e){a[0]=b;a[1]=c;a[2]=t;a[3]=e;return a},xz:function(a,b){if(a===b){var l=b[1];a[1]=b[2];a[2]=l}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},eg:function(a,b){var l=
b[0],c=b[1],f=b[2];b=b[3];var e=l*b-f*c;if(!e)return null;e=1/e;a[0]=b*e;a[1]=-c*e;a[2]=-f*e;a[3]=l*e;return a},qw:function(a,b){var l=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=l;return a},mr:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,b,c){var l=b[0],n=b[1],f=b[2];b=b[3];var e=c[0],d=c[1],w=c[2];c=c[3];a[0]=l*e+f*d;a[1]=n*e+b*d;a[2]=l*w+f*c;a[3]=n*w+b*c;return a}};b.gh=b.multiply;b.rotate=function(a,b,c){var l=b[0],n=b[1],f=b[2];b=b[3];var e=Math.sin(c);c=Math.cos(c);a[0]=l*c+f*e;
a[1]=n*c+b*e;a[2]=l*-e+f*c;a[3]=n*-e+b*c;return a};b.scale=function(a,b,c){var l=b[1],n=b[2],f=b[3],e=c[0];c=c[1];a[0]=b[0]*e;a[1]=l*e;a[2]=n*c;a[3]=f*c;return a};b.Br=function(a,b){var l=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=l;a[2]=-l;a[3]=b;return a};b.Cr=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a};b.wh=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.Ar=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};b.RO=function(a,
b,c,t){a[2]=t[2]/t[0];c[0]=t[0];c[1]=t[1];c[3]=t[3]-a[2]*c[1];return[a,b,c]};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a};b.Pc=function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a};b.sub=b.Pc;b.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};b.fe=function(a,b){var l=a[0],f=a[1],e=a[2];a=a[3];var d=b[0],C=b[1],A=b[2];b=b[3];return Math.abs(l-d)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))&&
Math.abs(f-C)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(e-A)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(A))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.rs=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a};b.ss=function(a,b,c,t){a[0]=b[0]+c[0]*t;a[1]=b[1]+c[1]*t;a[2]=b[2]+c[2]*t;a[3]=b[3]+c[3]*t;return a};e.wd=b},function(e,b,a){var c=a(1);b={create:function(){var a=new c.ob(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var b=
new c.ob(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b},He:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a},cg:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},l:function(a,b,n,t,e,d){var l=new c.ob(6);l[0]=a;l[1]=b;l[2]=n;l[3]=t;l[4]=e;l[5]=d;return l},set:function(a,b,c,t,e,d,C){a[0]=b;a[1]=c;a[2]=t;a[3]=e;a[4]=d;a[5]=C;return a},eg:function(a,b){var l=b[0],c=b[1],f=b[2],e=b[3],d=b[4];b=b[5];var A=l*e-c*f;if(!A)return null;
A=1/A;a[0]=e*A;a[1]=-c*A;a[2]=-f*A;a[3]=l*A;a[4]=(f*b-e*d)*A;a[5]=(c*d-l*b)*A;return a},mr:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4];b=b[5];var w=c[0],k=c[1],m=c[2],g=c[3],q=c[4];c=c[5];a[0]=l*w+f*k;a[1]=n*w+e*k;a[2]=l*m+f*g;a[3]=n*m+e*g;a[4]=l*q+f*c+d;a[5]=n*q+e*c+b;return a}};b.gh=b.multiply;b.rotate=function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4];b=b[5];var w=Math.sin(c);c=Math.cos(c);a[0]=l*c+f*w;a[1]=n*c+e*w;a[2]=l*-w+f*c;a[3]=
n*-w+e*c;a[4]=d;a[5]=b;return a};b.scale=function(a,b,c){var l=b[1],n=b[2],f=b[3],e=b[4],d=b[5],w=c[0];c=c[1];a[0]=b[0]*w;a[1]=l*w;a[2]=n*c;a[3]=f*c;a[4]=e;a[5]=d;return a};b.translate=function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4];b=b[5];var w=c[0];c=c[1];a[0]=l;a[1]=n;a[2]=f;a[3]=e;a[4]=l*w+f*c+d;a[5]=n*w+e*c+b;return a};b.Br=function(a,b){var l=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=l;a[2]=-l;a[3]=b;a[4]=0;a[5]=0;return a};b.Cr=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=
0;return a};b.cx=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a};b.wh=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};b.Ar=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];return a};b.Pc=function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-
c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];return a};b.sub=b.Pc;b.rs=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;return a};b.ss=function(a,b,c,e){a[0]=b[0]+c[0]*e;a[1]=b[1]+c[1]*e;a[2]=b[2]+c[2]*e;a[3]=b[3]+c[3]*e;a[4]=b[4]+c[4]*e;a[5]=b[5]+c[5]*e;return a};b.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]};b.fe=function(a,b){var l=a[0],f=a[1],e=a[2],d=a[3],C=a[4];a=a[5];var A=b[0],w=b[1],k=b[2],
m=b[3],g=b[4];b=b[5];return Math.abs(l-A)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(f-w)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(e-k)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(d-m)<=c.EPSILON*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(C-g)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(g))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};e.wd=b},function(e,b,a){var c=a(1);b={create:function(){var a=new c.ob(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;
a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},BR:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new c.ob(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},He:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},l:function(a,b,n,e,v,d,C,A,w){var l=new c.ob(9);l[0]=a;l[1]=b;l[2]=n;l[3]=e;l[4]=v;l[5]=
d;l[6]=C;l[7]=A;l[8]=w;return l},set:function(a,b,c,e,v,d,C,A,w,k){a[0]=b;a[1]=c;a[2]=e;a[3]=v;a[4]=d;a[5]=C;a[6]=A;a[7]=w;a[8]=k;return a},cg:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},xz:function(a,b){if(a===b){var l=b[1],c=b[2],f=b[5];a[1]=b[3];a[2]=b[6];a[3]=l;a[5]=b[7];a[6]=c;a[7]=f}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},eg:function(a,b){var l=b[0],c=b[1],f=b[2],e=b[3],d=b[4],A=b[5],w=
b[6],k=b[7];b=b[8];var m=b*d-A*k,g=-b*e+A*w,q=k*e-d*w,p=l*m+c*g+f*q;if(!p)return null;p=1/p;a[0]=m*p;a[1]=(-b*c+f*k)*p;a[2]=(A*c-f*d)*p;a[3]=g*p;a[4]=(b*l-f*w)*p;a[5]=(-A*l+f*e)*p;a[6]=q*p;a[7]=(-k*l+c*w)*p;a[8]=(d*l-c*e)*p;return a},qw:function(a,b){var l=b[0],c=b[1],f=b[2],e=b[3],d=b[4],A=b[5],w=b[6],k=b[7];b=b[8];a[0]=d*b-A*k;a[1]=f*k-c*b;a[2]=c*A-f*d;a[3]=A*w-e*b;a[4]=l*b-f*w;a[5]=f*e-l*A;a[6]=e*k-d*w;a[7]=c*w-l*k;a[8]=l*d-c*e;return a},mr:function(a){var b=a[3],c=a[4],f=a[5],e=a[6],d=a[7],C=
a[8];return a[0]*(C*c-f*d)+a[1]*(-C*b+f*e)+a[2]*(d*b-c*e)},multiply:function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4],w=b[5],k=b[6],m=b[7];b=b[8];var g=c[0],p=c[1],q=c[2],h=c[3],r=c[4],y=c[5],x=c[6],H=c[7];c=c[8];a[0]=g*l+p*e+q*k;a[1]=g*n+p*d+q*m;a[2]=g*f+p*w+q*b;a[3]=h*l+r*e+y*k;a[4]=h*n+r*d+y*m;a[5]=h*f+r*w+y*b;a[6]=x*l+H*e+c*k;a[7]=x*n+H*d+c*m;a[8]=x*f+H*w+c*b;return a}};b.gh=b.multiply;b.translate=function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4],w=b[5],k=b[6],m=b[7];b=b[8];var g=c[0];
c=c[1];a[0]=l;a[1]=n;a[2]=f;a[3]=e;a[4]=d;a[5]=w;a[6]=g*l+c*e+k;a[7]=g*n+c*d+m;a[8]=g*f+c*w+b;return a};b.rotate=function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],d=b[4],w=b[5],k=b[6],m=b[7];b=b[8];var g=Math.sin(c);c=Math.cos(c);a[0]=c*l+g*e;a[1]=c*n+g*d;a[2]=c*f+g*w;a[3]=c*e-g*l;a[4]=c*d-g*n;a[5]=c*w-g*f;a[6]=k;a[7]=m;a[8]=b;return a};b.scale=function(a,b,c){var l=c[0];c=c[1];a[0]=l*b[0];a[1]=l*b[1];a[2]=l*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};b.cx=function(a,
b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};b.Br=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=-c;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.Cr=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.AR=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};b.iK=function(a,b){var c=b[0],l=b[1],f=b[2];b=b[3];var e=c+c,d=l+l,A=f+f;c*=e;var w=l*
e;l*=d;var k=f*e,m=f*d;f*=A;e*=b;d*=b;b*=A;a[0]=1-l-f;a[3]=w-b;a[6]=k+d;a[1]=w+b;a[4]=1-c-f;a[7]=m-e;a[2]=k-d;a[5]=m+e;a[8]=1-c-l;return a};b.PS=function(a,b){var c=b[0],l=b[1],f=b[2],e=b[3],d=b[4],A=b[5],w=b[6],k=b[7],m=b[8],g=b[9],p=b[10],q=b[11],h=b[12],r=b[13],y=b[14];b=b[15];var x=c*A-l*d,H=c*w-f*d,u=c*k-e*d,G=l*w-f*A,F=l*k-e*A,E=f*k-e*w,K=m*r-g*h,I=m*y-p*h;m=m*b-q*h;var M=g*y-p*r;g=g*b-q*r;p=p*b-q*y;q=x*p-H*g+u*M+G*m-F*I+E*K;if(!q)return null;q=1/q;a[0]=(A*p-w*g+k*M)*q;a[1]=(w*m-d*p-k*I)*q;
a[2]=(d*g-A*m+k*K)*q;a[3]=(f*g-l*p-e*M)*q;a[4]=(c*p-f*m+e*I)*q;a[5]=(l*m-c*g-e*K)*q;a[6]=(r*E-y*F+b*G)*q;a[7]=(y*u-h*E-b*H)*q;a[8]=(h*F-r*u+b*x)*q;return a};b.wh=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};b.Ar=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};b.add=function(a,b,c){a[0]=b[0]+c[0];
a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];return a};b.Pc=function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];return a};b.sub=b.Pc;b.rs=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;return a};b.ss=function(a,b,c,e){a[0]=b[0]+c[0]*e;a[1]=b[1]+c[1]*
e;a[2]=b[2]+c[2]*e;a[3]=b[3]+c[3]*e;a[4]=b[4]+c[4]*e;a[5]=b[5]+c[5]*e;a[6]=b[6]+c[6]*e;a[7]=b[7]+c[7]*e;a[8]=b[8]+c[8]*e;return a};b.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]};b.fe=function(a,b){var l=a[0],f=a[1],e=a[2],d=a[3],C=a[4],A=a[5],w=a[6],k=a[7],m=a[8],g=b[0],q=b[1],p=b[2],h=b[3],r=b[4],y=b[5];a=a[6];var x=b[7];b=b[8];return Math.abs(l-g)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(f-
q)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(e-p)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(d-h)<=c.EPSILON*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(C-r)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(r))&&Math.abs(A-y)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(y))&&Math.abs(w-a)<=c.EPSILON*Math.max(1,Math.abs(w),Math.abs(a))&&Math.abs(k-x)<=c.EPSILON*Math.max(1,Math.abs(k),Math.abs(x))&&Math.abs(m-b)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(b))};e.wd=b},function(e,
b,a){var c=a(1),f={ZS:{},create:function(){var a=new c.ob(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new c.ob(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},He:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=
b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},l:function(a,b,f,e,d,C,A,w,k,m,g,q,p,h,r,y){var l=new c.ob(16);l[0]=a;l[1]=b;l[2]=f;l[3]=e;l[4]=d;l[5]=C;l[6]=A;l[7]=w;l[8]=k;l[9]=m;l[10]=g;l[11]=q;l[12]=p;l[13]=h;l[14]=r;l[15]=y;return l},set:function(a,b,c,f,e,d,A,w,k,m,g,q,p,h,r,y,x){a[0]=b;a[1]=c;a[2]=f;a[3]=e;a[4]=d;a[5]=A;a[6]=w;a[7]=k;a[8]=m;a[9]=g;a[10]=q;a[11]=p;a[12]=h;a[13]=r;a[14]=y;a[15]=x;return a},cg:function(a){a[0]=1;a[1]=
0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},xz:function(a,b){if(a===b){var c=b[1],l=b[2],n=b[3],f=b[6],e=b[7],d=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=l;a[9]=f;a[11]=b[14];a[12]=n;a[13]=e;a[14]=d}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},eg:function(a,b){var c=
b[0],l=b[1],n=b[2],f=b[3],e=b[4],d=b[5],k=b[6],m=b[7],g=b[8],q=b[9],p=b[10],h=b[11],r=b[12],y=b[13],x=b[14];b=b[15];var H=c*d-l*e,u=c*k-n*e,G=c*m-f*e,F=l*k-n*d,E=l*m-f*d,K=n*m-f*k,I=g*y-q*r,M=g*x-p*r,Q=g*b-h*r,R=q*x-p*y,T=q*b-h*y,U=p*b-h*x,L=H*U-u*T+G*R+F*Q-E*M+K*I;if(!L)return null;L=1/L;a[0]=(d*U-k*T+m*R)*L;a[1]=(n*T-l*U-f*R)*L;a[2]=(y*K-x*E+b*F)*L;a[3]=(p*E-q*K-h*F)*L;a[4]=(k*Q-e*U-m*M)*L;a[5]=(c*U-n*Q+f*M)*L;a[6]=(x*G-r*K-b*u)*L;a[7]=(g*K-p*G+h*u)*L;a[8]=(e*T-d*Q+m*I)*L;a[9]=(l*Q-c*T-f*I)*L;a[10]=
(r*E-y*G+b*H)*L;a[11]=(q*G-g*E-h*H)*L;a[12]=(d*M-e*R-k*I)*L;a[13]=(c*R-l*M+n*I)*L;a[14]=(y*u-r*F-x*H)*L;a[15]=(g*F-q*u+p*H)*L;return a},qw:function(a,b){var c=b[0],l=b[1],n=b[2],f=b[3],e=b[4],d=b[5],k=b[6],m=b[7],g=b[8],q=b[9],p=b[10],h=b[11],r=b[12],y=b[13],x=b[14];b=b[15];a[0]=d*(p*b-h*x)-q*(k*b-m*x)+y*(k*h-m*p);a[1]=-(l*(p*b-h*x)-q*(n*b-f*x)+y*(n*h-f*p));a[2]=l*(k*b-m*x)-d*(n*b-f*x)+y*(n*m-f*k);a[3]=-(l*(k*h-m*p)-d*(n*h-f*p)+q*(n*m-f*k));a[4]=-(e*(p*b-h*x)-g*(k*b-m*x)+r*(k*h-m*p));a[5]=c*(p*b-
h*x)-g*(n*b-f*x)+r*(n*h-f*p);a[6]=-(c*(k*b-m*x)-e*(n*b-f*x)+r*(n*m-f*k));a[7]=c*(k*h-m*p)-e*(n*h-f*p)+g*(n*m-f*k);a[8]=e*(q*b-h*y)-g*(d*b-m*y)+r*(d*h-m*q);a[9]=-(c*(q*b-h*y)-g*(l*b-f*y)+r*(l*h-f*q));a[10]=c*(d*b-m*y)-e*(l*b-f*y)+r*(l*m-f*d);a[11]=-(c*(d*h-m*q)-e*(l*h-f*q)+g*(l*m-f*d));a[12]=-(e*(q*x-p*y)-g*(d*x-k*y)+r*(d*p-k*q));a[13]=c*(q*x-p*y)-g*(l*x-n*y)+r*(l*p-n*q);a[14]=-(c*(d*x-k*y)-e*(l*x-n*y)+r*(l*k-n*d));a[15]=c*(d*p-k*q)-e*(l*p-n*q)+g*(l*k-n*d);return a},mr:function(a){var b=a[0],c=a[1],
l=a[2],f=a[3],e=a[4],d=a[5],w=a[6],k=a[7],m=a[8],g=a[9],p=a[10],q=a[11],h=a[12],r=a[13],y=a[14];a=a[15];return(b*d-c*e)*(p*a-q*y)-(b*w-l*e)*(g*a-q*r)+(b*k-f*e)*(g*y-p*r)+(c*w-l*d)*(m*a-q*h)-(c*k-f*d)*(m*y-p*h)+(l*k-f*w)*(m*r-g*h)},multiply:function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],t=b[4],d=b[5],k=b[6],m=b[7],g=b[8],p=b[9],q=b[10],h=b[11],r=b[12],x=b[13],H=b[14];b=b[15];var u=c[0],G=c[1],F=c[2],E=c[3];a[0]=u*l+G*t+F*g+E*r;a[1]=u*n+G*d+F*p+E*x;a[2]=u*f+G*k+F*q+E*H;a[3]=u*e+G*m+F*h+E*b;u=c[4];
G=c[5];F=c[6];E=c[7];a[4]=u*l+G*t+F*g+E*r;a[5]=u*n+G*d+F*p+E*x;a[6]=u*f+G*k+F*q+E*H;a[7]=u*e+G*m+F*h+E*b;u=c[8];G=c[9];F=c[10];E=c[11];a[8]=u*l+G*t+F*g+E*r;a[9]=u*n+G*d+F*p+E*x;a[10]=u*f+G*k+F*q+E*H;a[11]=u*e+G*m+F*h+E*b;u=c[12];G=c[13];F=c[14];E=c[15];a[12]=u*l+G*t+F*g+E*r;a[13]=u*n+G*d+F*p+E*x;a[14]=u*f+G*k+F*q+E*H;a[15]=u*e+G*m+F*h+E*b;return a}};f.gh=f.multiply;f.translate=function(a,b,c){var l=c[0],n=c[1];c=c[2];if(b===a)a[12]=b[0]*l+b[4]*n+b[8]*c+b[12],a[13]=b[1]*l+b[5]*n+b[9]*c+b[13],a[14]=
b[2]*l+b[6]*n+b[10]*c+b[14],a[15]=b[3]*l+b[7]*n+b[11]*c+b[15];else{var f=b[0];var e=b[1];var t=b[2];var d=b[3];var k=b[4];var m=b[5];var g=b[6];var p=b[7];var q=b[8];var h=b[9];var r=b[10];var x=b[11];a[0]=f;a[1]=e;a[2]=t;a[3]=d;a[4]=k;a[5]=m;a[6]=g;a[7]=p;a[8]=q;a[9]=h;a[10]=r;a[11]=x;a[12]=f*l+k*n+q*c+b[12];a[13]=e*l+m*n+h*c+b[13];a[14]=t*l+g*n+r*c+b[14];a[15]=d*l+p*n+x*c+b[15]}return a};f.scale=function(a,b,c){var l=c[0],n=c[1];c=c[2];a[0]=b[0]*l;a[1]=b[1]*l;a[2]=b[2]*l;a[3]=b[3]*l;a[4]=b[4]*n;
a[5]=b[5]*n;a[6]=b[6]*n;a[7]=b[7]*n;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};f.rotate=function(a,b,f,e){var l=e[0],n=e[1];e=e[2];var t=Math.sqrt(l*l+n*n+e*e);if(Math.abs(t)<c.EPSILON)return null;t=1/t;l*=t;n*=t;e*=t;var d=Math.sin(f);var v=Math.cos(f);var k=1-v;f=b[0];t=b[1];var m=b[2];var g=b[3];var p=b[4];var q=b[5];var h=b[6];var r=b[7];var x=b[8];var H=b[9];var u=b[10];var G=b[11];var F=l*l*k+v;var E=n*l*k+e*d;var K=e*l*k-n*
d;var I=l*n*k-e*d;var M=n*n*k+v;var Q=e*n*k+l*d;var R=l*e*k+n*d;l=n*e*k-l*d;n=e*e*k+v;a[0]=f*F+p*E+x*K;a[1]=t*F+q*E+H*K;a[2]=m*F+h*E+u*K;a[3]=g*F+r*E+G*K;a[4]=f*I+p*M+x*Q;a[5]=t*I+q*M+H*Q;a[6]=m*I+h*M+u*Q;a[7]=g*I+r*M+G*Q;a[8]=f*R+p*l+x*n;a[9]=t*R+q*l+H*n;a[10]=m*R+h*l+u*n;a[11]=g*R+r*l+G*n;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};f.Vs=function(a,b,c){var l=Math.sin(c);c=Math.cos(c);var n=b[4],f=b[5],e=b[6],t=b[7],d=b[8],k=b[9],m=b[10],g=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],
a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=n*c+d*l;a[5]=f*c+k*l;a[6]=e*c+m*l;a[7]=t*c+g*l;a[8]=d*c-n*l;a[9]=k*c-f*l;a[10]=m*c-e*l;a[11]=g*c-t*l};f.Jy=function(a,b,c){var l=Math.sin(c);c=Math.cos(c);var n=b[0],f=b[1],e=b[2],t=b[3],d=b[8],k=b[9],m=b[10],g=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*c-d*l;a[1]=f*c-k*l;a[2]=e*c-m*l;a[3]=t*c-g*l;a[8]=n*l+d*c;a[9]=f*l+k*c;a[10]=e*l+m*c;a[11]=t*l+g*c;return a};
f.Ws=function(a,b,c){var l=Math.sin(c);c=Math.cos(c);var n=b[0],f=b[1],e=b[2],t=b[3],d=b[4],k=b[5],m=b[6],g=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*c+d*l;a[1]=f*c+k*l;a[2]=e*c+m*l;a[3]=t*c+g*l;a[4]=d*c-n*l;a[5]=k*c-f*l;a[6]=m*c-e*l;a[7]=g*c-t*l};f.cx=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};f.Cr=function(a,b){a[0]=b[0];
a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};f.Br=function(a,b,f){var l=f[0],n=f[1];f=f[2];var e=Math.sqrt(l*l+n*n+f*f);if(Math.abs(e)<c.EPSILON)return null;e=1/e;l*=e;n*=e;f*=e;e=Math.sin(b);b=Math.cos(b);var t=1-b;a[0]=l*l*t+b;a[1]=n*l*t+f*e;a[2]=f*l*t-n*e;a[3]=0;a[4]=l*n*t-f*e;a[5]=n*n*t+b;a[6]=f*n*t+l*e;a[7]=0;a[8]=l*f*t+n*e;a[9]=n*f*t-l*e;a[10]=f*f*t+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};f.FR=function(a,
b){var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};f.GR=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};f.HR=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a};f.CR=function(a,b,c){var l=b[0],n=b[1],f=b[2],e=b[3],t=l+l,d=n+n,k=f+f;b=l*t;var m=l*d;l*=k;var g=n*d;n*=k;f*=k;t*=e;d*=e;e*=k;a[0]=1-(g+f);a[1]=m+e;a[2]=l-d;a[3]=0;a[4]=m-e;a[5]=1-(b+f);a[6]=n+t;a[7]=0;a[8]=l+d;a[9]=n-t;a[10]=1-(b+g);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};f.zS=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};f.yS=function(a,b){var c=b[0]+b[5]+b[10];0<c?(c=2*Math.sqrt(c+1),a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-b[2])/c,a[2]=(b[1]-
b[4])/c):b[0]>b[5]&b[0]>b[10]?(c=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=.25*c,a[2]=(b[6]+b[9])/c):(c=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a};f.DR=function(a,b,c,f){var l=b[0],n=b[1],e=b[2],t=b[3],d=l+l,v=n+n,k=e+e;b=l*d;var m=l*v;l*=k;var g=n*v;n*=k;e*=k;d*=t;v*=t;t*=k;k=f[0];var p=
f[1];f=f[2];a[0]=(1-(g+e))*k;a[1]=(m+t)*k;a[2]=(l-v)*k;a[3]=0;a[4]=(m-t)*p;a[5]=(1-(b+e))*p;a[6]=(n+d)*p;a[7]=0;a[8]=(l+v)*f;a[9]=(n-d)*f;a[10]=(1-(b+g))*f;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};f.ER=function(a,b,c,f,e){var l=b[0],n=b[1],t=b[2],d=b[3],v=l+l,z=n+n,k=t+t;b=l*v;var m=l*z;l*=k;var g=n*z;n*=k;t*=k;v*=d;z*=d;d*=k;k=f[0];var p=f[1];f=f[2];var q=e[0],h=e[1];e=e[2];a[0]=(1-(g+t))*k;a[1]=(m+d)*k;a[2]=(l-z)*k;a[3]=0;a[4]=(m-d)*p;a[5]=(1-(b+t))*p;a[6]=(n+v)*p;a[7]=0;a[8]=
(l+z)*f;a[9]=(n-v)*f;a[10]=(1-(b+g))*f;a[11]=0;a[12]=c[0]+q-(a[0]*q+a[4]*h+a[8]*e);a[13]=c[1]+h-(a[1]*q+a[5]*h+a[9]*e);a[14]=c[2]+e-(a[2]*q+a[6]*h+a[10]*e);a[15]=1;return a};f.iK=function(a,b){var c=b[0],l=b[1],n=b[2];b=b[3];var f=c+c,e=l+l,d=n+n;c*=f;var k=l*f;l*=e;var m=n*f,g=n*e;n*=d;f*=b;e*=b;b*=d;a[0]=1-l-n;a[1]=k+b;a[2]=m-e;a[3]=0;a[4]=k-b;a[5]=1-c-n;a[6]=g+f;a[7]=0;a[8]=m+e;a[9]=g-f;a[10]=1-c-l;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};f.kK=function(a,b,c,f,e,d,k){var l=1/(c-b),n=1/
(e-f),t=1/(d-k);a[0]=2*d*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*d*n;a[6]=0;a[7]=0;a[8]=(c+b)*l;a[9]=(e+f)*n;a[10]=(k+d)*t;a[11]=-1;a[12]=0;a[13]=0;a[14]=k*d*2*t;a[15]=0;return a};f.perspective=function(a,b,c,f,e){b=1/Math.tan(b/2);var l=1/(f-e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+f)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*f*l;a[15]=0;return a};f.TS=function(a,b,c,f){var l=Math.tan(b.hU*Math.PI/180),n=Math.tan(b.xR*Math.PI/180),e=Math.tan(b.HS*Math.PI/180);b=
Math.tan(b.WS*Math.PI/180);var t=2/(e+b),d=2/(l+n);a[0]=t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=d;a[6]=0;a[7]=0;a[8]=-((e-b)*t*.5);a[9]=(l-n)*d*.5;a[10]=f/(c-f);a[11]=-1;a[12]=0;a[13]=0;a[14]=f*c/(c-f);a[15]=0;return a};f.RS=function(a,b,c,f,e,d,k){var l=1/(b-c),n=1/(f-e),t=1/(d-k);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*n;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*t;a[11]=0;a[12]=(b+c)*l;a[13]=(e+f)*n;a[14]=(k+d)*t;a[15]=1;return a};f.JS=function(a,b,e,d){var l=b[0],n=b[1];b=b[2];var t=d[0];var v=d[1];
var k=d[2];var m=e[0];d=e[1];var g=e[2];if(Math.abs(l-m)<c.EPSILON&&Math.abs(n-d)<c.EPSILON&&Math.abs(b-g)<c.EPSILON)return f.cg(a);e=l-m;d=n-d;m=b-g;var p=1/Math.sqrt(e*e+d*d+m*m);e*=p;d*=p;m*=p;g=v*m-k*d;k=k*e-t*m;t=t*d-v*e;(p=Math.sqrt(g*g+k*k+t*t))?(p=1/p,g*=p,k*=p,t*=p):t=k=g=0;v=d*t-m*k;var q=m*g-e*t;var h=e*k-d*g;(p=Math.sqrt(v*v+q*q+h*h))?(p=1/p,v*=p,q*=p,h*=p):h=q=v=0;a[0]=g;a[1]=v;a[2]=e;a[3]=0;a[4]=k;a[5]=q;a[6]=d;a[7]=0;a[8]=t;a[9]=h;a[10]=m;a[11]=0;a[12]=-(g*l+k*n+t*b);a[13]=-(v*l+q*
n+h*b);a[14]=-(e*l+d*n+m*b);a[15]=1;return a};f.wh=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};f.Ar=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+
Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};f.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a};f.Pc=function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];
a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a};f.sub=f.Pc;f.rs=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a};f.ss=function(a,b,c,f){a[0]=b[0]+c[0]*f;a[1]=b[1]+c[1]*f;a[2]=b[2]+c[2]*f;a[3]=b[3]+c[3]*f;a[4]=b[4]+c[4]*f;a[5]=b[5]+c[5]*
f;a[6]=b[6]+c[6]*f;a[7]=b[7]+c[7]*f;a[8]=b[8]+c[8]*f;a[9]=b[9]+c[9]*f;a[10]=b[10]+c[10]*f;a[11]=b[11]+c[11]*f;a[12]=b[12]+c[12]*f;a[13]=b[13]+c[13]*f;a[14]=b[14]+c[14]*f;a[15]=b[15]+c[15]*f;return a};f.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};f.fe=function(a,b){var l=a[0],f=a[1],n=a[2],e=a[3],d=a[4],
k=a[5],m=a[6],g=a[7],p=a[8],q=a[9],h=a[10],r=a[11],D=a[12],u=a[13],x=a[14];a=a[15];var H=b[0],V=b[1],G=b[2],F=b[3],E=b[4],K=b[5],I=b[6],M=b[7],Q=b[8],R=b[9],T=b[10],U=b[11],L=b[12],ba=b[13],ca=b[14];b=b[15];return Math.abs(l-H)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(H))&&Math.abs(f-V)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(V))&&Math.abs(n-G)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(G))&&Math.abs(e-F)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(F))&&Math.abs(d-E)<=c.EPSILON*Math.max(1,Math.abs(d),
Math.abs(E))&&Math.abs(k-K)<=c.EPSILON*Math.max(1,Math.abs(k),Math.abs(K))&&Math.abs(m-I)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(g-M)<=c.EPSILON*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(p-Q)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(Q))&&Math.abs(q-R)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(R))&&Math.abs(h-T)<=c.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(r-U)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(U))&&Math.abs(D-L)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(L))&&
Math.abs(u-ba)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(ba))&&Math.abs(x-ca)<=c.EPSILON*Math.max(1,Math.abs(x),Math.abs(ca))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};e.wd=f},function(e,b,a){var c=a(1),f=a(4),l=a(7);b=a(8);var n={create:function(){var a=new c.ob(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}};n.YS=function(){var a=l.create(),b=l.l(1,0,0),c=l.l(0,1,0);return function(f,e,d){var t=l.jc(e,d);if(-.999999>t)return l.Im(a,b,e),1E-6>l.length(a)&&l.Im(a,c,e),l.normalize(a,
a),n.OM(f,a),f;if(.999999<t)return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f;l.Im(a,e,d);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=1+t;return n.normalize(f,f)}}();n.$S=function(){var a=f.create();return function(b,c,l,f){a[0]=l[0];a[3]=l[1];a[6]=l[2];a[1]=f[0];a[4]=f[1];a[7]=f[2];a[2]=-c[0];a[5]=-c[1];a[8]=-c[2];return n.normalize(b,n.hK(b,a))}}();n.clone=b.clone;n.l=b.l;n.He=b.He;n.set=b.set;n.cg=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};n.OM=function(a,b){var c=Math.PI;c*=.5;var l=Math.sin(c);a[0]=l*b[0];
a[1]=l*b[1];a[2]=l*b[2];a[3]=Math.cos(c)};n.JR=function(a,b){var c=2*Math.acos(b[3]),l=Math.sin(c/2);0!=l?(a[0]=b[0]/l,a[1]=b[1]/l,a[2]=b[2]/l):(a[0]=1,a[1]=0,a[2]=0);return c};n.add=b.add;n.multiply=function(a,b,c){var l=b[0],f=b[1],n=b[2];b=b[3];var e=c[0],d=c[1],t=c[2];c=c[3];a[0]=l*c+b*e+f*t-n*d;a[1]=f*c+b*d+n*e-l*t;a[2]=n*c+b*t+l*d-f*e;a[3]=b*c-l*e-f*d-n*t;return a};n.gh=n.multiply;n.scale=b.scale;n.Vs=function(a,b,c){c*=.5;var l=b[0],f=b[1],n=b[2];b=b[3];var e=Math.sin(c);c=Math.cos(c);a[0]=
l*c+b*e;a[1]=f*c+n*e;a[2]=n*c-f*e;a[3]=b*c-l*e};n.Jy=function(a,b,c){c*=.5;var l=b[0],f=b[1],n=b[2];b=b[3];var e=Math.sin(c);c=Math.cos(c);a[0]=l*c-n*e;a[1]=f*c+b*e;a[2]=n*c+l*e;a[3]=b*c-f*e;return a};n.Ws=function(a,b,c){c*=.5;var l=b[0],f=b[1],n=b[2];b=b[3];var e=Math.sin(c);c=Math.cos(c);a[0]=l*c+f*e;a[1]=f*c-l*e;a[2]=n*c+b*e;a[3]=b*c-n*e};n.wP=function(a,b){var c=b[0],l=b[1];b=b[2];a[0]=c;a[1]=l;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-l*l-b*b));return a};n.jc=b.jc;n.eh=b.eh;n.ut=function(a,b,c,l){var f=
b[0],n=b[1],e=b[2];b=b[3];var d=c[0],t=c[1],v=c[2];c=c[3];var z=f*d+n*t+e*v+b*c;0>z&&(z=-z,d=-d,t=-t,v=-v,c=-c);if(1E-6<1-z){var k=Math.acos(z);var m=Math.sin(k);z=Math.sin((1-l)*k)/m;l=Math.sin(l*k)/m}else z=1-l;a[0]=z*f+l*d;a[1]=z*n+l*t;a[2]=z*e+l*v;a[3]=z*b+l*c};n.cT=function(){var a=n.create(),b=n.create();return function(c,l,f,e,d,t){n.ut(a,l,d,t);n.ut(b,f,e,t);n.ut(c,a,b,2*t*(1-t));return c}}();n.eg=function(a,b){var c=b[0],l=b[1],f=b[2];b=b[3];var n=c*c+l*l+f*f+b*b;n=n?1/n:0;a[0]=-c*n;a[1]=
-l*n;a[2]=-f*n;a[3]=b*n;return a};n.AP=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};n.length=b.length;n.bs=n.length;n.og=b.og;n.wt=n.og;n.normalize=b.normalize;n.hK=function(a,b){var c=b[0]+b[4]+b[8];if(0<c)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var l=0;b[4]>b[0]&&(l=1);b[8]>b[3*l+l]&&(l=2);var f=(l+1)%3,n=(l+2)%3;c=Math.sqrt(b[3*l+l]-b[3*f+f]-b[3*n+n]+1);a[l]=.5*c;c=.5/c;a[3]=(b[3*f+n]-b[3*n+f])*c;a[f]=(b[3*f+l]+b[3*l+
f])*c;a[n]=(b[3*n+l]+b[3*l+n])*c}return a};n.wh=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};n.Lc=b.Lc;n.fe=b.fe;e.wd=n},function(e,b,a){var c=a(1),f={create:function(){var a=new c.ob(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var b=new c.ob(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},l:function(a,b,f){var l=new c.ob(3);l[0]=a;l[1]=b;l[2]=f;return l},He:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,c,f){a[0]=b;a[1]=c;a[2]=f;return a},add:function(a,
b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a},Pc:function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}};f.sub=f.Pc;f.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a};f.gh=f.multiply;f.Ak=function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a};f.Ow=f.Ak;f.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};f.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);
return a};f.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};f.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};f.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};f.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};f.Zs=function(a,b,c,f){a[0]=b[0]+c[0]*f;a[1]=b[1]+c[1]*f;a[2]=b[2]+c[2]*f;return a};f.Yf=function(a,b){var c=
b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+f*f+a*a)};f.Mm=f.Yf;f.sl=function(a,b){var c=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return c*c+f*f+a*a};f.vt=f.sl;f.length=function(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)};f.bs=f.length;f.og=function(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a};f.wt=f.og;f.ts=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};f.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};f.normalize=function(a,b){var c=b[0],f=b[1],
l=b[2];c=c*c+f*f+l*l;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a};f.jc=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};f.Im=function(a,b,c){var f=b[0],l=b[1];b=b[2];var e=c[0],n=c[1];c=c[2];a[0]=l*c-b*n;a[1]=b*e-f*c;a[2]=f*n-l*e};f.eh=function(a,b,c,f){var l=b[0],e=b[1];b=b[2];a[0]=l+f*(c[0]-l);a[1]=e+f*(c[1]-e);a[2]=b+f*(c[2]-b);return a};f.ES=function(a,b,c,f,e,d){var l=d*d,n=l*(2*d-3)+1,t=l*(d-2)+d,v=l*(d-1);d=l*(3-2*d);a[0]=b[0]*n+c[0]*t+f[0]*v+e[0]*d;a[1]=b[1]*n+
c[1]*t+f[1]*v+e[1]*d;a[2]=b[2]*n+c[2]*t+f[2]*v+e[2]*d;return a};f.tP=function(a,b,c,f,e,d){var l=1-d,n=l*l,t=d*d,v=n*l;n*=3*d;l*=3*t;d*=t;a[0]=b[0]*v+c[0]*n+f[0]*l+e[0]*d;a[1]=b[1]*v+c[1]*n+f[1]*l+e[1]*d;a[2]=b[2]*v+c[2]*n+f[2]*l+e[2]*d;return a};f.random=function(a,b){b=b||1;var f=2*c.Gg()*Math.PI,l=2*c.Gg()-1,e=Math.sqrt(1-l*l)*b;a[0]=Math.cos(f)*e;a[1]=Math.sin(f)*e;a[2]=l*b;return a};f.Ra=function(a,b,c){var f=b[0],l=b[1];b=b[2];var e=c[3]*f+c[7]*l+c[11]*b+c[15];e=e||1;a[0]=(c[0]*f+c[4]*l+c[8]*
b+c[12])/e;a[1]=(c[1]*f+c[5]*l+c[9]*b+c[13])/e;a[2]=(c[2]*f+c[6]*l+c[10]*b+c[14])/e;return a};f.lO=function(a,b,c){var f=b[0],l=b[1];b=b[2];a[0]=f*c[0]+l*c[3]+b*c[6];a[1]=f*c[1]+l*c[4]+b*c[7];a[2]=f*c[2]+l*c[5]+b*c[8];return a};f.mO=function(a,b,c){var f=b[0],l=b[1],e=b[2];b=c[0];var n=c[1],d=c[2];c=c[3];var t=c*f+n*e-d*l,k=c*l+d*f-b*e,m=c*e+b*l-n*f;f=-b*f-n*l-d*e;a[0]=t*c+f*-b+k*-d-m*-n;a[1]=k*c+f*-n+m*-b-t*-d;a[2]=m*c+f*-d+t*-n-k*-b;return a};f.Vs=function(a,b,c){var f=[],l=[];f[0]=b[0]-c[0];f[1]=
b[1]-c[1];f[2]=b[2]-c[2];l[0]=f[0];l[1]=f[1]*Math.cos(void 0)-f[2]*Math.sin(void 0);l[2]=f[1]*Math.sin(void 0)+f[2]*Math.cos(void 0);a[0]=l[0]+c[0];a[1]=l[1]+c[1];a[2]=l[2]+c[2]};f.Jy=function(a,b,c,f){var l=[],e=[];l[0]=b[0]-c[0];l[1]=b[1]-c[1];l[2]=b[2]-c[2];e[0]=l[2]*Math.sin(f)+l[0]*Math.cos(f);e[1]=l[1];e[2]=l[2]*Math.cos(f)-l[0]*Math.sin(f);a[0]=e[0]+c[0];a[1]=e[1]+c[1];a[2]=e[2]+c[2];return a};f.Ws=function(a,b,c){var f=[],l=[];f[0]=b[0]-c[0];f[1]=b[1]-c[1];f[2]=b[2]-c[2];l[0]=f[0]*Math.cos(void 0)-
f[1]*Math.sin(void 0);l[1]=f[0]*Math.sin(void 0)+f[1]*Math.cos(void 0);l[2]=f[2];a[0]=l[0]+c[0];a[1]=l[1]+c[1];a[2]=l[2]+c[2]};f.forEach=function(){var a=f.create();return function(b,c,f,l,e,d){c||(c=3);f||(f=0);for(l=l?Math.min(l*c+f,b.length):b.length;f<l;f+=c)a[0]=b[f],a[1]=b[f+1],a[2]=b[f+2],e(a,a,d),b[f]=a[0],b[f+1]=a[1],b[f+2]=a[2];return b}}();f.angle=function(a,b){a=f.l(a[0],a[1],a[2]);b=f.l(b[0],b[1],b[2]);f.normalize(a,a);f.normalize(b,b);b=f.jc(a,b);return 1<b?0:Math.acos(b)};f.wh=function(a){return"vec3("+
a[0]+", "+a[1]+", "+a[2]+")"};f.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};f.fe=function(a,b){var f=a[0],l=a[1];a=a[2];var e=b[0],n=b[1];b=b[2];return Math.abs(f-e)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(e))&&Math.abs(l-n)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(n))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};e.wd=f},function(e,b,a){var c=a(1),f={create:function(){var a=new c.ob(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var b=new c.ob(4);
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},l:function(a,b,f,e){var l=new c.ob(4);l[0]=a;l[1]=b;l[2]=f;l[3]=e;return l},He:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},set:function(a,b,c,f,e){a[0]=b;a[1]=c;a[2]=f;a[3]=e;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a},Pc:function(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}};f.sub=f.Pc;f.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];
a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a};f.gh=f.multiply;f.Ak=function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a};f.Ow=f.Ak;f.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a};f.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a};f.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],
c[3]);return a};f.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a};f.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a};f.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a};f.Zs=function(a,b,c,f){a[0]=b[0]+c[0]*f;a[1]=b[1]+c[1]*f;a[2]=b[2]+c[2]*f;a[3]=b[3]+c[3]*f;return a};f.Yf=function(a,b){var c=b[0]-a[0],f=b[1]-a[1],e=b[2]-
a[2];a=b[3]-a[3];return Math.sqrt(c*c+f*f+e*e+a*a)};f.Mm=f.Yf;f.sl=function(a,b){var c=b[0]-a[0],f=b[1]-a[1],e=b[2]-a[2];a=b[3]-a[3];return c*c+f*f+e*e+a*a};f.vt=f.sl;f.length=function(a){var b=a[0],c=a[1],f=a[2];a=a[3];return Math.sqrt(b*b+c*c+f*f+a*a)};f.bs=f.length;f.og=function(a){var b=a[0],c=a[1],f=a[2];a=a[3];return b*b+c*c+f*f+a*a};f.wt=f.og;f.ts=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};f.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};
f.normalize=function(a,b){var c=b[0],f=b[1],e=b[2];b=b[3];var l=c*c+f*f+e*e+b*b;0<l&&(l=1/Math.sqrt(l),a[0]=c*l,a[1]=f*l,a[2]=e*l,a[3]=b*l);return a};f.jc=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};f.eh=function(a,b,c,f){var e=b[0],l=b[1],n=b[2];b=b[3];a[0]=e+f*(c[0]-e);a[1]=l+f*(c[1]-l);a[2]=n+f*(c[2]-n);a[3]=b+f*(c[3]-b);return a};f.random=function(a,b){b=b||1;a[0]=c.Gg();a[1]=c.Gg();a[2]=c.Gg();a[3]=c.Gg();f.normalize(a,a);f.scale(a,a,b);return a};f.Ra=function(a,b,c){var f=
b[0],e=b[1],l=b[2];b=b[3];a[0]=c[0]*f+c[4]*e+c[8]*l+c[12]*b;a[1]=c[1]*f+c[5]*e+c[9]*l+c[13]*b;a[2]=c[2]*f+c[6]*e+c[10]*l+c[14]*b;a[3]=c[3]*f+c[7]*e+c[11]*l+c[15]*b;return a};f.mO=function(a,b,c){var f=b[0],e=b[1],l=b[2],n=c[0],d=c[1],t=c[2];c=c[3];var k=c*f+d*l-t*e,m=c*e+t*f-n*l,g=c*l+n*e-d*f;f=-n*f-d*e-t*l;a[0]=k*c+f*-n+m*-t-g*-d;a[1]=m*c+f*-d+g*-n-k*-t;a[2]=g*c+f*-t+k*-d-m*-n;a[3]=b[3];return a};f.forEach=function(){var a=f.create();return function(b,c,f,e,l,d){c||(c=4);f||(f=0);for(e=e?Math.min(e*
c+f,b.length):b.length;f<e;f+=c)a[0]=b[f],a[1]=b[f+1],a[2]=b[f+2],a[3]=b[f+3],l(a,a,d),b[f]=a[0],b[f+1]=a[1],b[f+2]=a[2],b[f+3]=a[3];return b}}();f.wh=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};f.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};f.fe=function(a,b){var f=a[0],e=a[1],l=a[2];a=a[3];var n=b[0],d=b[1],k=b[2];b=b[3];return Math.abs(f-n)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(n))&&Math.abs(e-d)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(d))&&
Math.abs(l-k)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};e.wd=f},function(e,b,a){var c=a(1),f={create:function(){var a=new c.ob(2);a[0]=0;a[1]=0;return a},clone:function(a){var b=new c.ob(2);b[0]=a[0];b[1]=a[1];return b},l:function(a,b){var f=new c.ob(2);f[0]=a;f[1]=b;return f},He:function(a,b){a[0]=b[0];a[1]=b[1];return a},set:function(a,b,c){a[0]=b;a[1]=c;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a},Pc:function(a,
b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}};f.sub=f.Pc;f.multiply=function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a};f.gh=f.multiply;f.Ak=function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a};f.Ow=f.Ak;f.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};f.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a};f.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a};f.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],
c[1]);return a};f.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};f.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a};f.Zs=function(a,b,c,f){a[0]=b[0]+c[0]*f;a[1]=b[1]+c[1]*f;return a};f.Yf=function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)};f.Mm=f.Yf;f.sl=function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a};f.vt=f.sl;f.length=function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};f.bs=f.length;f.og=function(a){var b=a[0];a=a[1];return b*b+a*
a};f.wt=f.og;f.ts=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};f.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};f.normalize=function(a,b){var c=b[0],f=b[1];c=c*c+f*f;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a};f.jc=function(a,b){return a[0]*b[0]+a[1]*b[1]};f.Im=function(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b};f.eh=function(a,b,c,f){var e=b[0];b=b[1];a[0]=e+f*(c[0]-e);a[1]=b+f*(c[1]-b);return a};f.random=function(a,b){b=b||1;var f=2*c.Gg()*Math.PI;a[0]=Math.cos(f)*
b;a[1]=Math.sin(f)*b;return a};f.dU=function(a,b,c){var f=b[0];b=b[1];a[0]=c[0]*f+c[2]*b;a[1]=c[1]*f+c[3]*b;return a};f.eU=function(a,b,c){var f=b[0];b=b[1];a[0]=c[0]*f+c[2]*b+c[4];a[1]=c[1]*f+c[3]*b+c[5];return a};f.lO=function(a,b,c){var f=b[0];b=b[1];a[0]=c[0]*f+c[3]*b+c[6];a[1]=c[1]*f+c[4]*b+c[7];return a};f.Ra=function(a,b,c){var f=b[0];b=b[1];a[0]=c[0]*f+c[4]*b+c[12];a[1]=c[1]*f+c[5]*b+c[13];return a};f.forEach=function(){var a=f.create();return function(b,c,f,e,l,d){c||(c=2);f||(f=0);for(e=
e?Math.min(e*c+f,b.length):b.length;f<e;f+=c)a[0]=b[f],a[1]=b[f+1],l(a,a,d),b[f]=a[0],b[f+1]=a[1];return b}}();f.wh=function(a){return"vec2("+a[0]+", "+a[1]+")"};f.Lc=function(a,b){return a[0]===b[0]&&a[1]===b[1]};f.fe=function(a,b){var f=a[0];a=a[1];var e=b[0];b=b[1];return Math.abs(f-e)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(e))&&Math.abs(a-b)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};e.wd=f}])});k(2,0,function(){function e(a,b,c,f){this.set(a,b,c,f)}var b=m(1),a=b.S,c=b.g,f=b.I;a.l=a.l||
function(b,c,f,e,l,n,d,t,v,k,m,g,p,q,h,r){var z=a.create();z[0]=b;z[1]=c;z[2]=f;z[3]=e;z[4]=l;z[5]=n;z[6]=d;z[7]=t;z[8]=v;z[9]=k;z[10]=m;z[11]=g;z[12]=p;z[13]=q;z[14]=h;z[15]=r;return z};f.Lc=f.Lc||function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};var l=5/9,n=8/9,d=5/9,v=function(){var b=a.l(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),e=f.create(),l=f.create(),n=c.create();return function(a,d,t){f.set(e,3*a*a,2*a,1,0);f.Ra(l,e,b);f.set(n,f.jc(l,d),f.jc(l,t));return c.length(n)}}();
e.prototype.set=function(a,b,c,e){this.$a=f.l(a[0],a[1],0,1);this.nb=f.l(b[0],b[1],0,1);this.Ad=f.l(c[0],c[1],0,1);this.jd=f.l(e[0],e[1],0,1);this.Eo=f.l(a[0],b[0],c[0],e[0]);this.Fo=f.l(a[1],b[1],c[1],e[1])};e.prototype.clone=function(){return new e(c.clone(this.$a),c.clone(this.nb),c.clone(this.Ad),c.clone(this.jd))};e.prototype.Ra=function(a){var b=f.Ra(f.create(),this.$a,a),c=f.Ra(f.create(),this.nb,a),l=f.Ra(f.create(),this.Ad,a);a=f.Ra(f.create(),this.jd,a);f.scale(b,b,1/b[3]);f.scale(c,c,1/
c[3]);f.scale(l,l,1/l[3]);f.scale(a,a,1/a[3]);return new e(b,c,l,a)};e.prototype.length=function(a){var b=this.Eo,c=this.Fo;a*=.5;return a*(l*v(1.774597*a,b,c)+n*v(a,b,c)+d*v(1.225403*a,b,c))};e.prototype.Cs=function(){var b=f.create(),e=f.create(),l=a.create(),n=a.create();return function(d,t,v){var k=0,m=1,z=0,w=this.length(v);v=this.length(1);d=w-.5*t+d;for(t=0;10>t;t++){w=.5*(k+m);var g=this.length(w);d>g?(k=w,z=g):(m=w,v=g)}d=d/(v+z)*(k+m);k=d*d;f.set(b,d*k,k,d,1);f.set(e,3*k,2*d,1,0);a.set(l,
-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);f.Ra(n,b,l);d=c.l(f.jc(n,this.Eo),f.jc(n,this.Fo));k=f.Ra(f.create(),e,l);k=c.l(f.jc(k,this.Eo),f.jc(k,this.Fo));c.normalize(k,k);m=c.l(-k[1],k[0]);return{$N:k,position:d,by:m}}}();e.prototype.Pb=function(a,b){a=this.Ra(a);var c=a.$a,e=a.nb,l=a.Ad,n=a.jd,d=b[0];b=b[1];c[0]=d*(c[0]+1)*.5;c[1]=b*(c[1]+1)*.5;e[0]=d*(e[0]+1)*.5;e[1]=b*(e[1]+1)*.5;l[0]=d*(l[0]+1)*.5;l[1]=b*(l[1]+1)*.5;n[0]=d*(n[0]+1)*.5;n[1]=b*(n[1]+1)*.5;a.Eo=f.l(c[0],e[0],l[0],n[0]);a.Fo=f.l(c[1],
e[1],l[1],n[1]);return a};e.prototype.scale=function(a){var b=this.clone(),c=b.$a,e=b.nb,l=b.Ad,n=b.jd;f.scale(c,c,a);f.scale(e,e,a);f.scale(l,l,a);f.scale(n,n,a);return b};e.prototype.Bx=function(){this.set(this.jd,this.Ad,this.nb,this.$a)};e.prototype.direction=function(){return c.sub(c.create(),this.jd,this.$a)};e.prototype.Ny=function(){return{$a:this.$a,nb:this.nb,Ad:this.Ad,jd:this.jd}};e.prototype.Fx=function(){return!1};e.yz=function(a){return new e(a.$a,a.nb,a.Ad,a.jd)};return e});k(3,0,
function(){var e=m(1),b=m(2),a={},c;for(c in Math)a[c]=Math[c];a.fs=e.fs;a.Ux=e.Ux;a.gs=e.gs;a.S=e.S;a.Jn=e.Jn;a.g=e.g;a.Ba=e.Ba;a.I=e.I;a.Jn=e.Jn;a.IO=b;var f=Math.PI/180;a.px=.5*Math.PI;a.vz=function(a){return f*a};a.yh=a.vz;a.dA=Math.log(2);a.log2="function"===typeof Math.log2?Math.log2.bind(Math):function(b){return Math.log(b)/a.dA};var l=a.I.create();a.g.Pb=function(b,c,f,e){l[0]=c[0];l[1]=c[1];l[2]=0;l[3]=1;a.I.Pb(l,l,f,e);b[0]=l[0];b[1]=l[1]};a.Ba.Pb=function(b,c,f,e){l[0]=c[0];l[1]=c[1];l[2]=
c[2];l[3]=1;a.I.Pb(b,l,f,e);b[0]=l[0];b[1]=l[1];b[2]=0};a.I.Pb=function(b,c,f,e){a.I.Ra(b,c,f);a.I.scale(b,b,1/b[3]);b[0]=e[0]*(b[0]+1)*.5;b[1]=e[1]*(b[1]+1)*.5;b[2]=0;b[3]=1};a.ym=function(a,b,c){return Math.min(c,Math.max(b,a))};a.vec2=a.g;a.vec3=a.Ba;a.vec4=a.I;a.mat2=a.fs;a.mat3=a.gs;a.mat4=a.S;a.g.toScreenSpace=a.g.Pb;a.Ba.toScreenSpace=a.Ba.Pb;a.I.toScreenSpace=a.I.Pb;a.g.fromValues=a.g.l;a.Ba.fromValues=a.Ba.l;a.I.fromValues=a.I.l;a.I.transformMat4=a.I.Ra;a.S.multiply=a.S.multiply;return a});
k(4,0,function(){return{rL:8,global:{}}});k(5,0,function(){var e=m(3),b=m(4),a=m(0),c={};c.Fb=function(){var a=0;return function(){return a++}}();c.uI=function(b,c,f){var l=Math.pow(2,-b.z-.001);c=c[1]/a.Vd*l;return{target:e.Ba.l((b.x+.5)*l,1-(b.y+.5)*l,0),zoom:.5*c/Math.tan(.5*f)}};c.hx=function(a){for(var b=1,c=1,f=1;f<a;)b>c?c*=2:b*=2,f*=2;return e.g.l(b,c)};c.GS=function(a){for(;0===(a&1)&&1<a;)a>>=1;return 1===a};c.LR=function(a){for(var b=1;b<a;)b<<=1;return b};c.Fr=function(a){for(var b=1;b<=
a;)b<<=1;return b};c.LM=function(){};c.random=Math.random;var f=null;c.ox=function(a){var b=a?a.split("?")[1]:location.search.substr(1);if(!a&&f)return f;var c={};b=b.split("&");for(var e=0,l=b.length;e<l;e++){var d=b[e].split("=");2===d.length&&(c[decodeURIComponent(d[0])]=decodeURIComponent(d[1]))}a||(f=c);return c};c.TH=function(a){for(var b in a)null!==a[b]?f[b]=a[b]:delete f[b]};c.MM=function(a){a=a||f;var b="",c;for(c in a)b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&";return b.substr(0,
b.length-1)};c.Re=function(a){return Object.keys(a).map(function(b){return a[b]})};c.Mw=function(a,c){b.global[a]=c};c.Yg=function(a){for(var b in a)c.Mw(b,a[b])};c.ix=function(a){var b=a.indexOf(".");return-1!==b?a.substr(0,b):a};c.Ht=function(a,b){return c.ix(a)===c.ix(b)};c.cK=function(a,b){return a.replace(/{{(.*?)}}/g,function(a,c){return b[c]})};c.Bn=function(a){return 3===a.length?[a[0]/255,a[1]/255,a[2]/255]:[a[0]/255,a[1]/255,a[2]/255,a[3]/255]};c.KS=function(a,b){b="object"===typeof b?Object.keys(b)[0]:
b;b=a[b];var c=[],f;for(f in a)a[f]===b&&c.push(f);return{cI:c,Sm:b,SS:function(b){this.cI.forEach(function(c){a[c]=b})}}};c.getURLParameters=c.ox;c.serializeParameters=c.MM;c.addURLParameters=c.TH;c.toArray=c.Re;c.cameraPropertiesFromTileKey=c.uI;c.defineGlobal=c.Mw;c.defineGlobals=c.Yg;c.versionsHaveMatchingMajorComponent=c.Ht;c.normalizedColor=c.Bn;c.ox();return c});k(6,0,function(){function e(a){this.xm=a;this.Fe=!1}function b(a,b,c){this.size=a;this.x=b;this.y=c;this.items=[];this.reset()}function a(a,
c,e){this.pc=c;this.hg=e||f.g.l(0,0);e=2*this.hg[0]+(c[0]||a);c=2*this.hg[1]+(c[1]||a);this.Ze=a||10;this.Ed=[];for(var l=0;l<e;l+=a){for(var n=[],d=0;d<c;d+=a){var t=new b(a,l,d);n.push(t)}this.Ed.push(n)}}var c=m(5),f=m(3);e.prototype.xr=function(a){for(var b=0,c=this.xm.length;b<c&&!a(this.xm[b],b);b++);};b.prototype.reset=function(){this.count=0;this.items.length=0};a.prototype.clear=function(){for(var a=0,b=this.Ed.length;a<b;a++)for(var c=this.Ed[a],f=0,e=c.length;f<e;f++)c[f].reset()};a.prototype.uK=
function(a){var b=[];a=a.cells;for(var c=0,f=a.length;c<f;++c)b=b.concat(a[c].items);return b};a.prototype.eK=function(a,b){var c=a.x+this.hg[0],f=a.y+this.hg[1],e=Math.min(c+a.Rc,this.pc[0]+2*this.hg[0]);a=Math.min(f+a.cd,this.pc[1]+2*this.hg[1]);if(0>e||c>=this.pc[0]+2*this.hg[0]||0>a||f>=this.pc[1]+2*this.hg[1])return!1;c=Math.floor(c/this.Ze);f=Math.floor(f/this.Ze);0>c&&(c=0);0>f&&(f=0);var l=c;do{var d=f;c=this.Ed[l][d];if(c.x>e)break;do{if(void 0===this.Ed[l]||void 0===this.Ed[l][d])debugger;
c=this.Ed[l][d];if(c.y>a)break;if(b(c))return!1;d++}while(d<this.Ed[l].length);l++}while(l<this.Ed.length);return!0};a.prototype.mK=function(a){function b(b){a.cells.push(b);return!1}a.cells=[];var c=this,f=!1;a.xr(function(a){return f=!c.eK(a,b)})};a.prototype.mw=function(a){a.cells.forEach(function(b){b.items.push(a)})};a.prototype.yy=function(a){for(var b=0,c=a.cells.length;b<c;b++){var f=a.cells[b];f.items.splice(f.items.indexOf(a),1)}delete a.Fe};a.prototype.GI=function(a){a=new e(a);a.id=c.Fb();
return a};return a});k(7,0,function(){function e(a,b){var c=a.La[0]-b.La[0],f=a.La[1]-b.La[1];a=a.kg+b.kg;return a*a>=c*c+f*f}function b(a,b){var c=.5*b.Rc,l=.5*b.cd,d=c+a.kg,n=l+a.kg,t=[b.x+c,b.y+l],k=t[0]-a.La[0],m=t[1]-a.La[1];return k*k+m*m>=d*d+n*n?!1:e(a,new f(t,c<l?c:l))?!0:a.La[0]>=b.x&&a.La[0]<=b.x+b.Rc?b.Nr(0,-a.kg).contains(a.La):a.La[1]>=b.y&&a.La[1]<=b.y+b.cd?b.Nr(-a.kg,0).contains(a.La):!0}function a(a,b,c,f,e){this.x=a;this.y=b;this.Rc=c;this.cd=f;this.angle=e}function c(a,b,c,f){this.x=
a;this.y=b;this.Rc=c;this.cd=f}function f(a,b){this.La=a;this.kg=b;this.x=a[0]-b;this.y=a[1]-b;this.cd=this.Rc=a=2*b}var l=m(3);a.prototype.contains=function(a){var b=l.g.l(.5*this.Rc*Math.cos(this.angle),.5*this.Rc*Math.sin(this.angle)),c=l.g.l(.5*this.cd*Math.cos(this.angle+l.px),.5*this.cd*Math.sin(this.angle+l.px)),f=l.g.l(this.x-b[0]-c[0],this.y-b[1]-c[1]),e=l.g.l(this.x-b[0]+c[0],this.y-b[1]+c[1]),d=l.g.l(this.x+b[0]+c[0],this.y+b[1]+c[1]);b=l.g.l(this.x+b[0]-c[0],this.y+b[1]-c[1]);var n=l.g.create();
c=l.g.create();var k=l.g.sub(n,e,f),m=l.g.sub(c,a,f);if(0>l.g.jc(k,m))return!1;k=l.g.sub(n,d,e);e=l.g.sub(c,a,e);if(0>l.g.jc(k,e))return!1;e=l.g.sub(n,b,d);d=l.g.sub(c,a,d);if(0>l.g.jc(e,d))return!1;f=l.g.sub(n,f,b);a=l.g.sub(c,a,b);return 0<=l.g.jc(f,a)};a.prototype.wk=function(){};a.prototype.Yq=function(){};a.prototype.Fe=function(){};c.prototype.La=function(){return l.g.l(this.x+.5*this.Rc,this.y+.5*this.cd)};c.jK=function(a){var b=a.min();return new c(b[0],b[1],a.width(),a.height())};c.prototype.contains=
function(a){return this.x<=a[0]&&this.x+this.Rc>=a[0]&&this.y<=a[1]&&this.y+this.cd>=a[1]};c.prototype.Fe=function(a){return a.wk(this)};c.prototype.wk=function(a){return this.x<a.x+a.Rc&&this.y<a.y+a.cd&&this.x+this.Rc>a.x&&this.y+this.cd>a.y};c.prototype.Yq=function(a){return b(a,this)};c.prototype.Nr=function(a,b){return new c(this.x+a,this.y+b,this.Rc-2*a,this.cd-2*b)};f.prototype.contains=function(a){var b=a[0]-this.La[0];a=a[1]-this.La[1];return this.kg*this.kg>=b*b+a*a};f.prototype.Fe=function(a){return a.Yq(this)};
f.prototype.wk=function(a){return b(this,a)};f.prototype.Yq=function(a){return e(this,a)};return{pA:a,Lo:c,Wt:f}});k(8,0,function(){var e=m(5);return{Y:function(b,a){Object.defineProperty(b.prototype,"__IS_NOT_INSTANCE__",{enumerable:!1,writable:!0});b.prototype.vu=!0;a.prototype=new b;b.prototype.vu=!1;a.prototype.constructor=a;Object.defineProperty(a.prototype,"classId",{enumerable:!1,writable:!0});e.Fb();a.prototype.parent=b.prototype},Qa:function(b){return!b.vu}}});k(9,0,function(){function e(){c.Qa(this)&&
(this.cc=[])}function b(){c.Qa(this)&&e.prototype.constructor.apply(this,arguments)}function a(){e.prototype.constructor.apply(this,arguments)}var c=m(8),f=m(3);e.prototype.wG=function(a){this.cc.push(a)};e.prototype.As=function(a,b,c){this.gz();b.push(this.cc[0]);var e,l=a*a,d=b.length-1;a=1;for(e=this.cc.length;a<e;a++){var n=this.cc[a];for(var t=!1,k=d,m=b.length;k<m;k++)if(f.g.vt(b[k].H.La,n.H.La)<l){t=!0;break}t?c.push(n):b.push(n)}};c.Y(e,b);b.prototype.gz=function(){this.cc.sort(function(a,
b){return b.H.Rd!==a.H.Rd?b.H.Rd-a.H.Rd:a.H.id.localeCompare(b.H.id)})};c.Y(e,a);a.prototype.gz=function(){this.cc.sort(function(a,b){return a.H.Ud.ud!==b.H.Ud.ud?a.H.Ud.ud-b.H.Ud.ud:a.H.Rd!==b.H.Rd?b.H.Rd-a.H.Rd:a.H.id.localeCompare(b.H.id)})};e.Tz=b;e.oA=a;return e});k(10,0,function(){return{w:0,Qo:1,El:2,Dc:3,Mo:4,JO:5,Zt:6}});k(11,0,function(){function e(c){c.Ma=function(a,b,c,f){var e=this.We||{},l=e[a]||[];l.push({ee:b,context:c||b,once:f?1:0});e[a]=l;this.We=e;return this};c.va=function(a,
c,f){this.We=this.We||[];if(0===arguments.length)return delete this.We,this;if(1===arguments.length)return delete this.We[a],this;var e=this.We[a];if(void 0===e)return this;f?c?(c=c.KA?c.KA:c,b(e,function(a){if(a.ee===c&&a.context===f)return!0;if(a=a.ee.hp)return a.ee===c&&a.context===f})):b(e,function(a){if(a.context===f)return!0;if(a=a.ee.hp)return a.context===f}):b(e,function(a){if(a.ee===c)return!0;if(a=a.ee.hp)return a.ee===c});return this};c.M=function(a,b){if(void 0!==this.We){var c=this.We[a];
if(void 0!==c){for(var f=0,e=0,l=c.length;e<l;e++){var d=c[e];f+=d.once;d.ee.call(d.context,b)}f&&(this.We[a]=c.filter(function(a){return!a.once}));return this}}};c.once=function(a,b,c){return this.Ma(a,b,c,!0)};c.race=function(){return new a(this)};c.JA=!0;c.on=c.Ma;c.off=c.va;c.once=c.once;c.race=c.race;c.notify=c.M}function b(a,b){for(var c=0,f=0,e=a.length;c<e;c++)b(a[f])?a.splice(f,1):f++}function a(a){this.object=a;this.fl=[];c.Fb()}var c=m(5),f;a.prototype.add=function(a,b,c){function e(a){d.HD||
(d.HD=!0,d.fl.splice(l.index,1),f.Bf.ma(function(){for(var a=0,b=d.fl.length;a<b;a++){var c=d.fl[a];d.object.va(c.id,c.ee,c.context)}}),l.ee.call(l.context,a))}var l={id:a,ee:b,context:c,index:this.fl.length},d=this;d.fl.push(l);e.hp=l;this.object.once(a,e,c);return this};e(a.prototype);a.prototype.add=a.prototype.add;var l={Ry:function(a){f=a},da:e,forward:function(a,b){if("object"===typeof b){var c=b;b=c.M.bind(c)}var f=a.M;a.M=function(a,c){b(a,c);f.apply(this,arguments)}},bL:function(a){return!0===
a.JA}};l.decorate=e;return l});k(12,0,function(){function e(){this.id=c.Fb();this.Id=b.g.create();this.Jd=b.g.create();this.Wc=b.g.create();this.hm=!0;this.Oj=!1;this.bm=f.fu;Object.defineProperty(this,"x",{get:function(){return this.Id[0]},set:function(a){this.Id[0]!==a&&(this.Id[0]=a,this.Rh())}});Object.defineProperty(this,"y",{get:function(){return this.Id[1]},set:function(a){this.Id[1]!==a&&(this.Id[1]=a,this.Rh())}});Object.defineProperty(this,"width",{get:function(){return this.Jd[0]},set:function(a){this.Jd[0]!==
a&&(this.Jd[0]=a,this.Rh())}});Object.defineProperty(this,"height",{get:function(){return this.Jd[1]},set:function(a){this.Jd[1]!==a&&(this.Jd[1]=a,this.Rh())}});Object.defineProperty(this,"xOffset",{get:function(){return this.Wc[0]},set:function(a){this.Wc[0]!==a&&(this.Wc[0]=a,this.Rh())}});Object.defineProperty(this,"yOffset",{get:function(){return this.Wc[1]},set:function(a){this.Wc[1]!==a&&(this.Wc[1]=a,this.Rh())}});this.Rf=!1}var b=m(3),a=m(11),c=m(5),f={fu:1,Yo:2,Tt:3};e.prototype.gt=function(a){this.bm=
a};e.prototype.Es=function(){return this.bm};e.prototype.az=function(){this.hm=!1};e.prototype.Vy=function(){this.Oj=!0};e.prototype.Rh=function(){this.xc();this.M("property-changed")};e.prototype.xc=function(){this.Rf=!0};e.prototype.Lk=function(){return this.Rf};e.prototype.Cd=function(){var a=this.nd();a.KM=this.hm;a.IL=this.Oj;a.Es=this.bm;return a};e.prototype.Yd=function(a){this.Id[0]=a.location[0];this.Id[1]=a.location[1];this.Jd[0]=a.size[0];this.Jd[1]=a.size[1];this.Wc[0]=a.offset[0];this.Wc[1]=
a.offset[1]};e.create=function(a){var b=new e;b.id=a.id;b.hm=a.KM;b.Oj=a.IL;b.bm=a.Es;b.Yd(a);return b};e.prototype.nd=function(){return{id:this.id,location:this.Id,offset:this.Wc,size:this.Jd}};e.prototype.location=function(){return this.Id};e.prototype.size=function(){return this.Jd};e.prototype.offset=function(){return this.Wc};var l=b.g.create(),d=b.g.create(),t=b.g.create();e.prototype.IM=function(a,c,f){var e=this.Jd,n=b.g.l(0,0),k=b.g.l(e[0],e[1]);if(this.Oj){b.g.Pb(l,this.Id,c,f);var m=b.g.l(e[0],
0);e=b.g.l(0,e[1]);b.g.Pb(n,n,c,f);b.g.Pb(k,k,c,f);b.g.Pb(m,m,c,f);b.g.Pb(e,e,c,f);c=0;n[1]>m[1]?(c=Math.PI,k=b.g.sub(t,n,m)):k=b.g.sub(t,m,n);f=b.g.length(k);b.g.normalize(k,k);k=b.g.jc(k,b.g.l(1,0));c+=Math.acos(k);n=b.g.length(b.g.sub(t,e,n));e=d;e[0]=f;e[1]=n;a.x=l[0];a.y=l[1];a.Rc=f;a.cd=n;a.angle=c}else b.g.Pb(l,this.Id,c,f),e=this.Jd,m=this.Wc,this.hm||(b.g.Pb(n,n,c,f),b.g.Pb(k,k,c,f),e=d,e[0]=k[0]-n[0],e[1]=k[1]-n[1]),a.x=l[0]-.5*e[0]+m[0],a.y=l[1]-.5*e[1]+m[1],a.Rc=e[0],a.cd=e[1]};a.da(e.prototype);
e.Jh=f;return e});k(13,0,function(){function e(b){this.XC=!0;this.Wh=a.Uo;var c=this;try{b.call(this,function(a){c.wv(a)},function(a){c.Kp(a)})}catch(l){e.Jp(this.Kp.bind(this),l)}}var b=m(11),a={Uo:0,Yt:1,ku:2};e.Jp=function(a,b){"string"===typeof b?a(b):a(b.message)};e.timeout=function(a){var b,c,d=new e(function(f,e){c=e;b=setTimeout(f,a)});d.cancel=function(a){clearTimeout(b);c(a)};return d};e.Rk=function(a){return"object"===typeof a&&a&&!0===a.XC};e.all=function(a){var b=null,c=null;if(0===a.length)return e.resolve([]);
var d=new e(function(a,f){c=a;b=f});for(var t=[],k=a.length,m=!1,g=0,p=a.length;g<p;g++)(function(a,f){e.Rk(a)||(a=e.resolve(a));a.then(function(a){t[f]=a;--k;k||c(t)},function(a){m||(m=!0,b(a))})})(a[g],g);return d};e.race=function(a){for(var b=null,c=null,d=new e(function(a,f){b=a;c=f}),t=0,k=a.length;t<k;t++){var m=a[t];if(!e.Rk(m)){b(m);break}if(m.Sk()){m.cL()?c(m.Up):b(m.qq);break}m.then(function(a){!d.Sk()&&b(a)},function(a){!d.Sk()&&c(a)})}return d};e.reject=function(a){return new e(function(b,
c){c(a)})};e.resolve=function(a){return new e(function(b){b(a)})};e.prototype.Rr=function(){return this.Wh===a.Uo};e.prototype.Sk=function(){return this.Wh!==a.Uo};e.prototype.cL=function(){return this.Wh===a.ku};e.prototype.YK=function(){return this.Wh===a.Yt};e.prototype.wv=function(b){if(e.Rk(b)){var c=this;b.then(function(a){c.wv(a)},function(a){c.Kp(a)})}else this.Wh=a.Yt,this.qq=b,this.M("fulfilled",b),this.va("fulfilled"),this.va("rejected")};e.prototype.Kp=function(b){this.Wh=a.ku;this.Up=
b;this.M("rejected",b);this.va("rejected");this.va("fulfilled")};e.prototype.catch=function(a){return this.then(null,a)};e.prototype.then=function(a,b){var c=this;return this.Sk()?this.YK()?a?new e(function(b){b(a(c.qq))}):e.resolve(this.qq):b?new e(function(a){a(b(c.Up))}):e.reject(this.Up):new e(function(f,l){c.Ma("fulfilled",function(b){if(a)try{b=a(b),f(b)}catch(z){e.Jp(l,z)}else f(b)});c.Ma("rejected",function(a){if(b)try{var c=b(a);f(c)}catch(C){e.Jp(l,C)}else l(a)})})};b.da(e.prototype);e.prototype.then=
e.prototype.then;e.prototype["catch"]=e.prototype.catch;e.race=e.race;e.all=e.all;e.timeout=e.timeout;e.isPromise=e.Rk;return e});k(14,0,function(){var e=0,b={Rt:e++,St:e++,wA:e++,Mz:e++,vA:e++,Pt:e++,Nz:e++,Hz:e++,Jz:e++,hu:e++,qu:e++,XO:e++};b.count=e++;return b});k(15,0,function(){var e={},b=0;e.qj=b++;e.ue=b++;e.ub=b++;e.Te=b++;e.Gf=b++;e.Ig=b++;e.Df=b++;e.$d=b++;e.se=b++;e.U=b++;e.Fa=b++;e.gc=b++;e.Ec=b++;e.$=b++;e.qa=b++;e.V=b++;e.w=b++;e.rc=b++;e.Dc=b++;e.Ve=b++;e.count=b++;var a={Bg:0,kj:1,
Hh:2,yj:3,xA:4,ap:5,ou:100},c={};c[a.Bg]={standard:{style:"standard",za:[e.U,e.Ec,e.$,e.gc,e.qa,e.V,e.w,e.rc]},hybrid:{style:"hybrid",za:[e.$,e.qa,e.V,e.w,e.rc]},satellite:{style:"satellite",za:[e.ub]}};c[a.kj]={standard:{style:"standard",za:[e.U,e.Ec,e.$,e.gc,e.qa]},hybrid:{style:"hybrid",za:[e.$,e.qa]},satellite:{style:"satellite",za:[e.ub]}};c[a.Hh]={standard:{style:"standard",za:[e.$d,e.V,e.w,e.rc]},hybrid:{style:"hybrid",za:[e.se,e.V,e.w,e.rc]},satellite:{style:"satellite",za:[e.ub]}};c[a.yj]=
{standard:{style:"standard",za:[e.ue]},hybrid:{style:"hybrid",za:[e.ub,e.Te]},satellite:{style:"satellite",za:[e.ub]}};c[a.xA]={standard:{style:"standard",za:[e.$d]},hybrid:{style:"hybrid",za:[e.ub,e.se]},satellite:{style:"satellite",za:[e.ub]}};c[a.ou]={standard:{style:"standard",za:[e.Gf]},hybrid:{style:"hybrid",za:[e.ub,e.Df]},satellite:{style:"satellite",za:[e.ub]}};c[a.ap]={standard:{style:"standard",za:[e.U,e.Ec,e.$,e.gc,e.qa,e.V,e.w,e.rc]},hybrid:{style:"hybrid",za:[e.ub,e.$,e.qa,e.V,e.w,e.rc]},
satellite:{style:"satellite",za:[e.ub]}};for(var f in a){b=c[a[f]];for(var l in b)"hybrid"===l&&b[l].za.unshift(e.ub),b[l].za.unshift(e.qj)}Object.freeze(c);e.wy=function(b,f,l){b===a.yj&&(l&&(b=a.ou),l=!0);b=c[b][f];var d=b.za.slice();l||"satellite"===f||d.push(e.Dc);f={za:d,style:b.style};f.layers=f.za;f.style=f.style;return f};var d=["standard","hybrid","satellite"];Object.freeze(d);e.pL=function(){return d};e.Vc=a;a.Default=a.Bg;a.BaseMapOnly=a.kj;a.LOCSR=a.Hh;a.SSR=a.yj;a.Snapshot=a.ap;e.RenderingModes=
e.Vc;e.StandardRasterTile_NoPOI=e.Gf;e.StandardRasterTile_NoLabels=e.$d;e.SatelliteRasterTile_NoPOI=e.Ig;e.HybridRasterTile_NoPOI=e.Df;e.HybridRasterTile_NoLabels=e.se;e.StandardRasterTile=e.ue;e.SatelliteRasterTile=e.ub;e.HybridRasterTile=e.Te;e.Polygon=e.U;e.Building=e.gc;e.Road=e.$;e.River=e.Ec;e.Shield=e.V;e.TextLabel=e.w;e.RoadTextLabel=e.rc;e.POILabel=e.Dc;e.Grid=e.qj;e.RoadArrow=e.qa;e.propertiesFromMapMode=e.wy;e.mapModes=e.pL;e.colorSchemeForDisplayOptions=e.zP;e.Lz=[e.U,e.Fa,e.Ec,e.gc,e.$,
e.ub,e.ue,e.$d];return e});k(18,0,function(){function e(a,b){this.ye=!1;this.fq=!0;this.Vq=a;this.ME=b;this.pc=[0,0];this.reset()}var b=m(0),a=m(3),c=m(6),f=m(7),l=f.Lo,d=f.pA;f=m(9);var t=f.Tz,k=f.oA,g=m(10),p=m(12);e.prototype.reset=function(){this.cc=[];this.Pf={};this.Pk={};this.rl={};this.vk={};this.Ej={};this.Ej[b.Hy]={pn:0,$c:0,Bm:0,Ri:0,Li:0,ud:0,Tn:!1,visible:!0,jb:!1};this.Ej[b.Cx]={pn:0,$c:0,Bm:0,Ri:0,Li:0,ud:0,Tn:!1,visible:!1,jb:!1};this.resize(this.pc)};e.prototype.resize=function(b){this.pc=
b;b=this.ye?a.g.clone(this.pc):a.g.l(0,0);a.g.scale(b,b,4);this.Ge=new c(this.Vq,this.pc,b)};e.prototype.Oi=function(a){this.fq=a};e.prototype.Oe=function(a){this.ye=a;this.resize(this.pc)};e.prototype.mh=function(a){for(var b=0,c=a.length;b<c;++b){var f=a[b];this.Ej[f.id]=f}};e.prototype.Ne=function(b){switch(b.Es()){case p.Jh.fu:this.Pk[b.id]=b;break;case p.Jh.Yo:this.rl[b.id]=b;break;case p.Jh.Tt:this.vk[b.id]=b}var c=b.Oj?new d(0,0,0,0,0):new l(0,0,0,0);b.H={b:c,Pe:a.g.create()}};e.prototype.Se=
function(a){[this.Pk,this.rl,this.vk].forEach(function(b){delete b[a]})};e.prototype.mq=function(a,b){[this.Pk,this.rl,this.vk].forEach(function(c){for(var f in c){var e=c[f];e.IM(e.H.b,b,a)}})};e.prototype.cw=function(a,c){if(a.H.ar!==c){var f=this.Ej[a.element.uc[Math.min(Math.max(a.Dw[0],c),a.Dw[1])]],e=a.Um(f);e.$c=e.$c||b.YI;switch(a.type){case g.Dc:case g.w:e.lc=0;break;case g.Qo:e.lc=f.Li;e.ke=255;break;case g.El:e.lc=f.Ri;e.ke=255;break;case g.Mo:e.lc=a.L[0]?0:255,e.ke=255}a.Wb?(e.lc=Math.max(.1*
Math.floor(10*a.Wb),e.lc),e.Cm=a.Wb):e.Cm||(e.Cm=e.lc);a.H.Ud=e;a.H.ar=c}};e.prototype.WE=function(a){for(var b in this.Pf){var c=this.Pf[b],f=c[0];this.cw(f,a);for(var e=1,l=c.length;e<l;e++){var d=c[e];this.ye?this.cw(d,a):(d.H.Ud=f.H.Ud,d.H.ar=f.H.ar)}}};e.prototype.nM=function(a){a.H={id:a.element.ea.key.id+":"+a.bg,Lt:!1};a.mt(this.Ej);var b=a.Ub,c=this.Pf[b]||[],f=c.length;if(!this.ye&&f)for(var e=0;e<f;e++){var l=c[0];a.H.Ho=a.H.Ho||l.H.Ho;if(l.show){a.dz(l);break}}c.unshift(a);this.Pf[b]=
c};e.prototype.oO=function(a){var b=a.Ub,c=this.Pf[b];1===c.length?delete this.Pf[b]:(c.splice(c.indexOf(a),1),a.show&&c.forEach(function(b){b.dz(a)}))};e.prototype.YE=function(){this.cc=[];for(var a in this.Pf){var b=this.Pf[a];b.forEach(function(a,b){a.H.fn=a.show||a.H.Lt;a.H.VS=b;a.fM()});this.cc.push.apply(this.cc,b)}};e.prototype.dD=function(a,b){for(var c=0,f=this.cc.length;c<f;c++){var e=this.cc[c];e.H.yt=e.mx(a,this.pc,b,this.ME)}};e.prototype.zC=function(a,b,c){var f=this.cc;if(this.ye){var e=
0;this.cc.forEach(function(a){e=Math.max(a.element.ea.key.z,e)});var d={};this.cc.forEach(function(a){if(!a.ff&&(a=a.element.ea.key,e===a.z&&!d[a.id])){var f=a.ei().Pb(b,c);a.Tv=l.jK(f);a.GE=a.Tv.La();d[a.id]=a}});f=f.filter(function(a){if(a.ff)return!1;var b=a.H.yt,c=b.length,f;for(f in d)for(var e=d[f],l=e.Tv,n=0;n<c;n++){var t=a.$s(b[n]);if(l.contains(t))return a.H.gr=e,!0}});this.Ru=d}return f=f.filter(function(b){if(b.ff)return!1;var c=b.H.Ud;return b.H.yt.length&&c.visible&&c.lc<=a})};e.prototype.update=
function(a,b,c,f,e){var l=Math.floor(c);this.YE();this.dD(b,c);this.WE(l);this.mq(a,b);b=this.zC(c,a,b);f&&(this.Ge.clear(),f=this.fB(b),f.forEach(function(a){a.H.La=a.JM()}),e&&this.RB(f,a),this.fq&&this.VA());this.cc.forEach(function(a){a.zI()})};e.prototype.oC=function(a,b){for(var c=a.H.yt,f=0,e=c.length;f<e;f++){var l=c[f],d=a.Hk(l,a.H.Ud);if(0!==d.length&&(d=this.Ge.GI(d),b(d,l)))break}};e.prototype.YC=function(a,b){if(b===a)return!1;a=a.xm;b=b.xm;for(var c=0,f=a.length;c<f;c++)for(var e=a[c],
l=0,d=b.length;l<d;l++)if(b[l].Fe(e))return!0;return!1};e.prototype.Lu=function(a){if(0===a.cells.length)a.Fe=!0;else{for(var b=this.Ge.uK(a),c=0,f=b.length;c<f;c++)if(this.YC(a,b[c])){a.Fe=!0;return}a.Fe=!1}};e.prototype.Sv=function(a,b){var c=this;return a.sort(function(a,f){var e=a.H.Ud,l=f.H.Ud;if(b&&a.element.ea.key.id!==f.element.ea.key.id)return a.element.ea.key.id.localeCompare(f.element.ea.key.id);if(e.$c!==l.$c)return e.$c-l.$c;e=e.Cm;l=l.Cm;if(e!==l)return e-l;if(!c.ye){if(a.Sr()!==f.Sr())return a.Sr()?
-1:1;if(a.H.fn!==f.H.fn)return a.H.fn?-1:1}return a.H.id.localeCompare(f.H.id)})};e.prototype.fB=function(a){var b=this,c="none";a=this.Sv(a,this.ye);a=a.filter(function(a){a.H.$q=null;a.H.position=null;var f=a.element.ea.key.id;b.ye&&f!==c&&(b.Ge.clear(),c=f);var e=!1;b.oC(a,function(c,f){var l;if(b.fq&&(l=b.gB(c)))return a.show=!1;b.Ge.mK(c);b.Ge.mw(c);b.Lu(c);c.Fe?(b.Ge.yy(c),e=a.show=!1):(a.H.$q=c,a.H.position=f,e=!0);return e});return e});this.ye&&(a=this.Sv(a,!1),this.Ge.clear(),a=a.filter(function(a){var c=
a.H.$q;b.Ge.mw(c);b.Lu(c);return c.Fe?(b.Ge.yy(c),a.show=!1):!0}));a.forEach(function(a){a.ol(a.H.position,a.H.Ud);a.show=!0});return a};e.prototype.kp=function(a,b){if(0!==b.H.Ud.ud){var c="pn:"+b.kd;var f=k}else c="fid:"+b.Ub,f=t;var e=a[c];e||(e=new f,a[c]=e);e.wG(b)};e.prototype.oD=function(b,c){var f=a.g.l(.5*c[0],.5*c[1]),e=.5*Math.max(c[0],c[1]),d=new l(50,50,c[0]-100,c[1]-100);b.forEach(function(b){var c=b.H;b=c.fn?251658240:0;b+=d.contains(c.La)?983040:0;b+=-a.g.Mm(c.La,f);c.Rd=b});var n=
{};b.forEach(function(a){this.kp(n,a)},this);b=[];c=[];for(var t in n)n[t].As(e,b,c);c.forEach(function(a){a.show=!1})};e.prototype.UB=function(c){var f=Infinity,e=Infinity,l=[],d;for(d in this.Ru){var n=this.Ru[d];f=Math.min(n.x,f);e=Math.min(n.y,e);n.mv=(n.x&1)===(n.y&1)?1:0;l.push(n)}l.forEach(function(a){var b=a.mv?4026531840:0;var c=a.y-e;b+=15728640*(a.x-f);a.nP=b+61440*c;a.op={}});c.forEach(function(a){var b=a.H,c=b.gr;b.Rd=0;this.kp(c.op,a)},this);var t=[],k=[],m=b.ms;l.forEach(function(a){for(var b in a.op)a.op[b].As(m,
t,k)});var v={};t.forEach(function(b){var c=b.H;c.Rd=-a.g.Mm(c.gr.GE,c.La);c.Rd+=b.H.gr.mv?0:4026531840;this.kp(v,b)},this);t=[];c=b.Vd;for(d in v)v[d].As(c,t,k);k.forEach(function(a){a.show=!1})};e.prototype.RB=function(a,b){this.ye?this.UB(a):this.oD(a,b)};e.prototype.FE=function(a){var b=this.rl,c=!1;a=a.H.La;for(var f in b)if(c=b[f].H.b.contains(a))break;return c};e.prototype.gB=function(a){var b=this.vk,c=!1;a.xr(function(a){for(var f in b)if(c=a.wk(b[f].H.b))break;return c});return c};e.prototype.FC=
function(a){var b=this.Pk,c=!1;a.H.$q.xr(function(a){for(var f in b)if(c=a.wk(b[f].H.b))break;return c});return c};e.prototype.VA=function(){new l(0,0,this.pc[0],this.pc[1]);for(var a=0,b=this.cc.length;a<b;a++){var c=this.cc[a];c.show&&(this.FC(c)?(c.show=!1,c.H.Lt=!0):c.H.Ho||(this.FE(c)?c.H.Ho=!0:(c.show=!1,c.H.Lt=!0)))}};return e});k(19,0,function(){function e(b,f,e,d){this.vb=a.I.create();this.vb[0]=b;this.vb[1]=f;this.vb[2]=e;this.vb[3]=d}function b(a,b,e,d){this.x=a;this.y=b;this.z=e;this.offset=
d||0;this.st=a+"-"+b+"-"+e;this.id=this.st+":"+this.offset}var a=m(3);e.prototype.min=function(){return a.g.l(this.vb[0],this.vb[1])};e.prototype.max=function(){return a.g.l(this.vb[0]+this.vb[2],this.vb[1]+this.vb[3])};e.prototype.width=function(){return this.vb[2]};e.prototype.height=function(){return this.vb[3]};e.prototype.Pb=function(b,f){var c=a.I.l(this.vb[0],this.vb[1],0,1),e=a.I.l(this.vb[0]+this.vb[2],this.vb[1]+this.vb[3],0,1);a.I.Ra(c,c,f);a.I.Ra(e,e,f);c[0]/=c[3];c[1]/=c[3];e[0]/=e[3];
e[1]/=e[3];this.vb[2]=.5*(e[0]-c[0])*b[0];this.vb[3]=.5*(e[1]-c[1])*b[1];this.vb[0]=.5*(c[0]+1)*b[0];this.vb[1]=.5*(c[1]+1)*b[1];return this};b.prototype.cy=function(){var a=1<<this.z,f=this.x,e=this.offset;e+=Math.floor(f/a);0>f?f=(f+1)%a-1+a:f>=a&&(f%=a);return new b(f,this.y,this.z,e)};b.prototype.La=function(){var b=this.ei(),f=b.min();b=b.max();return a.Ba.l(.5*(f[0]+b[0]),.5*(f[1]+b[1]),this.z)};b.prototype.ei=function(){var a=1<<this.z,b=1/a;return new e(this.x*b+this.offset,(a-1-this.y)*b,
b,b)};b.prototype.dO=function(){var a=this.ei().min();return[a[0],a[1],this.z]};return b});k(20,0,function(){function e(a){var c=a.ei().min(),f=a.z;this.coords=b.Ba.l(c[0],c[1],0);this.size=e.fz(f);this.rb=a;this.id="tile-"+a.id;this.Xb=e.An(a);this.Fy();this.modelMatrix=this.Xb;this.tileKey=this.rb}var b=m(3),a=m(13),c=m(0),f=m(11);e.fz=function(a){return Math.pow(2,-a)};e.An=function(a){a=a.dO();return e.xL.apply(this,a)};e.xL=function(a,f,d){var l=b.S.create();d=e.fz(d)*c.iO;b.S.translate(l,l,
b.Ba.l(a,f,0));b.S.scale(l,l,b.Ba.l(d,d,d));return l};e.prototype.Fy=function(){this.pp=null;this.Hj=[];this.Iv=[]};e.prototype.B=function(b){this.iD();if(void 0===b)return this.pp;var c=this.Hj.filter(function(a){return a.type===b}).map(function(a){return a.In});return a.all(c)};e.prototype.KK=function(a){for(var b=0,c=this.Hj.length;b<c;b++)if(this.Hj[b].type===a)return!0;return!1};e.prototype.rm=function(a,b){this.Hj.push({In:a,type:b})};e.prototype.iD=function(){if(!this.pp){var b=this.Hj.map(function(a){return a.In});
this.pp=a.all(b)}};e.prototype.LK=function(a){return this.Iv[a]};e.prototype.Yy=function(a){this.Iv[a]=!0;this.M(a+"-dependency-ready",a)};f.da(e.prototype);e.prototype.deps=e.prototype.B;return e});k(21,0,function(){function e(){for(var a=0,b=f.length;a<b;a++){var c=f[a],e=c.Yk;c.Yk=1E8;c.update();c.Yk=e}}function b(a,b){this.Wx=a;this.Yk=b;this.Kn=[];f.push(this)}var a=m(13),c=m(11),f=[],l=1E3/60;b.prototype.count=function(){return this.Kn.length};b.prototype.update=function(){var a=Date.now();
var b=this.Kn.shift();for(var c=0;b;){var f=b.ma.call(b.context);b.resolve(f);b=Date.now()-a;c++;if(b>=this.Wx&&c>=this.Yk)break;b=this.Kn.shift()}};b.prototype.ma=function(b,c){var f={ma:b,context:c};b=new a(function(a){f.resolve=a});this.Kn.push(f);return b};c.da(b);var d=0;b.vh=function(){0===d++&&setTimeout(b.Px,0)};b.Px=function(){0!==d&&(setTimeout(b.Px,0),b.M("loop"),e())};b.Vi=function(){d--};b.Bf=new b(1E5,1E4);b.So=new b(16,3);b.vj=new b(6,1);b.tj=new b(2,0);b.update=function(a){for(var b=
0,c=f.length;b<c;b++){var e=f[b],d=l-(Date.now()-a);0>d&&(d+=l);(0<e.Yk||d>e.Wx)&&e.update()}};b.Zk=function(a){var c=f.reduce(function(a,b){return a+b.count()},0);a["queue-count"]=c;a["ASYNC_WORK-count"]=b.Bf.count();a["HIGHP-count"]=b.So.count();a["MEDIUMP-count"]=b.vj.count();a["LOWP-count"]=b.tj.count();return 0!==c};b.clear=e;c.Ry(b);b.update=b.update;b.clear=b.clear;b.needsUpdate=b.Zk;return b});k(22,0,function(){function e(){d.push(this);return this.Hb()}function b(){0===--this.xu&&(this.M("released",
this),this.va("released"));return this}function a(){this.xu++;return this}function c(){this.xu=0;return this}var f=m(11);m(5);var l=m(21),d=[],k=!1;return{da:function(l){f.bL(l)||f.da(l);l.Td=c;l.Hb=a;l.release=b;l.De=e;return l},qr:function(){d.length&&!k&&(l.tj.ma(function(){for(var a=0,b=d.length;a<b;a++)d[a].release();d.length=0;k=!1}),k=!0)}}});k(23,0,function(){function e(b){this.Td();this.key=b;this.Xb=a.An(b)}var b=m(19),a=m(20);m(22).da(e.prototype);var c={};return{ea:function(a,l,d,k){var f=
a+"-"+l+"-"+d+":"+k;if(f in c)return c[f].De();a=new b(a,l,d,k);a=new e(a);a.once("released",function(){delete c[f]});c[f]=a;return a.De()}}});k(24,0,function(){function e(c,f,e){b.Qa(this)&&(this.element=f,this.id=e?e:a.Fb(),this.visible=this.show=!1,this.mb=[],this.type=c,this.Ub=this.kd=this.Wb=0,this.iw(),this.Rf=!0,this.rp=this.Vj=null)}var b=m(8),a=m(5),c=m(3);m(10);var f=m(0),l=m(23),d={};e.prototype.iw=function(){this.aD!==this.element.ea.key.offset&&(this.Pv=!0,this.aD=this.element.ea.key.offset,
this.xc())};e.prototype.kl=function(a){this.Wa=a};e.prototype.oM=function(a){this.mb.splice(this.mb.indexOf(a),1);this.visible=0!==this.mb.length};e.prototype.cJ=function(){this.nd=function(){return{id:this.id,ff:!0}};var a=!1;this.Lk=function(){return a?!1:a=!0};this.xc();this.Ok()};e.prototype.Qw=function(){delete this.nd;delete this.Lk;this.xc()};e.prototype.Qv=function(a,b){if(this.mb.length){for(var c=this.mb.length-1,f=this.mb[c],e=0;e<c;e++)this.hv(this.mb[e],b);this.Wa.show(f,a)}};e.prototype.Vn=
function(){this.Qv(f.Yr,f.ln)};e.prototype.Wn=function(){this.Qv(0,0)};e.prototype.hv=function(a,b){if(!a.GC){a.GC=!0;var c=this;this.Wa.ie(a,b).then(function(){c.oM(a)})}};e.prototype.Ok=function(){0<this.mb.length&&this.hv(this.mb[this.mb.length-1],f.ln)};e.prototype.Xm=function(){for(var a=this.mb.slice(),b=0,c=a.length;b<c;b++)this.Wa.ie(a[b],0);this.mb=[];this.visible=!1};e.prototype.Em=function(){var a=this.element.uc,b=1E3,f=0,e;for(e in a)a=parseInt(e),b=Math.min(b,a),f=Math.max(f,a);this.Dw=
c.g.l(b,f)};e.prototype.dh=function(){this.xl=d;this.Qw();this.xc()};e.prototype.Gt=function(){this.element.bb&&this.wl(this.element.bb);this.iw()};e.prototype.wl=function(){};e.prototype.sO=function(a){var b=a.position;this.jb=(this.show=a.show)&&a.jb;this.show?(this.re(b),a.Bk?this.Wn():this.Vn(),this.visible=0!==this.mb.length):(this.xl=d,this.Ok())};e.prototype.fM=function(){this.show=!1};e.prototype.ol=function(a,b){a!==this.dj&&(this.dj=a,this.xc());this.jb!==b.jb&&(this.jb=b.jb,this.xc())};
e.prototype.zI=function(){this.show&&this.Vj&&this.rp===this.dj.ab&&(this.Bk=!0,this.Vj.Bk=!0);this.rp=this.Vj=null};e.prototype.Sr=function(){return null!==this.Vj};e.prototype.dz=function(a){if(a.dj){var b=a.dj.ab;this.vy(b);this.Vj=a;this.rp=b}};e.prototype.vy=function(){};e.prototype.ql=function(a){return this.xl.ab!==a.ab};e.prototype.re=function(a){this.ql(a)?(this.xl=a,a=this.Gm(a),this.Wa.Xf(a),this.mb.push(a)):this.qO(a)};e.prototype.qO=function(a){this.eo(this.mb[this.mb.length-1],a)};e.prototype.eo=
function(){};e.prototype.Cd=function(a){a.id=this.id;a.type=this.type;a.rb=this.element.ea.key;a.ad=this.element.uc;a.Wb=this.Wb;a.kd=""+this.kd;a.Ub=this.Ub;a.bg=this.bg;return a};e.prototype.xc=function(){this.Rf=!0};e.prototype.Lk=function(){return this.Rf};e.prototype.JK=function(){return this.Rf||this.FD!==this.show};e.prototype.DL=function(){this.FD=this.show;this.Bk=this.Rf=!1};e.prototype.nd=function(a){a.id=this.id;this.Pv&&(a.Hx=this.element.ea.key.offset,this.Pv=!1);this.Rf=!1;return a};
e.create=function(){console.assert(!1)};e.prototype.Yd=function(a){this.ff=a.ff;if(void 0!==a.Hx){var b=this.element.ea.key;this.element.ea.release();this.element.ea=l.ea(b.x,b.y,b.z,a.Hx).Hb()}};e.prototype.JM=function(){return this.$s(this.dj)};e.prototype.mt=function(){};e.prototype.ya=function(){this.element.ea.release()};return e});k(25,0,function(){function e(a,f,e){b.Qa(this)&&(c.prototype.constructor.call(this,a,f,e),this.le=[],this.Th=[],this.padding=0,this.en(),this.L=d.g.l(0,0))}var b=
m(8),a=m(4).global,c=m(24),f=m(10),l=m(7),d=m(3),k=m(0),v=m(23);b.Y(c,e);e.prototype.Hr=function(){return!1};e.prototype.en=function(){this.Su=!0;this.xc()};e.prototype.lB=function(a){if(!this.Su)return this.dm;if(this.Hr())return this.dm=this.DI(a);for(var b=0,c=0,f=this.le.length;c<f;c++)for(var e=this.le[c],l=this.fx(e.position,e.Hi,a),d=0,n=l.length;d<n;d++){var k=l[d];k.jy=e;this.Th[b++]=k}this.dm=this.Th;this.Su=!1;return this.dm};e.prototype.nl=function(a,b){if(this.L[0]!==a||this.L[1]!==b)this.L[0]=
a,this.L[1]=b,this.en()};e.prototype.fx=function(a,b,c){for(var f=Array(b.length),e=0,l=b.length;e<l;e++){var n=this.jB(a,b[e]);n.gU=d.g.l(n.origin[0]*c,n.origin[1]*c);f[e]=n}return f};e.prototype.jB=function(b,c){switch(c){case a.Dh:var f={ab:c,origin:b,offset:d.g.l(-this.L[0],.5*this.L[1])};break;case a.Eh:f={ab:c,origin:b,offset:d.g.l(0,.5*this.L[1])};break;case a.Fh:f={ab:c,origin:b,offset:d.g.l(.5*-this.L[0],this.L[1])};break;case a.Dg:case a.nj:f={ab:c,origin:b,offset:d.g.l(.5*-this.L[0],0)};
break;case a.Cf:f={ab:c,origin:b,offset:d.g.l(.5*-this.L[0],.5*this.L[1])};break;case a.oj:f={ab:c,origin:b,offset:d.g.l(-this.L[0],this.L[1])};break;case a.pj:f={ab:c,origin:b,offset:d.g.l(0,this.L[1])};break;case a.mj:f={ab:c,origin:b,offset:d.g.l(0,0)};break;case a.lj:f={ab:c,origin:b,offset:d.g.l(-this.L[0],0)}}b=this.Ly(f);d.g.add(f.offset,f.offset,b);f.Pe=d.I.create();return f};e.prototype.Ly=function(){var a=d.g.l(0,0);return function(){return a}}();e.prototype.Md=function(b,c){c=c||[a.Cf];
this.le.push({position:b,Hi:c});this.Th=Array(c.length);this.en()};e.prototype.mx=function(a,b,c,f){c=this.lB(f);a=d.S.multiply(d.S.create(),a,this.element.ea.Xb);f=0;for(var e=c.length;f<e;f++){var l=c[f],n=l.origin,k=l.Pe;d.I.set(k,n[0],n[1],0,1);d.I.Ra(k,k,a);d.I.scale(k,k,1/k[3]);k[0]=b[0]*(k[0]+1)*.5;k[1]=b[1]*(k[1]+1)*.5;l.Pe=k}return c};e.prototype.Hk=function(a){return[(new l.Lo(a.Pe[0]+a.offset[0],a.Pe[1]+a.offset[1]-this.L[1],this.L[0],this.L[1])).Nr(-this.padding,-this.padding)]};e.prototype.hE=
function(a){var b=a.jy,c=this.le.indexOf(b);-1!==c&&(this.le.splice(c,1),this.le.unshift(b),b=b.Hi,c=a.ab,b.splice(b.indexOf(c),1),b.unshift(c),this.Th.splice(this.Th.indexOf(a),1),this.Th.unshift(a))};e.prototype.ol=function(a){c.prototype.ol.apply(this,arguments);this.Hr()||this.hE(a)};e.prototype.Gm=function(a){return{position:a.origin,offset:a.offset}};e.prototype.eo=function(a,b){a.offset=b.offset};e.prototype.Cd=function(a){a=a||{};a.es=this.le;return c.prototype.Cd.call(this,a)};e.prototype.nd=
function(a){a=a||{};a.L=this.L;return c.prototype.nd.call(this,a)};e.create=function(a,b){var c=a.rb;c={uc:a.ad,ea:v.ea(c.x,c.y,c.z,c.offset).Hb()};b=new e(b,c,a.id);b.Em();a=a.es;c=0;for(var f=a.length;c<f;c++){var l=a[c];b.Md(l.position,l.Hi)}return b};e.prototype.Yd=function(a){this.nl(a.L[0],a.L[1]);c.prototype.Yd.apply(this,arguments)};e.prototype.$s=function(a){return a.Pe};e.prototype.mt=function(a){this.$h=d.g.l(k.Yx,k.qs);for(var b in this.element.uc)if(a[this.element.uc[b]].visible){var c=
parseInt(b);this.$h[0]>c&&(this.$h[0]=c);this.$h[1]<c&&(this.$h[1]=c)}};e.prototype.Um=function(a){var b={$c:a.$c,visible:a.visible,jb:!0,lc:this.$h[0],ke:this.$h[1],ud:a.ud};this.type===f.El&&(b.lc=a.Ri,b.ke=k.Yx);return b};return e});k(26,0,function(){function e(b,e){this.$a=c.l(b[0],b[1],0,1);this.nb=c.l(e[0],e[1],0,1);this.Cp=a.Yf(b,e)}var b=m(1),a=b.g,c=b.I;e.prototype.clone=function(){return new e(a.clone(this.$a),a.clone(this.nb))};e.prototype.eg=function(a,b){this.$a=c.l(a[0],a[1],0,1);this.nb=
c.l(b[0],b[1],0,1)};e.prototype.length=function(a){return a*this.Cp};e.prototype.Ra=function(a){var b=c.Ra(c.create(),this.$a,a);a=c.Ra(c.create(),this.nb,a);c.scale(b,b,1/b[3]);c.scale(a,a,1/a[3]);return new e(b,a)};e.prototype.Cs=function(){return function(b,c,e){b=this.length(e)-.5*c+b;c=b/this.Cp;b=a.sub(a.create(),this.nb,this.$a);c=a.Zs(a.create(),this.$a,b,c);a.normalize(b,b);e=a.l(-b[1],b[0]);return{$N:b,position:c,by:e}}}();e.prototype.Pb=function(b,c){b=this.Ra(b);var f=b.$a,e=b.nb,l=c[0];
c=c[1];f[0]=l*(f[0]+1)*.5;f[1]=c*(f[1]+1)*.5;e[0]=l*(e[0]+1)*.5;e[1]=c*(e[1]+1)*.5;b.Cp=a.Yf(f,e);return b};e.prototype.scale=function(a){var b=this.clone(),f=b.$a,e=b.nb;c.scale(f,f,a);c.scale(e,e,a);return b};e.prototype.Bx=function(){this.eg(this.nb,this.$a)};e.prototype.direction=function(){return a.sub(a.create(),this.nb,this.$a)};e.prototype.Fx=function(){return!0};return e});k(27,0,function(){function e(c,f,e){b.Qa(this)&&(a.prototype.constructor.call(this,e,c,f),this.padding=this.je=0)}var b=
m(8),a=m(25),c=m(10),f=m(23);b.Y(a,e);e.prototype.ct=function(a){this.tk=a};e.prototype.tt=function(a){return 1E-4>a.ge};e.prototype.wl=function(a){if(this.tt(a))this.cJ();else{this.Qw();if(this.tk){var b=this.tk.Bw(a);this.caption!==b&&(this.xc(),this.caption=b);this.caption.$y(a.ge);b=this.caption.L;this.nl(b[0],b[1]);this.padding!==a.padding&&(this.padding=a.padding,this.xc())}this.je!==a.je&&(this.je=a.je,this.xc())}};e.prototype.ol=function(b){var c=this.jb;a.prototype.ol.apply(this,arguments);
this.jb=this.jb&&0!==this.L[0]&&0!==this.L[1];c!==this.jb&&this.xc()};e.prototype.vy=function(a){this.le.forEach(function(b){b=b.Hi;var c=b.indexOf(a);-1!==c&&(b.splice(c,1),b.unshift(a))})};e.prototype.re=function(b){if(this.tk)return b.caption=this.caption,a.prototype.re.apply(this,arguments)};e.prototype.ql=function(b){return a.prototype.ql.apply(this,arguments)||b.caption!==this.xl.caption};e.prototype.Gm=function(b){var c=a.prototype.Gm.apply(this,arguments),f=b.caption;f.Jx(b.ab);c.caption=
f;return c};e.prototype.eo=function(a,b){a.caption.Jx(b.ab)};e.prototype.nd=function(b){b=b||{};b.padding=this.padding;b.je=this.je;return a.prototype.nd.call(this,b)};e.prototype.Yd=function(b){this.padding=b.padding;this.je=b.je;a.prototype.Yd.apply(this,arguments)};e.create=function(a){var b=a.rb;b={uc:a.ad,ea:f.ea(b.x,b.y,b.z,b.offset).Hb()};b=new e(b,a.id,c.w);b.Em();a=a.es;for(var d=0,l=a.length;d<l;d++){var k=a[d];b.Md(k.position,k.Hi)}return b};e.prototype.Cd=function(){return a.prototype.Cd.apply(this,
arguments)};return e});k(28,0,function(){function e(b,c){var e=a.g.clone(b.$a),l=a.g.clone(b.nb),n=a.g.clone(b.Ad);b=a.g.clone(b.jd);a.g.scale(e,e,c);a.g.scale(l,l,c);a.g.scale(n,n,c);a.g.scale(b,b,c);return a.g.Lc(e,l)&&a.g.Lc(l,n)&&a.g.Lc(n,b)?null:a.g.Lc(e,l)&&a.g.Lc(n,b)?new d(e,n):new f(e,l,n,b)}function b(b,c,f,d){n.prototype.constructor.call(this,g.Qo,b,d);this.oF=c;d=Object.keys(c).map(function(a){return parseInt(a)});b=Math.min.apply(null,d);d=Math.max.apply(null,d);this.kw=Array(d-b+1);
for(var l=null,k=b;k<=d;k++){var m=c[k];m&&(m=e(m,f),m.ab=k,l=m||l);this.kw[k-b]=l}this.lc=b;this.ke=d;this.L=a.g.create();this.Bv=null}var a=m(3),c=m(8),f=m(2),d=m(26),n=m(24),k=m(27),v=m(7),g=m(10),p=m(0),q=m(23);c.Y(n,b);b.prototype.ct=function(a){this.tk=a};b.prototype.cv=function(b){return this.kw[a.ym(Math.floor(b),this.lc,this.ke)-this.lc]};b.prototype.dh=function(){k.prototype.dh.apply(this,arguments)};b.prototype.mx=function(b,c,f,e){if(f-1>this.ke)return[];var d=a.S.multiply(a.S.create(),
b,this.element.ea.Xb);b=Math.floor(f);f=this.cv(b);if(!f)return[];c=f.Pb(d,c);e=f.scale(e);0>c.direction()[0]&&c.Bx();this.Bv===f?(e=this.ED,e.xt=c):this.ED=e={zoom:b,ab:f.ab,t:0,xt:c,fU:e};this.Bv=f;return[e]};b.prototype.wl=function(a){var b=this.tk.Bw(a);this.caption!==b&&(this.xc(),this.caption=b);this.caption.$y(a.ge);b=this.caption.L;if(b[0]!==this.L[0]||b[1]!==this.L[1])this.L[0]=this.caption.L[0],this.L[1]=this.caption.L[1],this.xc();this.padding!==a.padding&&(this.padding=a.padding,this.xc())};
var w=.5*Math.sqrt(2);b.prototype.Hk=function(a){var b=a.xt;if(b.length(1)<this.L[0])return[];var c=.5*(this.L[1]+this.padding);a=b.length(a.t)+w*c;for(var f=c*Math.SQRT2,e=this.L[0]/f,d=[],l=0;l<e;l++){var n=b.Cs(a,this.L[0],p.Sq).position;a+=f;n=new v.Wt(n,c);d.push(n)}return d};b.prototype.re=function(a){a.caption=this.caption;return n.prototype.re.apply(this,arguments)};b.prototype.ql=function(a){return n.prototype.ql.apply(this,arguments)||a.caption!==this.xl.caption};b.prototype.Gm=function(b){var c=
this.cv(b.zoom),f=b.caption;f.Ix();return{curve:c,offset:a.g.l(0,0),t:b.t,caption:f}};b.prototype.eo=function(a){a.caption.Ix()};b.prototype.Cd=function(a){a=a||{};a.EO=this.oF;return n.prototype.Cd.call(this,a)};b.create=function(a,c,f){var e=a.rb;c=a.EO;e={uc:a.ad,ea:q.ea(e.x,e.y,e.z,e.offset).Hb()};a=new b(e,c,f,a.id);a.Em();return a};b.prototype.nd=function(a){a=a||{};a.L=this.L;a.padding=this.padding;return n.prototype.nd.call(this,a)};b.prototype.Yd=function(a){this.L[0]=a.L[0];this.L[1]=a.L[1];
this.padding=a.padding;n.prototype.Yd.apply(this,arguments)};b.prototype.$s=function(a){return a.xt.Cs(.5*this.L[0],this.L[0],p.Sq).position};b.prototype.mt=function(b){this.Xh=a.g.l(this.lc,this.ke);for(var c in this.element.uc)if(b[this.element.uc[c]].jb){var f=parseInt(c);this.Xh[0]>f&&(this.Xh[0]=f);this.Xh[1]<f&&(this.Xh[1]=f)}};b.prototype.Um=function(a){return{$c:a.$c,visible:a.visible,jb:!0,lc:Math.max(this.Xh[0],a.Li),ke:this.Xh[1],ud:a.ud}};return b});k(29,0,function(){function e(a,b,e){c.prototype.constructor.call(this,
a,b,f.Dc,e);this.oq=!1;this.Aa=[-1,-1]}var b=m(3),a=m(8),c=m(27),f=m(10),d=m(7);m(5);var n=m(0),k=m(23),v=m(4).global;a.Y(c,e);e.prototype.tt=function(){return this.oq&&c.prototype.tt.apply(this,arguments)};e.prototype.aq=function(a){if(this.Aa[0]!==a[0]||this.Aa[1]!==a[1])this.Aa[0]=a[0],this.Aa[1]=a[1],this.oq=0===this.Aa[0]||0===this.Aa[1],this.en()};e.prototype.kl=function(a){c.prototype.kl.apply(this,arguments);this.Wa.Xf(this.element.vc)};e.prototype.fw=function(){this.aq(this.element.vc.mf())};
e.prototype.dh=function(){this.fw();c.prototype.dh.apply(this,arguments)};e.prototype.Gt=function(){this.fw();c.prototype.Gt.apply(this,arguments)};e.prototype.Md=function(a,b){b=b||[v.Dg,v.Fh,v.Dh,v.Eh];c.prototype.Md.call(this,a,b)};e.prototype.Hr=function(){return this.oq};e.prototype.DI=function(a){for(var b=Array(this.le.length),c=0,f=0,e=this.le.length;f<e;f++)for(var d=this.le[f],l=this.fx(d.position,[v.Cf],a),n=0,k=l.length;n<k;n++){var m=l[n];m.jy=d;b[c++]=m}return b};var g=.5*Math.sqrt(2);
e.prototype.Ly=function(a){var c=b.g.create();switch(a.ab){case v.oj:c[0]=g*-this.Aa[0]*.5;c[1]=g*this.Aa[1]*.5;break;case v.pj:c[0]=g*this.Aa[0]*.5;c[1]=g*this.Aa[1]*.5;break;case v.mj:c[0]=g*this.Aa[0]*.5;c[1]=g*-this.Aa[1]*.5;break;case v.lj:c[0]=g*-this.Aa[0]*.5;c[1]=g*-this.Aa[1]*.5;break;case v.Dg:c[1]=.5*-this.Aa[1];break;case v.Eh:c[0]=.5*this.Aa[0];break;case v.Dh:c[0]=.5*-this.Aa[0];break;case v.Fh:c[1]=.5*this.Aa[1];break;case v.nj:console.assert(!1)}return c};e.prototype.Hk=function(a,
b){var f=b.jb?c.prototype.Hk.apply(this,arguments):[];var e=new d.Lo(a.Pe[0]-.5*this.Aa[0],a.Pe[1]-.5*this.Aa[1],this.Aa[0],this.Aa[1]);f.push(e);return f};e.prototype.Um=function(a){var b=c.prototype.Um.apply(this,arguments);b.jb=a.jb;return b};e.prototype.re=function(a){c.prototype.re.apply(this,arguments);var b=this.element.vc;b&&b.re(a)};e.prototype.Wn=function(){c.prototype.Wn.apply(this,arguments);var a=this.element.vc;a&&this.Wa.show(a,0)};e.prototype.Vn=function(){c.prototype.Vn.apply(this,
arguments);var a=this.element.vc;a&&this.Wa.show(a,n.Yr)};e.prototype.gv=function(a){var b=this.element.vc;b&&this.Wa.ie(b,a)};e.prototype.Ok=function(){c.prototype.Ok.apply(this,arguments);this.gv(n.ln)};e.prototype.Xm=function(){c.prototype.Xm.apply(this,arguments);this.gv(0)};e.prototype.Cd=function(a){a=a||{};a.mf=this.Aa;return c.prototype.Cd.call(this,a)};e.create=function(a){var b=a.rb;b={uc:a.ad,ea:k.ea(b.x,b.y,b.z,b.offset).Hb()};b=new e(b,a.id);b.Em();for(var c=a.es,f=0,d=c.length;f<d;f++){var l=
c[f];b.Md(l.position,l.Hi)}b.aq(a.mf);return b};e.prototype.nd=function(a){a=a||{};a.mf=this.Aa;return c.prototype.nd.call(this,a)};e.prototype.Yd=function(a){this.aq(a.mf);c.prototype.Yd.apply(this,arguments)};return e});k(30,0,function(){function e(b){a.prototype.constructor.call(this,c.Mo,b,d.Fb());this.Cu=0}var b=m(8),a=m(25),c=m(10),f=m(4).global,d=m(5),n=m(0),k=m(7);b.Y(a,e);e.prototype.Md=function(b){a.prototype.Md.call(this,b,[f.Cf])};e.prototype.dh=function(){var b=this.element.vc.icon;this.Cu=
b.width/b.height;this.wl(this.element.bb);a.prototype.dh.apply(this,arguments)};e.prototype.mf=function(){return this.L};e.prototype.wl=function(a){this.nl(a.height*this.Cu,a.height)};e.prototype.kl=function(b){a.prototype.kl.apply(this,arguments);this.Wa.Xf(this.element.vc)};e.prototype.re=function(){};e.prototype.Vn=function(){this.Wa.show(this.element.vc,n.Yr)};e.prototype.Wn=function(){};e.prototype.iv=function(a){this.Wa.ie(this.element.vc,a)};e.prototype.Ok=function(){this.iv(n.ln)};e.prototype.Xm=
function(){this.iv(0)};e.prototype.Cd=function(){var b={};b.L=this.L;return a.prototype.Cd.call(this,b)};e.create=function(b){var c=a.create.apply(this,arguments);c.nl(b.L[0],b.L[1]);c.Hk=function(a){return[new k.Wt([a.Pe[0],a.Pe[1]],this.L[0])]};return c};return e});k(31,0,function(){function e(){this.jf={};this.jf[k.w]=d.create;this.jf[k.El]=a.create;this.jf[k.Mo]=n.create;this.jf[k.Dc]=f.create;this.jf[k.Qo]=c.create;this.jf[k.Zt]=a.create;this.labels={};this.pc=[0,0]}var b=m(18),a=m(25),c=m(28),
f=m(29),d=m(27),n=m(30),k=m(10),g=m(12),p=m(3);e.prototype.lb=function(a,c,f){this.Pd=new b(a,c,f);this.zc=c;this.sb=1/c};e.prototype.Oe=function(a){this.Pd.Oe(a)};e.prototype.mh=function(a){this.Pd.mh(a)};e.prototype.nh=function(a){for(var b=0,c=a.length;b<c;b++){var f=a[b],e=this.jf[f.type](f,f.type,this.sb);e.Wb=f.Wb;e.kd=f.kd;e.Ub=f.Ub;e.bg=f.bg;this.labels[e.id]=e;this.Pd.nM(e)}};e.prototype.tg=function(a){for(var b=0,c=a.length;b<c;b++){var f=a[b],e=this.labels[f];delete this.labels[f];this.Pd.oO(e);
e.ya()}};e.prototype.mq=function(a){var b=this.Pd.Pk,c=this.Pd.rl,f=this.Pd.vk;a.forEach(function(a){[b,c,f].forEach(function(b){b[a.id]&&b[a.id].Yd(a)})})};e.prototype.aF=function(a,b,c,f,e,d){b=p.S.clone(b);c=p.g.clone(c);if(c[0]!==this.pc[0]||c[1]!==this.pc[1])this.pc=c,this.Pd.resize(c);var l;var n=0;for(l=a.length;n<l;n++){var k=a[n];var m=this.labels[k.id];m.ff=k.ff;m.ff||m.Yd(k)}this.Pd.update(c,b,f,e,d);a=[];for(n in this.labels)m=this.labels[n],m.JK()&&(b={id:n,show:m.show},m.show&&(b.jb=
m.jb,c=m.dj,b.position={ab:c.ab},c.origin&&(b.position.origin=c.origin),c.offset&&(b.position.offset=c.offset),"number"===typeof c.zoom&&(b.position.zoom=c.zoom)),m.Bk&&(b.Bk=!0),m.DL(),a.push(b));return a};e.prototype.Oi=function(a){this.Pd.Oi(a)};e.prototype.update=function(a,b,c,f,e,d,l){this.mq(b,c);return this.aF(a,c,f,e,d,l)};e.prototype.Ns=function(a){for(var b=0,c=a.length;b<c;b++){var f=g.create(a[b]);this.Pd.Ne(f)}};e.prototype.Ft=function(a){for(var b=0,c=a.length;b<c;b++)this.Pd.Se(a[b])};
var q={};e.lb=function(a,b,c,f){var d=new e;q[a]=d;d.lb(b,c,f)};e.Oe=function(a,b){q[a].Oe(b)};e.nh=function(a,b){q[a].nh(b)};e.tg=function(a,b){q[a].tg(b)};e.mh=function(a,b){q[a].mh(b)};e.Ns=function(a,b){q[a].Ns(b)};e.Ft=function(a,b){q[a].Ft(b)};e.update=function(a,b,c,f,e,d,l,n){return q[a].update(b,c,f,e,d,l,n)};e.Oi=function(a,b){q[a].Oi(b)};return e});k(32,0,function(){return function(){var e={};(function(b){b=b||{};b.a=b.a||{};b.a.Ab=function(){this.b=null;this.c=0};b.a.Ab.prototype.h=function(a,
b){this.c=a;this.b=b;return this};b.a.Ab.$R=function(a,c){return(c||new b.a.Ab).h(a.N(a.position())+a.position(),a)};b.a.Ab.prototype.id=function(){var a=this.b.f(this.c,4);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.Ab.rN=function(a){a.ia(4)};b.a.Ab.bf=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.Ab.tF=function(a,b){a.u(1,b)};b.a.Ab.GP=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.Ab.gT=function(a,b){a.j(1,b,1)};b.a.Ab.xF=function(a,b){a.u(2,b)};b.a.Ab.NP=
function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.Ab.kT=function(a,b){a.j(1,b,1)};b.a.Ab.xG=function(a,b){a.u(3,b)};b.a.Ab.yJ=function(a){return a.ha()};b.a.Ab.oQ=function(a,c,f,e,d){b.a.Ab.rN(a);b.a.Ab.bf(a,c);b.a.Ab.tF(a,f);b.a.Ab.xF(a,e);b.a.Ab.xG(a,d);return b.a.Ab.yJ(a)};b.a.Ta=function(){this.b=null;this.c=0};b.a.Ta.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ta.OR=function(a,c){return(c||new b.a.Ta).h(a.N(a.position())+a.position(),
a)};b.a.Ta.prototype.id=function(){var a=this.b.f(this.c,4);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.Ta.prototype.x=function(){var a=this.b.f(this.c,6);return a?this.b.Yb(this.c+a):0};b.a.Ta.prototype.y=function(){var a=this.b.f(this.c,8);return a?this.b.Yb(this.c+a):0};b.a.Ta.prototype.width=function(){var a=this.b.f(this.c,10);return a?this.b.Yb(this.c+a):0};b.a.Ta.prototype.height=function(){var a=this.b.f(this.c,12);return a?this.b.Yb(this.c+a):0};b.a.Ta.prototype.page=function(){var a=
this.b.f(this.c,14);return a?this.b.C(this.c+a):0};b.a.Ta.cN=function(a){a.ia(6)};b.a.Ta.bf=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.Ta.YH=function(a,b){a.sd(1,b,0)};b.a.Ta.ZH=function(a,b){a.sd(2,b,0)};b.a.Ta.qk=function(a,b){a.sd(3,b,0)};b.a.Ta.lk=function(a,b){a.sd(4,b,0)};b.a.Ta.WG=function(a,b){a.ba(5,b,0)};b.a.Ta.lJ=function(a){return a.ha()};b.a.Ta.EP=function(a,c,f,e,d,k,m){b.a.Ta.cN(a);b.a.Ta.bf(a,c);b.a.Ta.YH(a,f);b.a.Ta.ZH(a,e);b.a.Ta.qk(a,d);b.a.Ta.lk(a,k);b.a.Ta.WG(a,m);return b.a.Ta.lJ(a)};
b.a.Fc=function(){this.b=null;this.c=0};b.a.Fc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Fc.qS=function(a,c){return(c||new b.a.Fc).h(a.N(a.position())+a.position(),a)};b.a.Fc.prototype.id=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.Fc.prototype.value=function(){var a=this.b.f(this.c,6);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.Fc.LN=function(a){a.ia(2)};b.a.Fc.bf=function(a,b){a.u(0,b)};b.a.Fc.Iq=function(a,b){a.Db(1,b,a.ca(0,0))};b.a.Fc.QJ=
function(a){var b=a.ha();a.Ts(b);return b};b.a.Fc.dR=function(a,c,f){b.a.Fc.LN(a);b.a.Fc.bf(a,c);b.a.Fc.Iq(a,f);return b.a.Fc.QJ(a)};b.a.Ca=function(){this.b=null;this.c=0};b.a.Ca.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ca.NR=function(a,c){return(c||new b.a.Ca).h(a.N(a.position())+a.position(),a)};b.a.Ca.prototype.index=function(a,c){var f=this.b.f(this.c,6);return f?(c||new b.a.Ta).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Ca.prototype.data=function(a,c){var f=this.b.f(this.c,
8);return f?(c||new b.a.ac).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Ca.prototype.urls=function(a,c){var f=this.b.f(this.c,12);return f?(c||new b.a.Fc).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Ca.bN=function(a){a.ia(5)};b.a.Ca.gG=function(a,b){a.u(0,b)};b.a.Ca.mQ=function(a,b){a.j(8,b.length,8);for(var c=b.length-1;0<=c;c--)a.ow(b[c]);return a.K()};b.a.Ca.zT=function(a,b){a.j(8,b,8)};b.a.Ca.oG=function(a,b){a.u(1,b)};b.a.Ca.uQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-
1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Ca.CT=function(a,b){a.j(4,b,4)};b.a.Ca.kk=function(a,b){a.u(2,b)};b.a.Ca.HI=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Ca.nN=function(a,b){a.j(4,b,4)};b.a.Ca.jG=function(a,b){a.u(3,b)};b.a.Ca.pQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Ca.AT=function(a,b){a.j(4,b,4)};b.a.Ca.UH=function(a,b){a.u(4,b)};b.a.Ca.oR=function(a,b){a.j(4,b.length,4);for(var c=b.length-
1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Ca.aU=function(a,b){a.j(4,b,4)};b.a.Ca.kJ=function(a){var b=a.ha();a.Ts(b);return b};b.a.Ca.DP=function(a,c,f,e,d,k){b.a.Ca.bN(a);b.a.Ca.gG(a,c);b.a.Ca.oG(a,f);b.a.Ca.kk(a,e);b.a.Ca.jG(a,d);b.a.Ca.UH(a,k);return b.a.Ca.kJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Fa=function(){this.b=null;this.c=0};b.a.Fa.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Fa.TR=function(a,c){return(c||new b.a.Fa).h(a.N(a.position())+a.position(),a)};b.a.Fa.prototype.offset=
function(){var a=this.b.f(this.c,4);return a?this.b.Ob(this.c+a):0};b.a.Fa.prototype.count=function(){var a=this.b.f(this.c,6);return a?this.b.Ob(this.c+a):0};b.a.Fa.prototype.fc=function(){var a=this.b.f(this.c,8);return a?this.b.C(this.c+a):0};b.a.Fa.prototype.cb=function(a,c){var f=this.b.f(this.c,10);return f?(c||new b.a.Sb).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Fa.prototype.tf=function(){var a=this.b.f(this.c,10);return a?this.b.fa(this.c+a):0};b.a.Fa.hN=function(a){a.ia(4)};
b.a.Fa.ga=function(a,b){a.tc(0,b)};b.a.Fa.zq=function(a,b){a.tc(1,b)};b.a.Fa.Sg=function(a,b){a.ba(2,b,0)};b.a.Fa.td=function(a,b){a.u(3,b)};b.a.Fa.ji=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Fa.Ui=function(a,b){a.j(4,b,4)};b.a.Fa.qJ=function(a){return a.ha()};b.a.Fa.PP=function(a,c,f,e,d){b.a.Fa.hN(a);b.a.Fa.ga(a,c);b.a.Fa.zq(a,f);b.a.Fa.Sg(a,e);b.a.Fa.td(a,d);return b.a.Fa.qJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.ja=function(){this.b=
null;this.c=0};b.a.ja.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.ja.WR=function(a,c){return(c||new b.a.ja).h(a.N(a.position())+a.position(),a)};b.a.ja.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.ja.prototype.$c=function(){var a=this.b.f(this.c,6);return a?this.b.N(this.c+a):0};b.a.ja.prototype.Li=function(){var a=this.b.f(this.c,8);return a?this.b.la(this.c+a):0};b.a.ja.prototype.Ri=function(){var a=this.b.f(this.c,10);return a?
this.b.la(this.c+a):0};b.a.ja.prototype.Bm=function(){var a=this.b.f(this.c,12);return a?this.b.C(this.c+a):0};b.a.ja.prototype.ud=function(){var a=this.b.f(this.c,14);return a?this.b.C(this.c+a):0};b.a.ja.prototype.pn=function(){var a=this.b.f(this.c,16);return a?this.b.C(this.c+a):0};b.a.ja.prototype.Tn=function(){var a=this.b.f(this.c,18);return a?!!this.b.ld(this.c+a):!1};b.a.ja.prototype.jb=function(){var a=this.b.f(this.c,20);return a?!!this.b.ld(this.c+a):!1};b.a.ja.prototype.visible=function(){var a=
this.b.f(this.c,22);return a?!!this.b.ld(this.c+a):!1};b.a.ja.kN=function(a){a.ia(10)};b.a.ja.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.ja.FF=function(a,b){a.tc(1,b)};b.a.ja.pH=function(a,b){a.Oa(2,b,0)};b.a.ja.xH=function(a,b){a.Oa(3,b,0)};b.a.ja.EF=function(a,b){a.ba(4,b,0)};b.a.ja.NF=function(a,b){a.ba(5,b,0)};b.a.ja.ai=function(a,b){a.ba(6,b,0)};b.a.ja.uH=function(a,b){a.ba(7,+b,0)};b.a.ja.NH=function(a,b){a.ba(8,+b,0)};b.a.ja.pk=function(a,b){a.ba(9,+b,0)};b.a.ja.tJ=function(a){return a.ha()};
b.a.ja.TP=function(a,c,f,e,d,k,m,g,p,q,h){b.a.ja.kN(a);b.a.ja.Eb(a,c);b.a.ja.FF(a,f);b.a.ja.pH(a,e);b.a.ja.xH(a,d);b.a.ja.EF(a,k);b.a.ja.NF(a,m);b.a.ja.ai(a,g);b.a.ja.uH(a,p);b.a.ja.NH(a,q);b.a.ja.pk(a,h);return b.a.ja.tJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Bc=function(){this.b=null;this.c=0};b.a.Bc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Bc.RR=function(a,c){return(c||new b.a.Bc).h(a.N(a.position())+a.position(),a)};b.a.Bc.prototype.key=function(){var a=this.b.f(this.c,
4);return a?this.b.ld(this.c+a):0};b.a.Bc.prototype.value=function(a){var b=this.b.f(this.c,6);return b?this.b.Xe(this.c+b,a):null};b.a.Bc.fN=function(a){a.ia(2)};b.a.Bc.Eb=function(a,b){a.ba(0,b,0)};b.a.Bc.Iq=function(a,b){a.u(1,b)};b.a.Bc.oJ=function(a){return a.ha()};b.a.Bc.MP=function(a,c,f){b.a.Bc.fN(a);b.a.Bc.Eb(a,c);b.a.Bc.Iq(a,f);return b.a.Bc.oJ(a)};b.a.ac=function(){this.b=null;this.c=0};b.a.ac.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.ac.QR=function(a,c){return(c||new b.a.ac).h(a.N(a.position())+
a.position(),a)};b.a.ac.prototype.data=function(a){var b=this.b.f(this.c,4);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.ac.prototype.er=function(){var a=this.b.f(this.c,4);return a?new Uint8Array(this.b.Pa.buffer,this.b.Pa.byteOffset+this.b.J(this.c+a),this.b.fa(this.c+a)):null};b.a.ac.eN=function(a){a.ia(1)};b.a.ac.kk=function(a,b){a.u(0,b)};b.a.ac.HI=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.ac.nN=function(a,b){a.j(1,b,1)};b.a.ac.nJ=function(a){return a.ha()};
b.a.ac.LP=function(a,c){b.a.ac.eN(a);b.a.ac.kk(a,c);return b.a.ac.nJ(a)};b.a.bc=function(){this.b=null;this.c=0};b.a.bc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.bc.cS=function(a,c){return(c||new b.a.bc).h(a.N(a.position())+a.position(),a)};b.a.bc.prototype.key=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.bc.prototype.gI=function(a){var b=this.b.f(this.c,6);return b?this.b.Yb(this.b.J(this.c+b)+2*a):0};b.a.bc.prototype.hI=function(){var a=this.b.f(this.c,
6);return a?this.b.fa(this.c+a):0};b.a.bc.uN=function(a){a.ia(2)};b.a.bc.Eb=function(a,b){a.u(0,b)};b.a.bc.rF=function(a,b){a.u(1,b)};b.a.bc.CP=function(a,b){a.j(2,b.length,2);for(var c=b.length-1;0<=c;c--)a.Uf(b[c]);return a.K()};b.a.bc.eT=function(a,b){a.j(2,b,2)};b.a.bc.BJ=function(a){return a.ha()};b.a.bc.vQ=function(a,c,f){b.a.bc.uN(a);b.a.bc.Eb(a,c);b.a.bc.rF(a,f);return b.a.bc.BJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Va=function(){this.b=null;this.c=0};b.a.Va.prototype.h=function(a,
b){this.c=a;this.b=b;return this};b.a.Va.lS=function(a,c){return(c||new b.a.Va).h(a.N(a.position())+a.position(),a)};b.a.Va.prototype.Od=function(a,c){var f=this.b.f(this.c,4);return f?(c||new b.a.ac).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Va.prototype.pI=function(){var a=this.b.f(this.c,4);return a?this.b.fa(this.c+a):0};b.a.Va.prototype.oc=function(a,c){var f=this.b.f(this.c,6);return f?(c||new b.a.Bb).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Va.prototype.bO=function(){var a=
this.b.f(this.c,6);return a?this.b.fa(this.c+a):0};b.a.Va.prototype.li=function(a,c){var f=this.b.f(this.c,8);return f?(c||new b.a.ac).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Va.prototype.TI=function(){var a=this.b.f(this.c,8);return a?this.b.fa(this.c+a):0};b.a.Va.GN=function(a){a.ia(3)};b.a.Va.vF=function(a,b){a.u(0,b)};b.a.Va.IP=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Va.iT=function(a,b){a.j(4,b,4)};b.a.Va.OH=function(a,b){a.u(1,
b)};b.a.Va.lR=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Va.ZT=function(a,b){a.j(4,b,4)};b.a.Va.MF=function(a,b){a.u(2,b)};b.a.Va.aQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Va.sT=function(a,b){a.j(4,b,4)};b.a.Va.LJ=function(a){return a.ha()};b.a.Va.TQ=function(a,c,f,e){b.a.Va.GN(a);b.a.Va.vF(a,c);b.a.Va.OH(a,f);b.a.Va.MF(a,e);return b.a.Va.LJ(a)};b.a.A=function(){this.b=null;this.c=0};b.a.A.prototype.h=
function(a,b){this.c=a;this.b=b;return this};b.a.A.BK=function(a){return(new b.a.A).h(a.N(a.position())+a.position(),a)};b.a.A.prototype.version=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.A.prototype.Xd=function(a){var c=this.b.f(this.c,6);return c?(a||new b.a.Va).h(this.b.xa(this.c+c),this.b):null};b.a.A.prototype.cb=function(a,c){var f=this.b.f(this.c,8);return f?(c||new b.a.Gc).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.tf=function(){var a=
this.b.f(this.c,8);return a?this.b.fa(this.c+a):0};b.a.A.prototype.Ni=function(a,c){var f=this.b.f(this.c,10);return f?(c||new b.a.$).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.CM=function(){var a=this.b.f(this.c,10);return a?this.b.fa(this.c+a):0};b.a.A.prototype.il=function(a,c){var f=this.b.f(this.c,12);return f?(c||new b.a.qa).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.zM=function(){var a=this.b.f(this.c,12);return a?this.b.fa(this.c+a):0};b.a.A.prototype.Ii=
function(a,c){var f=this.b.f(this.c,14);return f?(c||new b.a.U).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.$L=function(){var a=this.b.f(this.c,14);return a?this.b.fa(this.c+a):0};b.a.A.prototype.Am=function(a,c){var f=this.b.f(this.c,16);return f?(c||new b.a.Fa).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.yI=function(){var a=this.b.f(this.c,16);return a?this.b.fa(this.c+a):0};b.a.A.prototype.uh=function(a,c){var f=this.b.f(this.c,18);return f?(c||new b.a.V).h(this.b.xa(this.b.J(this.c+
f)+4*a),this.b):null};b.a.A.prototype.ZM=function(){var a=this.b.f(this.c,18);return a?this.b.fa(this.c+a):0};b.a.A.prototype.vf=function(a,c){var f=this.b.f(this.c,20);return f?(c||new b.a.w).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.aO=function(){var a=this.b.f(this.c,20);return a?this.b.fa(this.c+a):0};b.a.A.prototype.ad=function(a,c){var f=this.b.f(this.c,22);return f?(c||new b.a.ja).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.BI=function(){var a=
this.b.f(this.c,22);return a?this.b.fa(this.c+a):0};b.a.A.prototype.dd=function(a){var c=this.b.f(this.c,24);return c?(a||new b.a.Kb).h(this.b.xa(this.c+c),this.b):null};b.a.A.prototype.zk=function(a,c){var f=this.b.f(this.c,26);return f?(c||new b.a.zb).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.A.prototype.SI=function(){var a=this.b.f(this.c,26);return a?this.b.fa(this.c+a):0};b.a.A.prototype.bl=function(a,c){var f=this.b.f(this.c,28);return f?(c||new b.a.Ha).h(this.b.xa(this.b.J(this.c+
f)+4*a),this.b):null};b.a.A.prototype.SL=function(){var a=this.b.f(this.c,28);return a?this.b.fa(this.c+a):0};b.a.A.qN=function(a){a.ia(13)};b.a.A.Jq=function(a,b){a.u(0,b)};b.a.A.mH=function(a,b){a.u(1,b)};b.a.A.td=function(a,b){a.u(2,b)};b.a.A.ji=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.Ui=function(a,b){a.j(4,b,4)};b.a.A.rH=function(a,b){a.u(3,b)};b.a.A.aR=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.TT=
function(a,b){a.j(4,b,4)};b.a.A.oH=function(a,b){a.u(4,b)};b.a.A.YQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.RT=function(a,b){a.j(4,b,4)};b.a.A.jH=function(a,b){a.u(5,b)};b.a.A.RQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.PT=function(a,b){a.j(4,b,4)};b.a.A.CF=function(a,b){a.u(6,b)};b.a.A.RP=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.mT=function(a,
b){a.j(4,b,4)};b.a.A.yH=function(a,b){a.u(7,b)};b.a.A.cR=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.UT=function(a,b){a.j(4,b,4)};b.a.A.MH=function(a,b){a.u(8,b)};b.a.A.kR=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.YT=function(a,b){a.j(4,b,4)};b.a.A.GF=function(a,b){a.u(9,b)};b.a.A.UP=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.nT=function(a,b){a.j(4,
b,4)};b.a.A.Cq=function(a,b){a.u(10,b)};b.a.A.KF=function(a,b){a.u(11,b)};b.a.A.$P=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.rT=function(a,b){a.j(4,b,4)};b.a.A.cH=function(a,b){a.u(12,b)};b.a.A.KQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.A.KT=function(a,b){a.j(4,b,4)};b.a.A.xJ=function(a){return a.ha()};b.a.A.nQ=function(a,c,f,e,d,k,m,g,p,q,h,r,O,J){b.a.A.qN(a);b.a.A.Jq(a,c);b.a.A.mH(a,f);b.a.A.td(a,
e);b.a.A.rH(a,d);b.a.A.oH(a,k);b.a.A.jH(a,m);b.a.A.CF(a,g);b.a.A.yH(a,p);b.a.A.MH(a,q);b.a.A.GF(a,h);b.a.A.Cq(a,r);b.a.A.KF(a,O);b.a.A.cH(a,J);return b.a.A.xJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Kb=function(){this.b=null;this.c=0};b.a.Kb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Kb.bS=function(a,c){return(c||new b.a.Kb).h(a.N(a.position())+a.position(),a)};b.a.Kb.prototype.bn=function(a,c){var f=this.b.f(this.c,4);return f?(c||new b.a.rj).h(this.b.J(this.c+f)+
16*a,this.b):null};b.a.Kb.prototype.TK=function(){var a=this.b.f(this.c,4);return a?this.b.fa(this.c+a):0};b.a.Kb.prototype.cb=function(a,c){var f=this.b.f(this.c,6);return f?(c||new b.a.Uc).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Kb.prototype.tf=function(){var a=this.b.f(this.c,6);return a?this.b.fa(this.c+a):0};b.a.Kb.tN=function(a){a.ia(2)};b.a.Kb.pG=function(a,b){a.u(0,b)};b.a.Kb.DT=function(a,b){a.j(16,b,8)};b.a.Kb.td=function(a,b){a.u(1,b)};b.a.Kb.ji=function(a,b){a.j(4,b.length,
4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Kb.Ui=function(a,b){a.j(4,b,4)};b.a.Kb.AJ=function(a){return a.ha()};b.a.Kb.tQ=function(a,c,f){b.a.Kb.tN(a);b.a.Kb.pG(a,c);b.a.Kb.td(a,f);return b.a.Kb.AJ(a)};b.a.sj=function(){this.b=null;this.c=0};b.a.sj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.sj.prototype.zoom=function(){return this.b.C(this.c)};b.a.sj.prototype.hash=function(){return this.b.Wd(this.c+8)};b.a.sj.sQ=function(a,b,f){a.ta(8,16);a.ij(f);a.Ei(7);a.eb(b);
return a.offset()};b.a.rj=function(){this.b=null;this.c=0};b.a.rj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.rj.prototype.hash=function(){return this.b.Wd(this.c)};b.a.rj.prototype.index=function(){return this.b.Yb(this.c+8)};b.a.rj.rQ=function(a,b,f){a.ta(8,16);a.Ei(6);a.$b(f);a.ij(b);return a.offset()};b.a.jj=function(){this.b=null;this.c=0};b.a.jj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.jj.prototype.key=function(){return this.b.Ob(this.c)};b.a.jj.prototype.value=
function(){return this.b.Wd(this.c+8)};b.a.jj.FP=function(a,b,f){a.ta(8,16);a.ij(f);a.Ei(4);a.Sc(b);return a.offset()};b.a.Uc=function(){this.b=null;this.c=0};b.a.Uc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Uc.aS=function(a,c){return(c||new b.a.Uc).h(a.N(a.position())+a.position(),a)};b.a.Uc.prototype.attributes=function(a,c){var f=this.b.f(this.c,4);return f?(c||new b.a.jj).h(this.b.J(this.c+f)+16*a,this.b):null};b.a.Uc.prototype.lI=function(){var a=this.b.f(this.c,4);return a?
this.b.fa(this.c+a):0};b.a.Uc.sN=function(a){a.ia(1)};b.a.Uc.sF=function(a,b){a.u(0,b)};b.a.Uc.fT=function(a,b){a.j(16,b,8)};b.a.Uc.zJ=function(a){return a.ha()};b.a.Uc.qQ=function(a,c){b.a.Uc.sN(a);b.a.Uc.sF(a,c);return b.a.Uc.zJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Cg=function(){this.b=null;this.c=0};b.a.Cg.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Cg.prototype.au=function(){return this.b.C(this.c)};b.a.Cg.prototype.cu=function(){return this.b.C(this.c+1)};b.a.Cg.prototype.$t=
function(){return this.b.C(this.c+2)};b.a.Cg.prototype.bu=function(){return this.b.C(this.c+3)};b.a.Cg.gQ=function(a,b,f,e,d){a.ta(1,4);a.eb(d);a.eb(e);a.eb(f);a.eb(b);return a.offset()};b.a.Tc=function(){this.b=null;this.c=0};b.a.Tc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Tc.prototype.nj=function(){return this.b.C(this.c)};b.a.Tc.prototype.oj=function(){return this.b.C(this.c+1)};b.a.Tc.prototype.Fh=function(){return this.b.C(this.c+2)};b.a.Tc.prototype.pj=function(){return this.b.C(this.c+
3)};b.a.Tc.prototype.Eh=function(){return this.b.C(this.c+4)};b.a.Tc.prototype.mj=function(){return this.b.C(this.c+5)};b.a.Tc.prototype.Dg=function(){return this.b.C(this.c+6)};b.a.Tc.prototype.lj=function(){return this.b.C(this.c+7)};b.a.Tc.prototype.Dh=function(){return this.b.C(this.c+8)};b.a.Tc.prototype.Cf=function(){return this.b.C(this.c+9)};b.a.Tc.prototype.du=function(){return this.b.C(this.c+10)};b.a.Tc.hQ=function(a,b,f,e,d,k,m,g,p,q,h,r){a.ta(1,11);a.eb(r);a.eb(h);a.eb(q);a.eb(p);a.eb(g);
a.eb(m);a.eb(k);a.eb(d);a.eb(e);a.eb(f);a.eb(b);return a.offset()};b.a.Gh=function(){this.b=null;this.c=0};b.a.Gh.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Gh.prototype.EA=function(){return this.b.C(this.c)};b.a.Gh.prototype.rA=function(){return this.b.C(this.c+1)};b.a.Gh.prototype.sA=function(){return this.b.C(this.c+2)};b.a.Gh.iQ=function(a,b,f,e){a.ta(1,3);a.eb(e);a.eb(f);a.eb(b);return a.offset()};b.a.Ua=function(){this.b=null;this.c=0};b.a.Ua.prototype.h=function(a,b){this.c=
a;this.b=b;return this};b.a.Ua.XR=function(a,c){return(c||new b.a.Ua).h(a.N(a.position())+a.position(),a)};b.a.Ua.prototype.name=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.Ua.prototype.vd=function(a){var b=this.b.f(this.c,6);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.Ua.prototype.yd=function(a){var b=this.b.f(this.c,8);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.Ua.prototype.zd=function(a){var b=this.b.f(this.c,10);return b?this.b.C(this.b.J(this.c+b)+a):
0};b.a.Ua.lN=function(a){a.ia(4)};b.a.Ua.QG=function(a,b){a.u(0,b)};b.a.Ua.OF=function(a,b){a.u(1,b)};b.a.Ua.bQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.Ua.tT=function(a,b){a.j(1,b,1)};b.a.Ua.cG=function(a,b){a.u(2,b)};b.a.Ua.kQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.Ua.xT=function(a,b){a.j(1,b,1)};b.a.Ua.dG=function(a,b){a.u(3,b)};b.a.Ua.lQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=
c;c--)a.ib(b[c]);return a.K()};b.a.Ua.yT=function(a,b){a.j(1,b,1)};b.a.Ua.uJ=function(a){var b=a.ha();a.Ts(b);return b};b.a.Ua.VP=function(a,c,f,e,d){b.a.Ua.lN(a);b.a.Ua.QG(a,c);b.a.Ua.OF(a,f);b.a.Ua.cG(a,e);b.a.Ua.dG(a,d);return b.a.Ua.uJ(a)};b.a.Rb=function(){this.b=null;this.c=0};b.a.Rb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Rb.hS=function(a,c){return(c||new b.a.Rb).h(a.N(a.position())+a.position(),a)};b.a.Rb.prototype.QL=function(a){var c=this.b.f(this.c,4);return c?(new b.a.bc).h(this.b.xa(this.b.J(this.c+
c)+4*a),this.b):null};b.a.Rb.prototype.RL=function(){var a=this.b.f(this.c,4);return a?this.b.fa(this.c+a):0};b.a.Rb.BN=function(a){a.ia(2)};b.a.Rb.bH=function(a,b){a.u(0,b)};b.a.Rb.JQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Rb.JT=function(a,b){a.j(4,b,4)};b.a.Rb.qF=function(a,b){a.u(1,b)};b.a.Rb.BP=function(a,b){a.j(2,b.length,2);for(var c=b.length-1;0<=c;c--)a.Uf(b[c]);return a.K()};b.a.Rb.dT=function(a,b){a.j(2,b,2)};b.a.Rb.HJ=function(a){return a.ha()};
b.a.Rb.EQ=function(a,c,f){b.a.Rb.BN(a);b.a.Rb.bH(a,c);b.a.Rb.qF(a,f);return b.a.Rb.HJ(a)};b.a.s=function(){this.b=null;this.c=0};b.a.s.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.s.CK=function(a){return(new b.a.s).h(a.N(a.position())+a.position(),a)};b.a.s.prototype.mn=function(a){var c=this.b.f(this.c,4);return c?(a||new b.a.Cg).h(this.c+c,this.b):null};b.a.s.prototype.nn=function(a){var c=this.b.f(this.c,6);return c?(a||new b.a.Tc).h(this.c+c,this.b):null};b.a.s.prototype.qe=function(a){var c=
this.b.f(this.c,8);return c?(a||new b.a.Gh).h(this.c+c,this.b):null};b.a.s.prototype.Ds=function(a){var b=this.b.f(this.c,10);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.s.prototype.XL=function(){var a=this.b.f(this.c,10);return a?this.b.fa(this.c+a):0};b.a.s.prototype.Fn=function(a){var b=this.b.f(this.c,12);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.s.prototype.ZL=function(){var a=this.b.f(this.c,12);return a?this.b.fa(this.c+a):0};b.a.s.prototype.Mi=function(a){var b=this.b.f(this.c,14);
return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.s.prototype.BM=function(){var a=this.b.f(this.c,14);return a?this.b.fa(this.c+a):0};b.a.s.prototype.Bs=function(a){var b=this.b.f(this.c,16);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.s.prototype.VL=function(){var a=this.b.f(this.c,16);return a?this.b.fa(this.c+a):0};b.a.s.prototype.Tq=function(a){var b=this.b.f(this.c,18);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.s.prototype.sI=function(){var a=this.b.f(this.c,18);return a?this.b.fa(this.c+
a):0};b.a.s.prototype.Us=function(a,c){var f=this.b.f(this.c,20);return f?(c||new b.a.Bc).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.s.prototype.wM=function(){var a=this.b.f(this.c,20);return a?this.b.fa(this.c+a):0};b.a.s.prototype.Wk=function(a){var b=this.b.f(this.c,22);return b?this.b.Xe(this.c+b,a):null};b.a.s.prototype.Bi=function(a){var b=this.b.f(this.c,24);return b?this.b.Xe(this.c+b,a):null};b.a.s.prototype.Ti=function(){var a=this.b.f(this.c,26);return a?this.b.la(this.c+a):
0};b.a.s.prototype.Vk=function(){var a=this.b.f(this.c,28);return a?this.b.la(this.c+a):0};b.a.s.prototype.Ai=function(){var a=this.b.f(this.c,30);return a?this.b.la(this.c+a):0};b.a.s.prototype.Uk=function(){var a=this.b.f(this.c,32);return a?this.b.la(this.c+a):0};b.a.s.prototype.zi=function(){var a=this.b.f(this.c,34);return a?this.b.la(this.c+a):0};b.a.s.prototype.mc=function(){var a=this.b.f(this.c,36);return a?this.b.la(this.c+a):0};b.a.s.prototype.hf=function(){var a=this.b.f(this.c,38);return a?
this.b.Ob(this.c+a):0};b.a.s.prototype.zc=function(){var a=this.b.f(this.c,40);return a?this.b.Yb(this.c+a):2048};b.a.s.prototype.Xx=function(){var a=this.b.f(this.c,42);return a?this.b.C(this.c+a):18};b.a.s.prototype.ii=function(a,c){var f=this.b.f(this.c,44);return f?(c||new b.a.Ua).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.s.prototype.CI=function(){var a=this.b.f(this.c,44);return a?this.b.fa(this.c+a):0};b.a.s.prototype.TL=function(){var a=this.b.f(this.c,48);return a?(new b.a.Rb).h(this.b.xa(this.c+
a),this.b):null};b.a.s.xN=function(a){a.ia(23)};b.a.s.yG=function(a,b){a.Ce(0,b)};b.a.s.zG=function(a,b){a.Ce(1,b)};b.a.s.PH=function(a,b){a.Ce(2,b)};b.a.s.gH=function(a,b){a.u(3,b)};b.a.s.MQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.s.MT=function(a,b){a.j(1,b,1)};b.a.s.iH=function(a,b){a.u(4,b)};b.a.s.QQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.s.OT=function(a,b){a.j(1,b,1)};b.a.s.qH=function(a,b){a.u(5,
b)};b.a.s.$Q=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.s.ST=function(a,b){a.j(1,b,1)};b.a.s.fH=function(a,b){a.u(6,b)};b.a.s.LQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.s.LT=function(a,b){a.j(1,b,1)};b.a.s.wF=function(a,b){a.u(7,b)};b.a.s.KP=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.s.jT=function(a,b){a.j(1,b,1)};b.a.s.nH=function(a,b){a.u(8,b)};b.a.s.XQ=
function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.s.QT=function(a,b){a.j(4,b,4)};b.a.s.KG=function(a,b){a.u(9,b)};b.a.s.JG=function(a,b){a.u(10,b)};b.a.s.AH=function(a,b){a.Oa(11,b,0)};b.a.s.GG=function(a,b){a.Oa(12,b,0)};b.a.s.HG=function(a,b){a.Oa(13,b,0)};b.a.s.DG=function(a,b){a.Oa(14,b,0)};b.a.s.EG=function(a,b){a.Oa(15,b,0)};b.a.s.tH=function(a,b){a.Oa(16,b,0)};b.a.s.PF=function(a,b){a.tc(17,b)};b.a.s.QH=function(a,b){a.sd(18,b,2048)};b.a.s.NG=function(a,
b){a.ba(19,b,18)};b.a.s.IF=function(a,b){a.u(20,b)};b.a.s.WP=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.s.oT=function(a,b){a.j(4,b,4)};b.a.s.MG=function(a,b){a.sd(21,b,25)};b.a.s.eH=function(a,b){a.u(22,b)};b.a.s.DJ=function(a){return a.ha()};b.a.s.yQ=function(a,c,f,e,d,k,m,g,p,q,h,r,O,J,u,B,P,D,y,x,H,V,G,F){b.a.s.xN(a);b.a.s.yG(a,c);b.a.s.zG(a,f);b.a.s.PH(a,e);b.a.s.gH(a,d);b.a.s.iH(a,k);b.a.s.qH(a,m);b.a.s.fH(a,g);b.a.s.wF(a,p);b.a.s.nH(a,q);b.a.s.KG(a,
h);b.a.s.JG(a,r);b.a.s.AH(a,O);b.a.s.GG(a,J);b.a.s.HG(a,u);b.a.s.DG(a,B);b.a.s.EG(a,P);b.a.s.tH(a,D);b.a.s.PF(a,y);b.a.s.QH(a,x);b.a.s.NG(a,H);b.a.s.IF(a,V);b.a.s.MG(a,G);b.a.s.eH(a,F);return b.a.s.DJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Jg=function(){this.b=null;this.c=0};b.a.Jg.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Jg.prototype.x=function(){return this.b.Yb(this.c)};b.a.Jg.prototype.y=function(){return this.b.Yb(this.c+2)};b.a.Jg.rR=function(a,b,f){a.ta(2,
4);a.$b(f);a.$b(b);return a.offset()};b.a.If=function(){this.b=null;this.c=0};b.a.If.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.If.prototype.x=function(){return this.b.qf(this.c)};b.a.If.prototype.y=function(){return this.b.qf(this.c+2)};b.a.If.qR=function(a,b,f){a.ta(2,4);a.$b(f);a.$b(b);return a.offset()};b.a.zj=function(){this.b=null;this.c=0};b.a.zj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.zj.prototype.x=function(){return this.b.la(this.c)};b.a.zj.prototype.y=
function(){return this.b.la(this.c+4)};b.a.zj.pR=function(a,b,f){a.ta(4,8);a.Jb(f);a.Jb(b);return a.offset()};b.a.Kh=function(){this.b=null;this.c=0};b.a.Kh.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Kh.prototype.x=function(){return this.b.la(this.c)};b.a.Kh.prototype.y=function(){return this.b.la(this.c+4)};b.a.Kh.prototype.z=function(){return this.b.la(this.c+8)};b.a.Kh.tR=function(a,b,f,e){a.ta(4,12);a.Jb(e);a.Jb(f);a.Jb(b);return a.offset()};b.a.Aj=function(){this.b=null;this.c=
0};b.a.Aj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Aj.prototype.x=function(){return this.b.Ms(this.c)};b.a.Aj.prototype.y=function(){return this.b.Ms(this.c+8)};b.a.Aj.prototype.z=function(){return this.b.Ms(this.c+16)};b.a.Aj.sR=function(a,b,f,e){a.ta(8,24);a.zg(e);a.zg(f);a.zg(b);return a.offset()};b.a.Fg=function(){this.b=null;this.c=0};b.a.Fg.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Fg.prototype.Rc=function(){return this.b.la(this.c)};b.a.Fg.prototype.x=
function(){return this.b.la(this.c+4)};b.a.Fg.prototype.y=function(){return this.b.la(this.c+8)};b.a.Fg.prototype.z=function(){return this.b.la(this.c+12)};b.a.Fg.SQ=function(a,b,f,e,d){a.ta(4,16);a.Jb(d);a.Jb(e);a.Jb(f);a.Jb(b);return a.offset()};b.a.xj=function(){this.b=null;this.c=0};b.a.xj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.xj.prototype.rotation=function(a){return(a||new b.a.Fg).h(this.c+24,this.b)};b.a.xj.UQ=function(a,b,f,e,d,k,m,g){a.ta(8,40);a.ta(4,16);a.Jb(g);a.Jb(m);
a.Jb(k);a.Jb(d);a.ta(8,24);a.zg(e);a.zg(f);a.zg(b);return a.offset()};b.a.Cl=function(){this.b=null;this.c=0};b.a.Cl.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Cl.prototype.by=function(a){return(a||new b.a.Kh).h(this.c,this.b)};b.a.Cl.prototype.Yf=function(){return this.b.la(this.c+12)};b.a.Cl.IQ=function(a,b,f,e,d){a.ta(4,16);a.Jb(d);a.ta(4,12);a.Jb(e);a.Jb(f);a.Jb(b);return a.offset()};b.a.Cc=function(){this.b=null;this.c=0};b.a.Cc.prototype.h=function(a,b){this.c=a;this.b=b;return this};
b.a.Cc.ZR=function(a,c){return(c||new b.a.Cc).h(a.N(a.position())+a.position(),a)};b.a.Cc.pN=function(a){a.ia(2)};b.a.Cc.aH=function(a,b){a.u(0,b)};b.a.Cc.IT=function(a,b){a.j(16,b,4)};b.a.Cc.JF=function(a,b){a.u(1,b)};b.a.Cc.qT=function(a,b){a.j(12,b,4)};b.a.Cc.wJ=function(a){return a.ha()};b.a.Cc.fQ=function(a,c,f){b.a.Cc.pN(a);b.a.Cc.aH(a,c);b.a.Cc.JF(a,f);return b.a.Cc.wJ(a)};b.a.Ag=function(){this.b=null;this.c=0};b.a.Ag.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ag.prototype.$a=
function(a){return(a||new b.a.If).h(this.c,this.b)};b.a.Ag.prototype.nb=function(a){return(a||new b.a.If).h(this.c+4,this.b)};b.a.Ag.prototype.Ad=function(a){return(a||new b.a.If).h(this.c+8,this.b)};b.a.Ag.prototype.jd=function(a){return(a||new b.a.If).h(this.c+12,this.b)};b.a.Ag.YP=function(a,b,f,e,d,k,m,g,p){a.ta(2,16);a.ta(2,4);a.$b(p);a.$b(g);a.ta(2,4);a.$b(m);a.$b(k);a.ta(2,4);a.$b(d);a.$b(e);a.ta(2,4);a.$b(f);a.$b(b);return a.offset()};b.a.wj=function(){this.b=null;this.c=0};b.a.wj.prototype.h=
function(a,b){this.c=a;this.b=b;return this};b.a.wj.prototype.position=function(a){return(a||new b.a.Jg).h(this.c,this.b)};b.a.wj.prototype.angle=function(){return this.b.la(this.c+4)};b.a.wj.AQ=function(a,b,f,e){a.ta(4,8);a.Jb(e);a.ta(2,4);a.$b(f);a.$b(b);return a.offset()}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.G=b.a.G||{};b.a.G.iA={hA:0,KO:1,cP:2,OO:3,YO:4,LO:5,TO:6};b.a.G.UO={0:"Lens",1:"Cylinder",2:"Sphere",3:"Fisheye",4:"Pinhole",5:"Equiangular",6:"Lens6"};b.a.G.pb=function(){this.b=
null;this.c=0};b.a.G.pb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.G.pb.iS=function(a,c){return(c||new b.a.G.pb).h(a.N(a.position())+a.position(),a)};b.a.G.pb.prototype.heading=function(){var a=this.b.f(this.c,6);return a?this.b.la(this.c+a):0};b.a.G.pb.prototype.frame=function(a){var c=this.b.f(this.c,8);return c?(a||new b.a.xj).h(this.c+c,this.b):null};b.a.G.pb.prototype.kK=function(a){var c=this.b.f(this.c,12);return c?(a||new b.a.Cc).h(this.b.xa(this.c+c),this.b):null};b.a.G.pb.CN=
function(a){a.ia(6)};b.a.G.pb.yF=function(a,b){a.ba(0,b,0)};b.a.G.pb.hG=function(a,b){a.Oa(1,b,0)};b.a.G.pb.Bq=function(a,b){a.Ce(2,b)};b.a.G.pb.PG=function(a,b){a.Ce(3,b)};b.a.G.pb.$F=function(a,b){a.u(4,b)};b.a.G.pb.CG=function(a,c){a.ba(5,c,b.a.G.iA.hA)};b.a.G.pb.IJ=function(a){return a.ha()};b.a.G.pb.GQ=function(a,c,f,e,d,k,m){b.a.G.pb.CN(a);b.a.G.pb.yF(a,c);b.a.G.pb.hG(a,f);b.a.G.pb.Bq(a,e);b.a.G.pb.PG(a,d);b.a.G.pb.$F(a,k);b.a.G.pb.CG(a,m);return b.a.G.pb.IJ(a)};b.a.G.tb=function(){this.b=null;
this.c=0};b.a.G.tb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.G.tb.VR=function(a,c){return(c||new b.a.G.tb).h(a.N(a.position())+a.position(),a)};b.a.G.tb.prototype.frame=function(a){var c=this.b.f(this.c,8);return c?(a||new b.a.xj).h(this.c+c,this.b):null};b.a.G.tb.prototype.height=function(){var a=this.b.f(this.c,12);return a?this.b.la(this.c+a):0};b.a.G.tb.jN=function(a){a.ia(5)};b.a.G.tb.nG=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.G.tb.OG=function(a,b){a.Ce(1,b)};b.a.G.tb.Bq=function(a,
b){a.Ce(2,b)};b.a.G.tb.YG=function(a,b){a.u(3,b)};b.a.G.tb.HQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.G.tb.HT=function(a,b){a.j(4,b,4)};b.a.G.tb.lk=function(a,b){a.Oa(4,b,0)};b.a.G.tb.sJ=function(a){return a.ha()};b.a.G.tb.SP=function(a,c,f,e,d,k){b.a.G.tb.jN(a);b.a.G.tb.nG(a,c);b.a.G.tb.OG(a,f);b.a.G.tb.Bq(a,e);b.a.G.tb.YG(a,d);b.a.G.tb.lk(a,k);return b.a.G.tb.sJ(a)};b.a.G.Metadata=function(){this.b=null;this.c=0};b.a.G.Metadata.prototype.h=function(a,
b){this.c=a;this.b=b;return this};b.a.G.Metadata.eS=function(a,c){return(c||new b.a.G.Metadata).h(a.N(a.position())+a.position(),a)};b.a.G.Metadata.prototype.version=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.G.Metadata.prototype.key=function(a){var c=this.b.f(this.c,6);return c?(a||new b.a.Hf).h(this.c+c,this.b):null};b.a.G.Metadata.yN=function(a){a.ia(3)};b.a.G.Metadata.Jq=function(a,b){a.u(0,b)};b.a.G.Metadata.Eb=function(a,b){a.Ce(1,b)};b.a.G.Metadata.hH=function(a,
b){a.u(2,b)};b.a.G.Metadata.NQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.G.Metadata.NT=function(a,b){a.j(4,b,4)};b.a.G.Metadata.EJ=function(a){return a.ha()};b.a.G.Metadata.zQ=function(a,c,f,e){b.a.G.Metadata.yN(a);b.a.G.Metadata.Jq(a,c);b.a.G.Metadata.Eb(a,f);b.a.G.Metadata.hH(a,e);return b.a.G.Metadata.EJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Ha=function(){this.b=null;this.c=0};b.a.Ha.prototype.h=function(a,b){this.c=a;this.b=b;return this};
b.a.Ha.fS=function(a,c){return(c||new b.a.Ha).h(a.N(a.position())+a.position(),a)};b.a.Ha.prototype.fc=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):0};b.a.Ha.prototype.offset=function(){var a=this.b.f(this.c,6);return a?this.b.Ob(this.c+a):0};b.a.Ha.prototype.length=function(){var a=this.b.f(this.c,8);return a?this.b.Ob(this.c+a):0};b.a.Ha.prototype.type=function(){var a=this.b.f(this.c,10);return a?this.b.Ob(this.c+a):0};b.a.Ha.prototype.Ir=function(){var a=this.b.f(this.c,12);
return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.Ha.prototype.cb=function(a,c){var f=this.b.f(this.c,14);return f?(c||new b.a.Sb).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.Ha.prototype.tf=function(){var a=this.b.f(this.c,14);return a?this.b.fa(this.c+a):0};b.a.Ha.zN=function(a){a.ia(6)};b.a.Ha.Sg=function(a,b){a.ba(0,b,0)};b.a.Ha.ga=function(a,b){a.tc(1,b)};b.a.Ha.Dq=function(a,b){a.tc(2,b)};b.a.Ha.SH=function(a,b){a.tc(3,b)};b.a.Ha.iG=function(a,b){a.Db(4,b,a.ca(0,0))};b.a.Ha.td=function(a,
b){a.u(5,b)};b.a.Ha.ji=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.Ha.Ui=function(a,b){a.j(4,b,4)};b.a.Ha.FJ=function(a){return a.ha()};b.a.Ha.CQ=function(a,c,f,e,d,k,m){b.a.Ha.zN(a);b.a.Ha.Sg(a,c);b.a.Ha.ga(a,f);b.a.Ha.Dq(a,e);b.a.Ha.SH(a,d);b.a.Ha.iG(a,k);b.a.Ha.td(a,m);return b.a.Ha.FJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.U=function(){this.b=null;this.c=0};b.a.U.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.U.jS=function(a,
c){return(c||new b.a.U).h(a.N(a.position())+a.position(),a)};b.a.U.prototype.fc=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):0};b.a.U.prototype.cn=function(){var a=this.b.f(this.c,6);return a?this.b.C(this.c+a):0};b.a.U.prototype.At=function(){var a=this.b.f(this.c,8);return a?this.b.Ob(this.c+a):0};b.a.U.prototype.$n=function(){var a=this.b.f(this.c,10);return a?this.b.Ob(this.c+a):0};b.a.U.prototype.ur=function(){var a=this.b.f(this.c,12);return a?this.b.Ob(this.c+a):0};b.a.U.prototype.tr=
function(){var a=this.b.f(this.c,14);return a?this.b.Ob(this.c+a):0};b.a.U.prototype.cb=function(a,c){var f=this.b.f(this.c,16);return f?(c||new b.a.Sb).h(this.b.xa(this.b.J(this.c+f)+4*a),this.b):null};b.a.U.prototype.tf=function(){var a=this.b.f(this.c,16);return a?this.b.fa(this.c+a):0};b.a.U.DN=function(a){a.ia(7)};b.a.U.Sg=function(a,b){a.ba(0,b,0)};b.a.U.qG=function(a,b){a.ba(1,b,0)};b.a.U.DH=function(a,b){a.tc(2,b)};b.a.U.CH=function(a,b){a.tc(3,b)};b.a.U.TF=function(a,b){a.tc(4,b)};b.a.U.SF=
function(a,b){a.tc(5,b)};b.a.U.td=function(a,b){a.u(6,b)};b.a.U.ji=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.U.Ui=function(a,b){a.j(4,b,4)};b.a.U.JJ=function(a){return a.ha()};b.a.U.OQ=function(a,c,e,d,n,k,m,g){b.a.U.DN(a);b.a.U.Sg(a,c);b.a.U.qG(a,e);b.a.U.DH(a,d);b.a.U.CH(a,n);b.a.U.TF(a,k);b.a.U.SF(a,m);b.a.U.td(a,g);return b.a.U.JJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.qa=function(){this.b=null;this.c=0};b.a.qa.prototype.h=function(a,
b){this.c=a;this.b=b;return this};b.a.qa.nS=function(a,c){return(c||new b.a.qa).h(a.N(a.position())+a.position(),a)};b.a.qa.prototype.position=function(a){var c=this.b.f(this.c,4);return c?(a||new b.a.wj).h(this.c+c,this.b):null};b.a.qa.prototype.CO=function(a){var b=this.b.f(this.c,6);return b?this.b.Yb(this.b.J(this.c+b)+2*a):0};b.a.qa.prototype.DO=function(){var a=this.b.f(this.c,6);return a?this.b.fa(this.c+a):0};b.a.qa.IN=function(a){a.ia(2)};b.a.qa.Gq=function(a,b){a.Ce(0,b)};b.a.qa.aI=function(a,
b){a.u(1,b)};b.a.qa.wR=function(a,b){a.j(2,b.length,2);for(var c=b.length-1;0<=c;c--)a.Uf(b[c]);return a.K()};b.a.qa.bU=function(a,b){a.j(2,b,2)};b.a.qa.NJ=function(a){return a.ha()};b.a.qa.WQ=function(a,c,e){b.a.qa.IN(a);b.a.qa.Gq(a,c);b.a.qa.aI(a,e);return b.a.qa.NJ(a)};b.a.zb=function(){this.b=null;this.c=0};b.a.zb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.zb.YR=function(a,c){return(c||new b.a.zb).h(a.N(a.position())+a.position(),a)};b.a.zb.prototype.id=function(){var a=this.b.f(this.c,
4);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.zb.prototype.length=function(){var a=this.b.f(this.c,6);return a?this.b.Yb(this.c+a):0};b.a.zb.prototype.Dr=function(a){var b=this.b.f(this.c,8);return b?this.b.Yb(this.b.J(this.c+b)+2*a):0};b.a.zb.prototype.lK=function(){var a=this.b.f(this.c,8);return a?this.b.fa(this.c+a):0};b.a.zb.mN=function(a){a.ia(3)};b.a.zb.bf=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.zb.Dq=function(a,b){a.sd(1,b,0)};b.a.zb.aG=function(a,b){a.u(2,b)};b.a.zb.jQ=function(a,b){a.j(2,
b.length,2);for(var c=b.length-1;0<=c;c--)a.Uf(b[c]);return a.K()};b.a.zb.wT=function(a,b){a.j(2,b,2)};b.a.zb.vJ=function(a){return a.ha()};b.a.zb.ZP=function(a,c,e,d){b.a.zb.mN(a);b.a.zb.bf(a,c);b.a.zb.Dq(a,e);b.a.zb.aG(a,d);return b.a.zb.vJ(a)};b.a.$=function(){this.b=null;this.c=0};b.a.$.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.$.mS=function(a,c){return(c||new b.a.$).h(a.N(a.position())+a.position(),a)};b.a.$.prototype.fc=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+
a):0};b.a.$.prototype.offset=function(){var a=this.b.f(this.c,6);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.$.prototype.count=function(){var a=this.b.f(this.c,8);return a?this.b.Ob(this.c+a):0};b.a.$.prototype.yl=function(){var a=this.b.f(this.c,10);return a?this.b.Ob(this.c+a):0};b.a.$.prototype.cb=function(a,c){var e=this.b.f(this.c,12);return e?(c||new b.a.Sb).h(this.b.xa(this.b.J(this.c+e)+4*a),this.b):null};b.a.$.prototype.tf=function(){var a=this.b.f(this.c,12);return a?this.b.fa(this.c+
a):0};b.a.$.HN=function(a){a.ia(5)};b.a.$.Sg=function(a,b){a.ba(0,b,0)};b.a.$.ga=function(a,b){a.Db(1,b,a.ca(0,0))};b.a.$.zq=function(a,b){a.tc(2,b)};b.a.$.$H=function(a,b){a.tc(3,b)};b.a.$.td=function(a,b){a.u(4,b)};b.a.$.ji=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.$.Ui=function(a,b){a.j(4,b,4)};b.a.$.MJ=function(a){return a.ha()};b.a.$.VQ=function(a,c,e,d,n,k){b.a.$.HN(a);b.a.$.Sg(a,c);b.a.$.ga(a,e);b.a.$.zq(a,d);b.a.$.$H(a,n);b.a.$.td(a,k);return b.a.$.MJ(a)}}).call({},
e);(function(b){b=b||{};b.a=b.a||{};b.a.V=function(){this.b=null;this.c=0};b.a.V.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.V.pS=function(a,c){return(c||new b.a.V).h(a.N(a.position())+a.position(),a)};b.a.V.prototype.text=function(a){var b=this.b.f(this.c,4);return b?this.b.Xe(this.c+b,a):null};b.a.V.prototype.id=function(){var a=this.b.f(this.c,6);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.V.prototype.jg=function(a,c){var e=this.b.f(this.c,8);return e?(c||new b.a.Jg).h(this.b.J(this.c+
e)+4*a,this.b):null};b.a.V.prototype.Gs=function(){var a=this.b.f(this.c,8);return a?this.b.fa(this.c+a):0};b.a.V.prototype.Zq=function(){var a=this.b.f(this.c,10);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.V.prototype.Wb=function(){var a=this.b.f(this.c,12);return a?this.b.la(this.c+a):0};b.a.V.prototype.variant=function(){var a=this.b.f(this.c,16);return a?this.b.C(this.c+a):0};b.a.V.KN=function(a){a.ia(7)};b.a.V.JH=function(a,b){a.u(0,b)};b.a.V.bf=function(a,b){a.Db(1,b,a.ca(0,0))};b.a.V.Hq=
function(a,b){a.u(2,b)};b.a.V.FN=function(a,b){a.j(4,b,2)};b.a.V.DF=function(a,b){a.Db(3,b,a.ca(0,0))};b.a.V.Eq=function(a,b){a.Oa(4,b,0)};b.a.V.VG=function(a,b){a.u(5,b)};b.a.V.BQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.V.FT=function(a,b){a.j(1,b,1)};b.a.V.XH=function(a,b){a.ba(6,b,0)};b.a.V.PJ=function(a){return a.ha()};b.a.V.bR=function(a,c,e,d,n,k,m,g){b.a.V.KN(a);b.a.V.JH(a,c);b.a.V.bf(a,e);b.a.V.Hq(a,d);b.a.V.DF(a,n);b.a.V.Eq(a,k);b.a.V.VG(a,
m);b.a.V.XH(a,g);return b.a.V.PJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Wo={Po:0,Iz:1,FO:2};b.a.$O={0:"BelowRoad",1:"AboveRoad",2:"AboveBuildings"};b.a.Jf={NONE:0,R:1,ra:2,pa:3,oa:4,P:5,Lb:6};b.a.jP={0:"NONE",1:"RoadStyle",2:"TextLabelStyle",3:"PolygonStyle",4:"CoastlineStyle",5:"BuildingStyle",6:"POIDensityStyle"};b.a.R=function(){this.b=null;this.c=0};b.a.R.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.R.oS=function(a,c){return(c||new b.a.R).h(a.N(a.position())+a.position(),
a)};b.a.R.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.R.prototype.Rm=function(){var a=this.b.f(this.c,6);return a?this.b.C(this.c+a):0};b.a.R.prototype.ao=function(){var a=this.b.f(this.c,8);return a?this.b.C(this.c+a):0};b.a.R.prototype.fillColor=function(a){var b=this.b.f(this.c,10);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.R.prototype.Pr=function(){var a=this.b.f(this.c,12);return a?!!this.b.ld(this.c+a):!1};b.a.R.prototype.width=function(){var a=
this.b.f(this.c,14);return a?this.b.la(this.c+a):0};b.a.R.prototype.nc=function(){var a=this.b.f(this.c,16);return a?this.b.la(this.c+a):0};b.a.R.prototype.strokeColor=function(a){var b=this.b.f(this.c,18);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.R.prototype.tl=function(){var a=this.b.f(this.c,20);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.R.prototype.Dk=function(){var a=this.b.f(this.c,22);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.R.prototype.jn=function(){var a=this.b.f(this.c,
24);return a?!!this.b.ld(this.c+a):!1};b.a.R.prototype.Rn=function(){var a=this.b.f(this.c,26);return a?!!this.b.ld(this.c+a):!1};b.a.R.prototype.kn=function(){var a=this.b.f(this.c,28);return a?!!this.b.ld(this.c+a):!1};b.a.R.JN=function(a){a.ia(13)};b.a.R.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.R.VF=function(a,b){a.ba(1,b,0)};b.a.R.GH=function(a,b){a.ba(2,b,0)};b.a.R.Aq=function(a,b){a.u(3,b)};b.a.R.II=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.R.oN=
function(a,b){a.j(1,b,1)};b.a.R.tG=function(a,b){a.ba(4,+b,0)};b.a.R.qk=function(a,b){a.Oa(5,b,0)};b.a.R.nk=function(a,b){a.Oa(6,b,0)};b.a.R.mk=function(a,b){a.u(7,b)};b.a.R.Gw=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.R.kz=function(a,b){a.j(1,b,1)};b.a.R.EH=function(a,b){a.Db(8,b,a.ca(0,0))};b.a.R.UF=function(a,b){a.Db(9,b,a.ca(0,0))};b.a.R.uG=function(a,b){a.ba(10,+b,0)};b.a.R.sH=function(a,b){a.ba(11,+b,0)};b.a.R.vG=function(a,b){a.ba(12,+b,0)};
b.a.R.OJ=function(a){return a.ha()};b.a.R.ZQ=function(a,c,e,d,n,k,m,g,p,q,h,r,O,J){b.a.R.JN(a);b.a.R.Eb(a,c);b.a.R.VF(a,e);b.a.R.GH(a,d);b.a.R.Aq(a,n);b.a.R.tG(a,k);b.a.R.qk(a,m);b.a.R.nk(a,g);b.a.R.mk(a,p);b.a.R.EH(a,q);b.a.R.UF(a,h);b.a.R.uG(a,r);b.a.R.sH(a,O);b.a.R.vG(a,J);return b.a.R.OJ(a)};b.a.ra=function(){this.b=null;this.c=0};b.a.ra.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.ra.uS=function(a,c){return(c||new b.a.ra).h(a.N(a.position())+a.position(),a)};b.a.ra.prototype.key=
function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.ra.prototype.Kk=function(){var a=this.b.f(this.c,6);return a?this.b.la(this.c+a):0};b.a.ra.prototype.ge=function(){var a=this.b.f(this.c,8);return a?this.b.la(this.c+a):0};b.a.ra.prototype.uf=function(a){var b=this.b.f(this.c,10);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.ra.prototype.sg=function(a){var b=this.b.f(this.c,12);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.ra.prototype.padding=function(){var a=
this.b.f(this.c,14);return a?this.b.C(this.c+a):0};b.a.ra.prototype.je=function(){var a=this.b.f(this.c,16);return a?this.b.C(this.c+a):0};b.a.ra.PN=function(a){a.ia(7)};b.a.ra.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.ra.eG=function(a,b){a.Oa(1,b,0)};b.a.ra.YF=function(a,b){a.Oa(2,b,0)};b.a.ra.KH=function(a,b){a.u(3,b)};b.a.ra.gR=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.ra.WT=function(a,b){a.j(1,b,1)};b.a.ra.LH=function(a,b){a.u(4,b)};b.a.ra.hR=function(a,
b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.ra.XT=function(a,b){a.j(1,b,1)};b.a.ra.Fq=function(a,b){a.ba(5,b,0)};b.a.ra.lG=function(a,b){a.ba(6,b,0)};b.a.ra.UJ=function(a){return a.ha()};b.a.ra.jR=function(a,c,e,d,n,k,m,g){b.a.ra.PN(a);b.a.ra.Eb(a,c);b.a.ra.eG(a,e);b.a.ra.YF(a,d);b.a.ra.KH(a,n);b.a.ra.LH(a,k);b.a.ra.Fq(a,m);b.a.ra.lG(a,g);return b.a.ra.UJ(a)};b.a.P=function(){this.b=null;this.c=0};b.a.P.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.P.PR=
function(a,c){return(c||new b.a.P).h(a.N(a.position())+a.position(),a)};b.a.P.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.P.prototype.visible=function(){var a=this.b.f(this.c,6);return a?!!this.b.ld(this.c+a):!1};b.a.P.prototype.rt=function(){var a=this.b.f(this.c,8);return a?this.b.la(this.c+a):0};b.a.P.prototype.nc=function(){var a=this.b.f(this.c,10);return a?this.b.la(this.c+a):0};b.a.P.prototype.strokeColor=function(a){var b=this.b.f(this.c,
12);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.P.prototype.Bt=function(){var a=this.b.f(this.c,14);return a?this.b.la(this.c+a):0};b.a.P.prototype.Wi=function(a){var b=this.b.f(this.c,16);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.P.prototype.ri=function(a){var b=this.b.f(this.c,18);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.P.prototype.$g=function(a){var b=this.b.f(this.c,20);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.P.prototype.$i=function(a){var b=this.b.f(this.c,22);return b?
this.b.C(this.b.J(this.c+b)+a):0};b.a.P.prototype.zIndex=function(){var a=this.b.f(this.c,24);return a?this.b.Ob(this.c+a):0};b.a.P.dN=function(a){a.ia(11)};b.a.P.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.P.pk=function(a,b){a.ba(1,+b,0)};b.a.P.zH=function(a,b){a.Oa(2,b,0)};b.a.P.nk=function(a,b){a.Oa(3,b,0)};b.a.P.mk=function(a,b){a.u(4,b)};b.a.P.Gw=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.P.kz=function(a,b){a.j(1,b,1)};b.a.P.FH=function(a,b){a.Oa(5,
b,0)};b.a.P.BH=function(a,b){a.u(6,b)};b.a.P.eR=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.P.VT=function(a,b){a.j(1,b,1)};b.a.P.QF=function(a,b){a.u(7,b)};b.a.P.dQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.P.uT=function(a,b){a.j(1,b,1)};b.a.P.WF=function(a,b){a.u(8,b)};b.a.P.eQ=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.P.vT=function(a,b){a.j(1,b,1)};b.a.P.RH=
function(a,b){a.u(9,b)};b.a.P.nR=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.P.$T=function(a,b){a.j(1,b,1)};b.a.P.Kq=function(a,b){a.tc(10,b)};b.a.P.mJ=function(a){return a.ha()};b.a.P.JP=function(a,c,e,d,n,k,m,g,p,q,h,r){b.a.P.dN(a);b.a.P.Eb(a,c);b.a.P.pk(a,e);b.a.P.zH(a,d);b.a.P.nk(a,n);b.a.P.mk(a,k);b.a.P.FH(a,m);b.a.P.BH(a,g);b.a.P.QF(a,p);b.a.P.WF(a,q);b.a.P.RH(a,h);b.a.P.Kq(a,r);return b.a.P.mJ(a)};b.a.pa=function(){this.b=null;this.c=0};b.a.pa.prototype.h=
function(a,b){this.c=a;this.b=b;return this};b.a.pa.kS=function(a,c){return(c||new b.a.pa).h(a.N(a.position())+a.position(),a)};b.a.pa.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.pa.prototype.visible=function(){var a=this.b.f(this.c,6);return a?!!this.b.ld(this.c+a):!1};b.a.pa.prototype.zIndex=function(){var a=this.b.f(this.c,8);return a?this.b.Ob(this.c+a):0};b.a.pa.prototype.nc=function(){var a=this.b.f(this.c,10);return a?this.b.la(this.c+
a):0};b.a.pa.prototype.strokeColor=function(a){var b=this.b.f(this.c,12);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.pa.prototype.fillColor=function(a){var b=this.b.f(this.c,14);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.pa.prototype.ab=function(){var a=this.b.f(this.c,16);return a?this.b.C(this.c+a):b.a.Wo.Po};b.a.pa.EN=function(a){a.ia(7)};b.a.pa.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.pa.pk=function(a,b){a.ba(1,+b,0)};b.a.pa.Kq=function(a,b){a.tc(2,b)};b.a.pa.nk=function(a,b){a.Oa(3,b,
0)};b.a.pa.mk=function(a,b){a.u(4,b)};b.a.pa.Gw=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.pa.kz=function(a,b){a.j(1,b,1)};b.a.pa.Aq=function(a,b){a.u(5,b)};b.a.pa.II=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.pa.oN=function(a,b){a.j(1,b,1)};b.a.pa.ZG=function(a,c){a.ba(6,c,b.a.Wo.Po)};b.a.pa.KJ=function(a){return a.ha()};b.a.pa.PQ=function(a,c,e,d,n,k,m,g){b.a.pa.EN(a);b.a.pa.Eb(a,c);b.a.pa.pk(a,e);b.a.pa.Kq(a,
d);b.a.pa.nk(a,n);b.a.pa.mk(a,k);b.a.pa.Aq(a,m);b.a.pa.ZG(a,g);return b.a.pa.KJ(a)};b.a.oa=function(){this.b=null;this.c=0};b.a.oa.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.oa.UR=function(a,c){return(c||new b.a.oa).h(a.N(a.position())+a.position(),a)};b.a.oa.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.oa.prototype.color=function(a){var b=this.b.f(this.c,6);return b?this.b.C(this.b.J(this.c+b)+a):0};b.a.oa.prototype.nt=function(){var a=
this.b.f(this.c,8);return a?this.b.la(this.c+a):0};b.a.oa.prototype.ot=function(){var a=this.b.f(this.c,10);return a?this.b.la(this.c+a):0};b.a.oa.prototype.Lr=function(){var a=this.b.f(this.c,12);return a?this.b.la(this.c+a):0};b.a.oa.prototype.Kr=function(){var a=this.b.f(this.c,14);return a?this.b.la(this.c+a):0};b.a.oa.prototype.ys=function(){var a=this.b.f(this.c,16);return a?this.b.la(this.c+a):0};b.a.oa.prototype.xs=function(){var a=this.b.f(this.c,18);return a?this.b.la(this.c+a):0};b.a.oa.iN=
function(a){a.ia(8)};b.a.oa.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.oa.HF=function(a,b){a.u(1,b)};b.a.oa.XP=function(a,b){a.j(1,b.length,1);for(var c=b.length-1;0<=c;c--)a.ib(b[c]);return a.K()};b.a.oa.pT=function(a,b){a.j(1,b,1)};b.a.oa.vH=function(a,b){a.Oa(2,b,0)};b.a.oa.wH=function(a,b){a.Oa(3,b,0)};b.a.oa.sG=function(a,b){a.Oa(4,b,0)};b.a.oa.rG=function(a,b){a.Oa(5,b,0)};b.a.oa.UG=function(a,b){a.Oa(6,b,0)};b.a.oa.TG=function(a,b){a.Oa(7,b,0)};b.a.oa.rJ=function(a){return a.ha()};b.a.oa.QP=
function(a,c,e,d,n,k,m,g,p){b.a.oa.iN(a);b.a.oa.Eb(a,c);b.a.oa.HF(a,e);b.a.oa.vH(a,d);b.a.oa.wH(a,n);b.a.oa.sG(a,k);b.a.oa.rG(a,m);b.a.oa.UG(a,g);b.a.oa.TG(a,p);return b.a.oa.rJ(a)};b.a.Lb=function(){this.b=null;this.c=0};b.a.Lb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Lb.gS=function(a,c){return(c||new b.a.Lb).h(a.N(a.position())+a.position(),a)};b.a.Lb.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.Lb.prototype.Ym=function(){var a=
this.b.f(this.c,6);return a?this.b.la(this.c+a):1};b.a.Lb.prototype.$m=function(){var a=this.b.f(this.c,8);return a?this.b.la(this.c+a):1};b.a.Lb.AN=function(a){a.ia(3)};b.a.Lb.Eb=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.Lb.kG=function(a,b){a.Oa(1,b,1)};b.a.Lb.mG=function(a,b){a.Oa(2,b,1)};b.a.Lb.GJ=function(a){return a.ha()};b.a.Lb.DQ=function(a,c,e,d){b.a.Lb.AN(a);b.a.Lb.Eb(a,c);b.a.Lb.kG(a,e);b.a.Lb.mG(a,d);return b.a.Lb.GJ(a)};b.a.Sb=function(){this.b=null;this.c=0};b.a.Sb.prototype.h=function(a,
b){this.c=a;this.b=b;return this};b.a.Sb.sS=function(a,c){return(c||new b.a.Sb).h(a.N(a.position())+a.position(),a)};b.a.Sb.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):0};b.a.Sb.prototype.key=function(){var a=this.b.f(this.c,6);return a?this.b.ne(this.c+a):this.b.ca(0,0)};b.a.Sb.NN=function(a){a.ia(2)};b.a.Sb.rk=function(a,b){a.ba(0,b,0)};b.a.Sb.Eb=function(a,b){a.Db(1,b,a.ca(0,0))};b.a.Sb.SJ=function(a){return a.ha()};b.a.Sb.fR=function(a,c,e){b.a.Sb.NN(a);b.a.Sb.rk(a,
c);b.a.Sb.Eb(a,e);return b.a.Sb.SJ(a)};b.a.Gc=function(){this.b=null;this.c=0};b.a.Gc.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Gc.rS=function(a,c){return(c||new b.a.Gc).h(a.N(a.position())+a.position(),a)};b.a.Gc.prototype.WN=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):b.a.Jf.NONE};b.a.Gc.prototype.style=function(a){var b=this.b.f(this.c,6);return b?this.b.LA(a,this.c+b):null};b.a.Gc.MN=function(a){a.ia(2)};b.a.Gc.IH=function(a,c){a.ba(0,c,b.a.Jf.NONE)};b.a.Gc.HH=
function(a){a.u(1,void 0)};b.a.Gc.RJ=function(a){return a.ha()};b.a.Gc.Hm=function(a,c){b.a.Gc.MN(a);b.a.Gc.IH(a,c);b.a.Gc.HH(a);return b.a.Gc.RJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.uj=function(){this.b=null;this.c=0};b.a.uj.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.uj.prototype.ef=function(){return this.b.C(this.c)};b.a.uj.prototype.lineWidth=function(){return this.b.Yb(this.c+2)};b.a.uj.xQ=function(a,b,e){a.ta(2,4);a.$b(e);a.Ei(1);a.eb(b);return a.offset()};
b.a.Ga=function(){this.b=null;this.c=0};b.a.Ga.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ga.dS=function(a,c){return(c||new b.a.Ga).h(a.N(a.position())+a.position(),a)};b.a.Ga.prototype.ly=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):0};b.a.Ga.prototype.orientation=function(){var a=this.b.f(this.c,6);return a?this.b.C(this.c+a):0};b.a.Ga.prototype.position=function(){var a=this.b.f(this.c,8);return a?this.b.C(this.c+a):0};b.a.Ga.prototype.Az=function(){var a=this.b.f(this.c,
10);return a?!!this.b.ld(this.c+a):!1};b.a.Ga.prototype.ry=function(){var a=this.b.f(this.c,12);return a?this.b.Ob(this.c+a):0};b.a.Ga.prototype.sx=function(){var a=this.b.f(this.c,14);return a?!!this.b.ld(this.c+a):!1};b.a.Ga.prototype.Kx=function(a){var c=this.b.f(this.c,16);return c?(a||new b.a.zj).h(this.c+c,this.b):null};b.a.Ga.vN=function(a){a.ia(7)};b.a.Ga.$G=function(a,b){a.ba(0,b,0)};b.a.Ga.SG=function(a,b){a.ba(1,b,0)};b.a.Ga.Gq=function(a,b){a.ba(2,b,0)};b.a.Ga.WH=function(a,b){a.ba(3,
+b,0)};b.a.Ga.kH=function(a,b){a.tc(4,b)};b.a.Ga.fG=function(a,b){a.ba(5,+b,0)};b.a.Ga.BG=function(a,b){a.Ce(6,b)};b.a.Ga.CJ=function(a){return a.ha()};b.a.Ga.wQ=function(a,c,e,d,n,k,m,g){b.a.Ga.vN(a);b.a.Ga.$G(a,c);b.a.Ga.SG(a,e);b.a.Ga.Gq(a,d);b.a.Ga.WH(a,n);b.a.Ga.kH(a,k);b.a.Ga.fG(a,m);b.a.Ga.BG(a,g);return b.a.Ga.CJ(a)};b.a.Ka=function(){this.b=null;this.c=0};b.a.Ka.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ka.SR=function(a,c){return(c||new b.a.Ka).h(a.N(a.position())+a.position(),
a)};b.a.Ka.prototype.lines=function(a,c){var e=this.b.f(this.c,4);return e?(c||new b.a.uj).h(this.b.J(this.c+e)+4*a,this.b):null};b.a.Ka.prototype.kL=function(){var a=this.b.f(this.c,4);return a?this.b.fa(this.c+a):0};b.a.Ka.prototype.lineHeight=function(){var a=this.b.f(this.c,6);return a?this.b.Yb(this.c+a):0};b.a.Ka.prototype.Vx=function(){var a=this.b.f(this.c,8);return a?this.b.Yb(this.c+a):0};b.a.Ka.prototype.offset=function(){var a=this.b.f(this.c,10);return a?this.b.Yb(this.c+a):0};b.a.Ka.prototype.Qd=
function(){var a=this.b.f(this.c,12);return a?this.b.C(this.c+a):0};b.a.Ka.prototype.Sd=function(){var a=this.b.f(this.c,14);return a?this.b.C(this.c+a):0};b.a.Ka.gN=function(a){a.ia(6)};b.a.Ka.IG=function(a,b){a.u(0,b)};b.a.Ka.ET=function(a,b){a.j(4,b,2)};b.a.Ka.FG=function(a,b){a.sd(1,b,0)};b.a.Ka.LG=function(a,b){a.sd(2,b,0)};b.a.Ka.ga=function(a,b){a.sd(3,b,0)};b.a.Ka.LF=function(a,b){a.ba(4,b,0)};b.a.Ka.bG=function(a,b){a.ba(5,b,0)};b.a.Ka.pJ=function(a){return a.ha()};b.a.Ka.createCaption=function(a,
c,e,d,n,k,m){b.a.Ka.gN(a);b.a.Ka.IG(a,c);b.a.Ka.FG(a,e);b.a.Ka.LG(a,d);b.a.Ka.ga(a,n);b.a.Ka.LF(a,k);b.a.Ka.bG(a,m);return b.a.Ka.pJ(a)};b.a.Ic=function(){this.b=null;this.c=0};b.a.Ic.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Ic.xS=function(a,c){return(c||new b.a.Ic).h(a.N(a.position())+a.position(),a)};b.a.Ic.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+a):0};b.a.Ic.prototype.caption=function(a){var c=this.b.f(this.c,6);return c?(a||new b.a.Ka).h(this.b.xa(this.c+
c),this.b):null};b.a.Ic.SN=function(a){a.ia(2)};b.a.Ic.rk=function(a,b){a.ba(0,b,0)};b.a.Ic.zF=function(a,b){a.u(1,b)};b.a.Ic.XJ=function(a){return a.ha()};b.a.Ic.vR=function(a,c,e){b.a.Ic.SN(a);b.a.Ic.rk(a,c);b.a.Ic.zF(a,e);return b.a.Ic.XJ(a)};b.a.ic=function(){this.b=null;this.c=0};b.a.ic.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.ic.wS=function(a,c){return(c||new b.a.ic).h(a.N(a.position())+a.position(),a)};b.a.ic.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.C(this.c+
a):0};b.a.ic.prototype.nI=function(a){var c=this.b.f(this.c,6);return c?(new b.a.Ag).h(this.b.J(this.c+c)+16*a,this.b):null};b.a.ic.prototype.oI=function(){var a=this.b.f(this.c,6);return a?this.b.fa(this.c+a):0};b.a.ic.RN=function(a){a.ia(2)};b.a.ic.rk=function(a,b){a.ba(0,b,0)};b.a.ic.uF=function(a,b){a.u(1,b)};b.a.ic.hT=function(a,b){a.j(16,b,2)};b.a.ic.WJ=function(a){return a.ha()};b.a.ic.uR=function(a,c,e){b.a.ic.RN(a);b.a.ic.rk(a,c);b.a.ic.uF(a,e);return b.a.ic.WJ(a)};b.a.w=function(){this.b=
null;this.c=0};b.a.w.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.w.tS=function(a,c){return(c||new b.a.w).h(a.N(a.position())+a.position(),a)};b.a.w.prototype.kd=function(){var a=this.b.f(this.c,4);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.w.prototype.uk=function(){var a=this.b.f(this.c,6);return a?!!this.b.ld(this.c+a):!1};b.a.w.prototype.cb=function(a,c){var e=this.b.f(this.c,8);return e?(c||new b.a.Sb).h(this.b.xa(this.b.J(this.c+e)+4*a),this.b):null};b.a.w.prototype.tf=
function(){var a=this.b.f(this.c,8);return a?this.b.fa(this.c+a):0};b.a.w.prototype.Vf=function(a,c){var e=this.b.f(this.c,10);return e?(c||new b.a.Ic).h(this.b.xa(this.b.J(this.c+e)+4*a),this.b):null};b.a.w.prototype.vI=function(){var a=this.b.f(this.c,10);return a?this.b.fa(this.c+a):0};b.a.w.prototype.wO=function(){var a=this.b.f(this.c,12);return a?!!this.b.ld(this.c+a):!1};b.a.w.prototype.Fi=function(a,c){var e=this.b.f(this.c,14);return e?(c||new b.a.ic).h(this.b.xa(this.b.J(this.c+e)+4*a),
this.b):null};b.a.w.prototype.LL=function(){var a=this.b.f(this.c,14);return a?this.b.fa(this.c+a):0};b.a.w.prototype.jg=function(a,c){var e=this.b.f(this.c,16);return e?(c||new b.a.Jg).h(this.b.J(this.c+e)+4*a,this.b):null};b.a.w.prototype.Gs=function(){var a=this.b.f(this.c,16);return a?this.b.fa(this.c+a):0};b.a.w.prototype.Zr=function(a){var c=this.b.f(this.c,18);return c?(a||new b.a.Ga).h(this.b.xa(this.c+c),this.b):null};b.a.w.prototype.Wb=function(){var a=this.b.f(this.c,20);return a?this.b.la(this.c+
a):0};b.a.w.prototype.dd=function(a,c){var e=this.b.f(this.c,22);return e?(c||new b.a.sj).h(this.b.J(this.c+e)+16*a,this.b):null};b.a.w.prototype.RK=function(){var a=this.b.f(this.c,22);return a?this.b.fa(this.c+a):0};b.a.w.prototype.Ub=function(){var a=this.b.f(this.c,24);return a?this.b.Wd(this.c+a):this.b.ca(0,0)};b.a.w.ON=function(a){a.ia(12)};b.a.w.lH=function(a,b){a.Db(0,b,a.ca(0,0))};b.a.w.AF=function(a,b){a.ba(1,+b,0)};b.a.w.td=function(a,b){a.u(2,b)};b.a.w.ji=function(a,b){a.j(4,b.length,
4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.w.Ui=function(a,b){a.j(4,b,4)};b.a.w.BF=function(a,b){a.u(3,b)};b.a.w.OP=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.w.lT=function(a,b){a.j(4,b,4)};b.a.w.VH=function(a,b){a.ba(4,+b,0)};b.a.w.XG=function(a,b){a.u(5,b)};b.a.w.FQ=function(a,b){a.j(4,b.length,4);for(var c=b.length-1;0<=c;c--)a.ga(b[c]);return a.K()};b.a.w.GT=function(a,b){a.j(4,b,4)};b.a.w.Hq=function(a,b){a.u(6,b)};b.a.w.FN=function(a,
b){a.j(4,b,2)};b.a.w.AG=function(a,b){a.u(7,b)};b.a.w.Eq=function(a,b){a.Oa(8,b,0)};b.a.w.Cq=function(a,b){a.u(9,b)};b.a.w.BT=function(a,b){a.j(16,b,8)};b.a.w.RF=function(a,b){a.Db(10,b,a.ca(0,0))};b.a.w.dH=function(a,b){a.sd(11,b,0)};b.a.w.TJ=function(a){return a.ha()};b.a.w.iR=function(a,c,e,d,n,k,m,g,p,q,h,r,O){b.a.w.ON(a);b.a.w.lH(a,c);b.a.w.AF(a,e);b.a.w.td(a,d);b.a.w.BF(a,n);b.a.w.VH(a,k);b.a.w.XG(a,m);b.a.w.Hq(a,g);b.a.w.AG(a,p);b.a.w.Eq(a,q);b.a.w.Cq(a,h);b.a.w.RF(a,r);b.a.w.dH(a,O);return b.a.w.TJ(a)}}).call({},
e);(function(b){b=b||{};b.a=b.a||{};b.a.Vo={DEPTH_COMPONENT:0,ALPHA:1,RGB:2,RGBA:3,LUMINANCE:4,LUMINANCE_ALPHA:5};b.a.ZO={0:"DEPTH_COMPONENT",1:"ALPHA",2:"RGB",3:"RGBA",4:"LUMINANCE",5:"LUMINANCE_ALPHA"};b.a.Bb=function(){this.b=null;this.c=0};b.a.Bb.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Bb.vS=function(a,c){return(c||new b.a.Bb).h(a.N(a.position())+a.position(),a)};b.a.Bb.prototype.data=function(a){var c=this.b.f(this.c,4);return c?(a||new b.a.ac).h(this.b.xa(this.c+c),this.b):
null};b.a.Bb.prototype.width=function(){var a=this.b.f(this.c,6);return a?this.b.Yb(this.c+a):0};b.a.Bb.prototype.height=function(){var a=this.b.f(this.c,8);return a?this.b.Yb(this.c+a):0};b.a.Bb.prototype.format=function(){var a=this.b.f(this.c,10);return a?this.b.C(this.c+a):b.a.Vo.DEPTH_COMPONENT};b.a.Bb.QN=function(a){a.ia(4)};b.a.Bb.kk=function(a,b){a.u(0,b)};b.a.Bb.qk=function(a,b){a.sd(1,b,0)};b.a.Bb.lk=function(a,b){a.sd(2,b,0)};b.a.Bb.ZF=function(a,c){a.ba(3,c,b.a.Vo.DEPTH_COMPONENT)};b.a.Bb.VJ=
function(a){return a.ha()};b.a.Bb.createTexture=function(a,c,e,d,n){b.a.Bb.QN(a);b.a.Bb.kk(a,c);b.a.Bb.qk(a,e);b.a.Bb.lk(a,d);b.a.Bb.ZF(a,n);return b.a.Bb.VJ(a)}}).call({},e);(function(b){b=b||{};b.a=b.a||{};b.a.Hf=function(){this.b=null;this.c=0};b.a.Hf.prototype.h=function(a,b){this.c=a;this.b=b;return this};b.a.Hf.prototype.x=function(){return this.b.Ob(this.c)};b.a.Hf.prototype.y=function(){return this.b.Ob(this.c+4)};b.a.Hf.prototype.z=function(){return this.b.C(this.c+8)};b.a.Hf.mR=function(a,
b,e,d){a.ta(4,12);a.Ei(3);a.eb(d);a.Sc(e);a.Sc(b);return a.offset()}}).call({},e);return e.a}.call({})});k(33,0,function(){return"1.9.0"});k(34,0,function(){return function(){var e={Zo:2,Hg:4,Al:4,Sz:{DA:1,fP:2}};e.dg=new Int32Array(2);e.Zw=new Float32Array(e.dg.buffer);e.$w=new Float64Array(e.dg.buffer);e.gn=1===(new Uint16Array((new Uint8Array([1,0])).buffer))[0];e.pd=function(b,a){this.low=b|0;this.high=a|0};e.pd.create=function(b,a){return 0==b&&0==a?e.pd.ZERO:new e.pd(b,a)};e.pd.prototype.Zi=
function(){return this.low+4294967296*this.high};e.pd.prototype.fe=function(b){return this.low==b.low&&this.high==b.high};e.pd.ZERO=new e.pd(0,0);e.wa=function(b){b||(b=1024);this.b=e.Da.sw(b);this.Ib=b;this.zn=1;this.zh=null;this.Jt=0;this.hn=!1;this.ey=0;this.Do=[];this.Cz=0;this.ti=!1};e.wa.prototype.ta=function(b,a){b>this.zn&&(this.zn=b);for(var c=~(this.b.Pa.length-this.Ib+a)+1&b-1;this.Ib<c+b+a;){var f=this.b.Pa.length;this.b=e.wa.IK(this.b);this.Ib+=this.b.Pa.length-f}this.Ei(c)};e.wa.prototype.Ei=
function(b){for(var a=0;a<b;a++)this.b.eb(--this.Ib,0)};e.wa.prototype.eb=function(b){this.b.eb(--this.Ib,b)};e.wa.prototype.$b=function(b){this.b.$b(this.Ib-=2,b)};e.wa.prototype.Sc=function(b){this.b.Sc(this.Ib-=4,b)};e.wa.prototype.ij=function(b){this.b.ij(this.Ib-=8,b)};e.wa.prototype.Jb=function(b){this.b.Jb(this.Ib-=4,b)};e.wa.prototype.zg=function(b){this.b.zg(this.Ib-=8,b)};e.wa.prototype.ib=function(b){this.ta(1,0);this.eb(b)};e.wa.prototype.Uf=function(b){this.ta(2,0);this.$b(b)};e.wa.prototype.nw=
function(b){this.ta(4,0);this.Sc(b)};e.wa.prototype.ow=function(b){this.ta(8,0);this.ij(b)};e.wa.prototype.XF=function(b){this.ta(4,0);this.Jb(b)};e.wa.prototype.ba=function(b,a,c){if(this.ti||a!=c)this.ib(a),this.slot(b)};e.wa.prototype.sd=function(b,a,c){if(this.ti||a!=c)this.Uf(a),this.slot(b)};e.wa.prototype.tc=function(b,a){if(this.ti||0!=a)this.nw(a),this.slot(b)};e.wa.prototype.Db=function(b,a,c){if(this.ti||!a.fe(c))this.ow(a),this.slot(b)};e.wa.prototype.Oa=function(b,a,c){if(this.ti||a!=
c)this.XF(a),this.slot(b)};e.wa.prototype.u=function(b,a){if(this.ti||0!=a)this.ga(a),this.slot(b)};e.wa.prototype.Ce=function(b,a){0!=a&&(this.zL(a),this.slot(b))};e.wa.prototype.zL=function(b){if(b!=this.offset())throw Error("FlatBuffers: struct must be serialized inline.");};e.wa.prototype.dy=function(){if(this.hn)throw Error("FlatBuffers: object serialization must not be nested.");};e.wa.prototype.slot=function(b){this.zh[b]=this.offset()};e.wa.prototype.offset=function(){return this.b.Pa.length-
this.Ib};e.wa.IK=function(b){var a=b.Pa.length;if(a&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var c=a<<1,f=e.Da.sw(c);f.setPosition(c-a);f.Pa.set(b.Pa,c-a);return f};e.wa.prototype.ga=function(b){this.ta(e.Hg,0);this.Sc(this.offset()-b+e.Hg)};e.wa.prototype.ia=function(b){this.dy();null==this.zh&&(this.zh=[]);this.Jt=b;for(var a=0;a<b;a++)this.zh[a]=0;this.hn=!0;this.ey=this.offset()};e.wa.prototype.ha=function(){if(null==this.zh||!this.hn)throw Error("FlatBuffers: endObject called without startObject");
this.nw(0);for(var b=this.offset(),a=this.Jt-1;0<=a;a--)this.Uf(0!=this.zh[a]?b-this.zh[a]:0);this.Uf(b-this.ey);this.Uf((this.Jt+2)*e.Zo);var c=0;a=0;a:for(;a<this.Do.length;a++){var f=this.b.Pa.length-this.Do[a],d=this.Ib,n=this.b.qf(f);if(n==this.b.qf(d)){for(var k=e.Zo;k<n;k+=e.Zo)if(this.b.qf(f+k)!=this.b.qf(d+k))continue a;c=this.Do[a];break}}c?(this.Ib=this.b.Pa.length-b,this.b.Sc(this.Ib,c-b)):(this.Do.push(this.offset()),this.b.Sc(this.b.Pa.length-b,this.offset()-b));this.hn=!1;return b};
e.wa.prototype.finish=function(b,a){if(a){this.ta(this.zn,e.Hg+e.Al);if(a.length!=e.Al)throw Error("FlatBuffers: file identifier must be length "+e.Al);for(var c=e.Al-1;0<=c;c--)this.eb(a.charCodeAt(c))}this.ta(this.zn,e.Hg);this.ga(b);this.b.setPosition(this.Ib)};e.wa.prototype.Ts=function(b){b=this.b.Pa.length-b;if(0==this.b.qf(b-this.b.N(b)+4))throw Error("FlatBuffers: field 4 must be set");};e.wa.prototype.j=function(b,a,c){this.dy();this.Cz=a;this.ta(e.Hg,b*a);this.ta(c,b*a)};e.wa.prototype.K=
function(){this.Sc(this.Cz);return this.offset()};e.wa.prototype.ca=function(b,a){return e.pd.create(b,a)};e.Da=function(b){this.Pa=b;this.sy=0};e.Da.sw=function(b){return new e.Da(new Uint8Array(b))};e.Da.prototype.position=function(){return this.sy};e.Da.prototype.setPosition=function(b){this.sy=b};e.Da.prototype.ld=function(b){return this.C(b)<<24>>24};e.Da.prototype.C=function(b){return this.Pa[b]};e.Da.prototype.qf=function(b){return this.Yb(b)<<16>>16};e.Da.prototype.Yb=function(b){return this.Pa[b]|
this.Pa[b+1]<<8};e.Da.prototype.N=function(b){return this.Pa[b]|this.Pa[b+1]<<8|this.Pa[b+2]<<16|this.Pa[b+3]<<24};e.Da.prototype.Ob=function(b){return this.N(b)>>>0};e.Da.prototype.ne=function(b){return new e.pd(this.N(b),this.N(b+4))};e.Da.prototype.Wd=function(b){return new e.pd(this.Ob(b),this.Ob(b+4))};e.Da.prototype.la=function(b){e.dg[0]=this.N(b);return e.Zw[0]};e.Da.prototype.Ms=function(b){e.dg[e.gn?0:1]=this.N(b);e.dg[e.gn?1:0]=this.N(b+4);return e.$w[0]};e.Da.prototype.eb=function(b,a){this.Pa[b]=
a};e.Da.prototype.$b=function(b,a){this.Pa[b]=a;this.Pa[b+1]=a>>8};e.Da.prototype.Sc=function(b,a){this.Pa[b]=a;this.Pa[b+1]=a>>8;this.Pa[b+2]=a>>16;this.Pa[b+3]=a>>24};e.Da.prototype.ij=function(b,a){this.Sc(b,a.low);this.Sc(b+4,a.high)};e.Da.prototype.Jb=function(b,a){e.Zw[0]=a;this.Sc(b,e.dg[0])};e.Da.prototype.zg=function(b,a){e.$w[0]=a;this.Sc(b,e.dg[e.gn?0:1]);this.Sc(b+4,e.dg[e.gn?1:0])};e.Da.prototype.f=function(b,a){b-=this.N(b);return a<this.qf(b)?this.qf(b+a):0};e.Da.prototype.LA=function(b,
a){b.c=a+this.N(a);b.b=this;return b};e.Da.prototype.Xe=function(b,a){b+=this.N(b);var c=this.N(b),f="",d=0;b+=e.Hg;if(a===e.Sz.DA)return this.Pa.subarray(b,b+c);for(;d<c;){a=this.C(b+d++);if(!(192>a)){var n=this.C(b+d++);if(224>a)a=(a&31)<<6|n&63;else{var k=this.C(b+d++);if(240>a)a=(a&15)<<12|(n&63)<<6|k&63;else{var m=this.C(b+d++);a=(a&7)<<18|(n&63)<<12|(k&63)<<6|m&63}}}65536>a?f+=String.fromCharCode(a):(a-=65536,f+=String.fromCharCode((a>>10)+55296,(a&1023)+56320))}return f};e.Da.prototype.xa=
function(b){return b+this.N(b)};e.Da.prototype.J=function(b){return b+this.N(b)+e.Hg};e.Da.prototype.fa=function(b){return this.N(b+this.N(b))};e.Da.prototype.ca=function(b,a){return e.pd.create(b,a)};return e}.call({})});k(35,0,function(){function e(){}var b=m(32),a=m(33),c=m(34),f=m(3),d=m(0),n=m(5),k=m(13);c.pd.prototype.de=function(){return 0===this.high&&0===this.low?"0":this.high+":"+this.low};c.pd.prototype.Pq=function(a){return 0===this.high&&0===this.low?"0":this.high+":"+this.low+":"+a};
e.prototype.FB=function(a,b){var c=a.pI(),e=[],f;for(f=0;f<c;f++){var d=a.Od(f).er();e.push(d)}d=a.bO();c=[];for(f=0;f<d;f++){var l=a.oc(f);l={width:l.width(),height:l.height(),data:l.data().er(),format:l.format()};c.push(l)}l=a.TI();d=[];for(f=0;f<l;f++){var n=a.li(f).er();d.push(n)}a={};a.Od=e;a.oc=c;a.li=d;b.Xd=a};e.prototype.IB=function(a,b){var c=a.key().de();b.Rm=a.Rm();b.ao=a.ao();b.fillColor=[a.fillColor(0),a.fillColor(1),a.fillColor(2),a.fillColor(3)];b.Uw=b.fillColor;b.strokeColor=[a.strokeColor(0),
a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.nc=a.nc();b.width=a.width();b.Pr=a.Pr();b.Rn=a.Rn();b.jn=a.jn();b.kn=a.kn();b.tl=a.tl().Zi();b.Dk=a.Dk().Zi();return c};e.prototype.MB=function(a,b){var c=a.key().de();b.ge=a.ge();b.Kk=a.Kk();b.uf=[a.uf(0),a.uf(1),a.uf(2),a.uf(3)];b.sg=[a.sg(0),a.sg(1),a.sg(2),a.sg(3)];b.padding=a.padding();b.je=a.padding();return c};e.prototype.qB=function(a,b){var c=a.key().de();b.zIndex=a.zIndex();b.visible=a.visible();b.rt=a.rt();b.nc=a.nc();b.strokeColor=
[a.strokeColor(0),a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.Bt=a.Bt();b.Wi=[a.Wi(0),a.Wi(1),a.Wi(2),a.Wi(3)];b.ri=[a.ri(0),a.ri(1),a.ri(2),a.ri(3)];b.$g=[a.$g(0),a.$g(1),a.$g(2),a.$g(3)];b.$i=[a.$i(0),a.$i(1),a.$i(2),a.$i(3)];return c};e.prototype.DB=function(a,b){var c=a.key().de();b.zIndex=a.zIndex();b.fillColor=[a.fillColor(0),a.fillColor(1),a.fillColor(2),a.fillColor(3)];b.strokeColor=[a.strokeColor(0),a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.visible=a.visible();b.nc=
a.nc();b.ab=a.ab();return c};e.prototype.rB=function(a,b){var c=a.key().de();b.color=[a.color(0),a.color(1),a.color(2),a.color(3)];b.nt=a.nt();b.ot=a.ot();b.Lr=a.Lr();b.Kr=a.Kr();b.ys=a.ys();b.xs=a.xs();return c};e.prototype.BB=function(a,b){var c=a.key().de();b.Ym=a.Ym();b.$m=a.$m();return c};e.prototype.LB=function(a,c){for(var e=a.tf(),f={},d=0;d<e;d++){var l=a.cb(d),n={};switch(l.WN()){case b.Jf.R:var k=new b.R;l=this.IB(l.style(k),n);break;case b.Jf.ra:k=new b.ra;l=this.MB(l.style(k),n);break;
case b.Jf.P:k=new b.P;l=this.qB(l.style(k),n);break;case b.Jf.pa:k=new b.pa;l=this.DB(l.style(k),n);break;case b.Jf.oa:k=new b.oa;l=this.rB(l.style(k),n);break;case b.Jf.Lb:k=new b.Lb;l=this.BB(l.style(k),n);break;default:continue}f[l]=n}c.cb=f};e.prototype.tB=function(a,b){for(var c=a.BI(),e={},f=0;f<c;f++){var d=a.ad(f),l=d.key().de();d={$c:d.$c(),Ri:d.Ri(),Li:d.Li(),ud:d.ud(),Bm:d.Bm(),pn:d.pn(),Tn:d.Tn(),visible:d.visible(),jb:d.jb()};e[l]=d}b.ad=e};e.prototype.JB=function(a,b){for(var c=a.CM(),
e=Array(c),f=0;f<c;f++){var d=a.Ni(f),l={fc:d.fc(),offset:d.offset().Zi(),yl:d.yl(),count:d.count()},n={};this.Fj(d,n);l.cb=n;e[f]=l}b.Ni=e};e.prototype.EB=function(a,b){for(var c=a.$L(),e=Array(c),f=0;f<c;f++){var d=a.Ii(f),l={};l.fc=d.fc();l.cn=d.cn();l.At=d.At();l.$n=d.$n();l.ur=d.ur();l.tr=d.tr();var n={};this.Fj(d,n);l.cb=n;e[f]=l}b.Ii=e};e.prototype.sB=function(a,b){for(var c=a.yI(),e=Array(c),f=0;f<c;f++){var d=a.Am(f),l={};l.offset=d.offset();l.count=d.count();l.fc=d.fc();var n={};this.Fj(d,
n);l.cb=n;e[f]=l}b.Am=e};e.prototype.KB=function(a,b){for(var c=a.ZM(),e=Array(c),d=0;d<c;d++){for(var l=a.uh(d),n={id:l.id().Zi(),text:l.text(),Zq:l.Zq().de(),Wb:l.Wb(),variant:l.variant()},k=l.Gs(),m=Array(k),g=0;g<k;g++){var t=l.jg(g);t=f.g.l(t.x(),t.y());m[g]=t}n.jg=m;e[d]=n}b.uh=e};e.prototype.zB=function(a,b){b.ly=a.ly();b.orientation=a.orientation();b.position=a.position();b.Az=a.Az();b.ry=a.ry();b.sx=a.sx();a=a.Kx();b.Kx=f.g.l(a.x(),a.y())};e.Yu=function(a){return a.Ub()};e.Ub=e.Yu;e.dC=function(a){return a.kd()};
e.fJ=function(){e.Ub=e.dC};e.dJ=function(){e.Ub=e.Yu};e.prototype.NB=function(a,b,c){var d=a.aO(),l=[];c=c.z;for(var n=0;n<d;n++){var k=a.vf(n),m={},g=k.wO(),t;m.Vf={};var p=k.vI();for(t=0;t<p;t++){var q=k.Vf(t),h=q.zoom(),v=q.caption(),r={};r.Qd=v.Qd();r.Sd=v.Sd();r.offset=v.offset();r.lineHeight=v.lineHeight();r.Vx=v.Vx();var z=v.kL(),C=Array(z);for(q=0;q<z;q++){var u=v.lines(q);u={ef:u.ef(),lineWidth:u.lineWidth()};C[q]=u}r.lines=C;m.Vf[h]=r}m.kd=k.kd().de();m.Ub=e.Ub(k).de();m.Wb=k.Wb();m.uk=
k.uk();if(g){p=k.LL();h={};for(t=0;t<p;t++){v=k.Fi(t);g=v.zoom();r=v.oI();z=Array(r);for(q=0;q<r;q++){var E=v.nI(q);C=E.$a();u=E.nb();var K=E.Ad();E=E.jd();var I={};I.$a=f.g.l(C.x(),C.y());I.nb=f.g.l(u.x(),u.y());I.Ad=f.g.l(K.x(),K.y());I.jd=f.g.l(E.x(),E.y());z[q]=I}h[g]=z}m.Fi=h}else{q=k.Gs();g=Array(q);for(t=0;t<q;t++)p=k.jg(t),g[t]=f.g.l(p.x(),p.y());m.jg=g}t=k.Zr();q={};this.zB(t,q);m.Zr=q;t={};this.Fj(k,t);m.cb=t;if(q=k.RK()){p={};for(t=0;t<q;t++)h=k.dd(t),g=h.zoom(),h=h.hash(),p[g]=h.Pq(c);
m.dd=p}l.push(m)}b.vf=l};e.prototype.Fj=function(a,b){for(var c=a.tf(),e=0;e<c;e++){var f=a.cb(e),d=f.key().de();f=f.zoom();b[f]=d}};Object.freeze({bn:{},cb:[]});e.prototype.wB=function(a,b,c){a=a.dd();var e=a.TK(),f=a.tf(),d=c.z;c={};var l;for(l=0;l<e;l++){var n=a.bn(l),k=n.hash().Pq(d);n=n.index();c[k]=n}e=Array(f);for(l=0;l<f;l++){d=a.cb(l);k=d.lI();n={};for(var m=0;m<k;m++){var t=d.attributes(m);n[t.key()]=t.value().Zi()}e[l]={attributes:n}}b.dd={bn:c,cb:e}};e.prototype.HB=function(a,b){for(var c=
a.zM(),e=Array(c),l=b.cb,n=0;n<c;n++){var k=a.il(n),m=k.position(),t=m.position(),g={};m={angle:m.angle(),position:f.g.l(t.x(),t.y()),cb:g};var p=k.DO();t=0;for(var q=-1,h=0;h<p;h++){var v=k.CO(h);q=v>>10;t=0===h?q:t;v&=1023;var r=d.yM+v;r in l||(l[r]={height:v});g[q]=r}k=q;for(p=t;t<k;t++)t in g?p=t:g[t]=g[p];e[n]=m}b.il=e};e.prototype.vB=function(a,b){for(var c=a.SI(),e=Array(c),f=0;f<c;f++){for(var d=a.zk(f),l={length:d.length(),id:d.id().Zi()},n=d.lK(),k=Array(n),m=0;m<n;m++)k[m]=d.Dr(m);l.Dr=
k;e[f]=l}b.zk=e};e.prototype.AB=function(a,b,c){var e=a.SL(),f=Array(e);c=c.z;for(var d=0;d<e;d++){var l=a.bl(d),n={};n.fc=l.fc();n.offset=l.offset();n.length=l.length();n.type=l.type();n.Ir=l.Ir().Pq(c);n.dd={};n.dd[c]=n.Ir;var k={};this.Fj(l,k);n.cb=k;f[d]=n}b.bl=f};e.prototype.fr=function(e,f){var d=this;return new k(function(l,k){var m={},t=b.A.BK(new c.Da(e)),g=t.version();n.Ht(g,a)?(d.FB(t.Xd(),m),d.LB(t,m),d.tB(t,m),d.JB(t,m),d.EB(t,m),d.sB(t,m),d.KB(t,m),d.NB(t,m,f),d.wB(t,m,f),d.HB(t,m),
d.vB(t,m),d.AB(t,m,f),l(m)):k("Header generated with different Proto Definitions version! Client Version: '"+a+"', Remote Version: '"+g+"'")})};e.prototype.bB=function(b){this.Bi=b.Bi();return n.Ht(this.Bi,a)};e.prototype.xB=function(a,b){a=a.mn();b.mn={$t:a.$t(),au:a.au(),bu:a.bu(),cu:a.cu()}};e.prototype.yB=function(a,b){a=a.nn();b.nn={du:a.du(),Dg:a.Dg(),Cf:a.Cf(),Dh:a.Dh(),lj:a.lj(),mj:a.mj(),nj:a.nj(),Eh:a.Eh(),Fh:a.Fh(),oj:a.oj(),pj:a.pj()}};e.prototype.OB=function(a,b){a=a.qe();b.qe={Dl:a.rA(),
tA:a.sA(),su:a.EA()}};e.prototype.GB=function(a,b){for(var c={},e=a.wM(),f=0;f<e;f++){var d=a.Us(f),l=d.key();d=d.value();c[l]=d}b.Us=c};e.prototype.Gj=function(a,b){for(var c=Array(b),e=0;e<b;e++)c[e]=a(e);return c};e.prototype.PB=function(a,b){var c=a.XL();b.Ds=this.Gj(a.Ds.bind(a),c);c=a.ZL();b.Fn=this.Gj(a.Fn.bind(a),c);c=a.BM();b.Mi=this.Gj(a.Mi.bind(a),c);c=a.VL();b.Bs=this.Gj(a.Bs.bind(a),c);c=a.sI();b.Tq=this.Gj(a.Tq.bind(a),c)};e.prototype.uB=function(a,b){var c={},e=a.CI();if(0===e)b.ii=
{"light-standard":{vd:[249,245,237,255],yd:[249,245,237,255],zd:[149,148,144,127]},"light-muted":{vd:[249,245,237,255],yd:[249,245,237,255],zd:[149,148,144,127]},"dark-standard":{vd:[43,45,47,255],yd:[43,45,47,255],zd:[56,64,68,102]},"dark-muted":{vd:[43,45,47,255],yd:[43,45,47,255],zd:[56,64,68,102]}};else{for(var f=0;f<e;++f){var d=a.ii(f),l=d.name();c[l]={};c[l].vd=[d.vd(0),d.vd(1),d.vd(2),d.vd(3)];c[l].yd=[d.yd(0),d.yd(1),d.yd(2),d.yd(3)];c[l].zd=[d.zd(0),d.zd(1),d.zd(2),d.zd(3)]}b.ii=c}};e.prototype.CB=
function(a,b){var c={},e=[];if(a=a.TL())for(var f=a.RL(),d=0;d<f;++d){var l=a.QL(d),n=l.key().replace(/^GEOPOICategory/,"");c[n]=[];for(var k=l.hI(),m=0;m<k;++m){var t=l.gI(m);c[n][m]=t;e[t]=n}}b.ny=c;b.UL=e};e.prototype.nC=function(a,b){b.Ti=a.Ti();b.Vk=a.Vk();b.Ai=a.Ai();b.Uk=a.Uk();b.zi=a.zi();b.mc=a.mc();b.hf=a.hf();b.zc=a.zc();b.Xx=a.Xx();b.Wk=a.Wk()};e.prototype.Hw=function(e){var f=this;return new k(function(d,l){var n={},k=b.s.CK(new c.Da(e));f.bB(k)?(f.xB(k,n),f.yB(k,n),f.OB(k,n),f.PB(k,
n),f.GB(k,n),f.uB(k,n),f.CB(k,n),f.nC(k,n),d(n)):l("Header generated with different Proto Definitions version! Client Version: '"+a+"', Remote Version: '"+f.Bi+"'")})};return e});k(36,0,function(){m(13);var e=m(35);return{yz:function(b){b=JSON.parse(b);var a=new e;b=Uint8Array.from(b);return a.Hw(b)}}});k(40,0,function(e){var b={0:function(a){var b=a(39);a=a(40);m(11);(new b).uP(a,{ma:1})},1:function(a,b){a(17).context().update(b)},2:function(a,b){a(31).yR(b)},3:function(a,b,c,e){a=a(31);a.lb(b,c,
e);a.Oe(b,!1)},4:function(a,b,c){a(31).Oe(b,c)},5:function c(a,b,c,e,f,d,l,k,m){return a(31).update(b,c,e,f,d,l,k,m)},6:function(a,b,c,e,f,d,l){var n=a(31);a=a(22);n.mh(b,f);n.nh(b,c);n.tg(b,e);n.Ns(b,d);n.Ft(b,l);a.qr()},7:function(a,b){a(31).Oi(b,!1)},8:function(a,b){a(31).Oi(b,!0)}};m(31);var a=m(36),c=m(11),f=m(5),d={start:function(b,c){return a.yz(c).then(function(a){f.Yg(a.nn);f.Yg(a.mn)})},ma:function(a,c){c=f.Re(c);c=[e].concat(c);var d=b[a];if(d)return d.apply(null,c);console.error("function with id "+
a+" was not found")}};c.da(d);return d});k(41,0,function(){m(40);return function(){function e(b,a){var c=m(40);c.start(b,a).then(function(){self.onmessage=function(a){var b=a.data;a=b.xi;b=c.ma(b.Sm,b.Nq);postMessage({type:"result",xi:a,result:b})};m(11).forward(c,function(a,b){self.postMessage({type:"message",key:a,value:b})});postMessage({id:"initialized"})})}self.onmessage=function(b){b.data&&b.data.id?"init"===b.data.id&&e(b.data.FI,b.data.na):console.error("Unrecognized messager")}}});p&&m(41)()}
function X(){return 1}function u(d,g,r){"function"===typeof g&&(r=g);try{var p=r(h)}catch(q){p="--eval-failed--",da[d]=q}Y[d]=p}function h(d){if("--eval-failed--"===Y[d])throw"module '"+d+"' failed to initialize: "+da[d]+"\n";return Y[d]}var Y={};var da={},Z=[];u(43,Z,X);u(44,Z,X);u(45,Z,X);aa(u,h,function(){});u(42,[],function(){return function(){return function(){var d={MADABA_VERSION:1,VERSION_POSTFIX:"",IS_WEB:!0,IS_NODE:!1,MINIFY:"advanced",ENABLE_DEBUG:!1,ENABLE_DEBUG_DECORATIONS:!1,ENABLE_TEST:!1,
ALLOW_SUPERSAMPLING:!1,DEFAULT_MAX_RESOLUTION_FALLBACK:4096,ENABLE_FULLY_RENDERED_LOG:!0,ENABLE_STUB_HEADER_ADAPTER:!1,ENABLE_RENDERING_TIME_LOG:!0,ENABLE_VERBOSE:!1,ENABLE_DEBUGGER_IN_PROMISE:!1,ENABLE_LOGGING:!1,ENABLE_HTTP_REQUEST_LOGGING:!0,ENABLE_KEEP_ALIVE_REQUESTS:!0,AGENT_KEEP_ALIVE_TIME:2E4,ENABLE_RANDOM_NETWORK_ERRORS:!1,ENABLE_RANDOM_ACCESS_KEY_INVALIDATION:!1,RESOURCE_REQUEST_RETRY_COUNT:1,RESOURCE_TIMEOUT_THRESHOLD:1E5,ENABLE_BAD_ICON_REQUESTS:!0,ENABLE_DEBUG_VERTICES:!1,ENABLE_TAFFY_MODE:!1,
FORCE_NO_WORKER:!1,ENABLE_LOW_LEVEL_DEFINITIONS:!0,ENABLE_SDK_DEFINITIONS:!0,ENABLE_CACHE_CONTROL:!1,ENABLE_SPILE_DEFINITIONS:!0,ENABLE_PERF_INSTRUMENTATION:!1,ENABLE_TIMERS:!1,ENABLE_COUNTERS:!1,STRIP_APPLE_CONFIDENTIAL:!1,ENABLE_LABEL_FEEDBACK:!1,ENABLE_MUNIN:!1,ENABLE_SILVER:!1,IS_PACKED:!0,IS_MINIFIED:!1,SHADER_PATH:null,ENVIRONMENT_IS_NODE:!1,ENVIRONMENT_IS_WEB:!1,ENVIRONMENT_IS_WORKER:!1},g=["","function () {"],h;for(h in d){var p=d[h];"string"===typeof p&&(p='"'+p+'"');g.push("self."+h+" = "+
p+";")}g.push("}");return new Worker(window.URL.createObjectURL(new Blob(["("+aa+")(null,null,"+g.join("\n"),");"],{type:"text/javascript"})))}}});u(89,0,function(){var d={Hc:0,qc:1,Ue:2,Ff:-1};d.YES=d.Hc;d.NO=d.qc;d.MAYBE=d.Ue;d.NOT_RUN=d.Ff;return d});u(90,0,function(){function d(){for(var d=/(.*)(?=csr\/1.x.x\/mk-csr.js)/,p=new RegExp("^(https?:)(?="+g[0]+")"),q=document.scripts,m=0,k=q.length;m<k;++m){var e=d.exec(q[m].src);if(e){var b=p.exec(e[0]);return b?g.map(function(a){return b[0]+a}):[e[0]]}}}
var g=["cdn","cdn1","cdn2","cdn3","cdn4"].map(function(d){return"//"+d+".apple-mapkit.com/ti/"});return{AK:function(){var h=d();return h?h.map(function(d){return d+"csr/1.x.x/res/"}):g.map(function(d){return d+"csr/1.x.x/res/"})},pK:function(){a:{var d=new RegExp("(.*)(?="+g[0]+"csr/1.x.x/.*)");for(var p=document.scripts,q=0,m=p.length;q<m;++q){var k=d.exec(p[q].src);if(k&&(k=k[0],"http:"!==k&&"https:"!==k)){d=k;break a}}d=void 0}return d?d+"https://gsp10-ssl.ls.apple.com/hvr/mw/v1/spile":"https://gsp10-ssl.ls.apple.com/hvr/mw/v1/spile"}}});
u(91,0,function(){return{parse:function(d){var g=d.toLowerCase();try{if(!g.includes("safari")||g.includes("chrome")||g.includes("crios")||g.includes("gsa")||g.includes("fxios"))if(!g.includes("chrome")&&!g.includes("crios")||g.includes("chromium")||g.includes("edge")||g.includes("samsungbrowser"))if(!g.includes("firefox")&&!g.includes("fxios")||g.includes("seamonkey"))if(g.includes("msie")){var h="Internet Explorer";var p=/msie\s(\d*\.?\d*)/ig.exec(g)[1]}else g.includes("edge")?(h="Edge",p=/edge\/(\d*\.?\d*)/ig.exec(g)[1]):
g.includes("gsa")?(h="Google Search App",p=/gsa\/(.*?)\s[^._\d]/i.exec(g)[1]):p=h="other";else h="Firefox",p=g.includes("firefox")?/firefox\/(\d*\.?\d*)/ig.exec(g)[1]:/fxios\/(\d*\.?\d*)/ig.exec(g)[1];else h="Chrome",p=g.includes("chrome")?/chrome\/(.*?)\s/ig.exec(g)[1]:/crios\/(.*?)\s/ig.exec(g)[1];else h="Safari",p=/version\/(\d+\.?\d*)/ig.exec(g)[1];var q={name:h,version:p}}catch(b){q={name:"other",version:"other"}}d=d.toLowerCase();try{if(d.includes("ipad")){var m="iPad";var k="iOS "+/os\s+(.*?)[^_.\d]/i.exec(d)[1]}else d.includes("iphone")&&
!d.includes("ipad")?(m="iPhone",k="iOS "+/os\s+(.*?)[^_.\d]+/i.exec(d)[1]):d.includes("macintosh")?(m="Macintosh",k="Mac OS X "+/mac os x (.*?)[^_.\d]/.exec(d)[1]):d.includes("windows")?(m="Windows",k="Windows NT "+/windows nt (.*?)[^._\d]/.exec(d)[1]):d.includes("android")?(m="Android",k="Android "+/android (.*?)[^._\d]/.exec(d)[1]):k=d.includes("linux")&&!d.includes("android")?m="Linux":d.includes("cros")?m="Chrome OS":m="other";var e={platform:m,JL:k}}catch(b){e={platform:"other",JL:"other"}}return{yw:q,
Nw:e}}}});u(92,0,function(){return"20.10.26"});u(93,0,function(){function d(d){var k=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack;if("1"!==k&&"yes"!==k){k=new XMLHttpRequest;k.open("POST",q);k.setRequestHeader("Content-Type","text/plain");k.responseType="text";var e=window.location&&window.location.search.match(/\bmachineID=([^&#]*)/i);e&&(d.MS=e[1]);e=r.parse(d["user-agent"]);var b=d["async-fidelity"],a=[];b&&b.tileResults&&(a=b.tileResults.map(function(a){return a.totalGrayDiff}));
k.send(JSON.stringify({hz:[{status:d.status,CS:a,version:p,Nw:e.Nw,yw:e.yw}]}))}}var g=h(90),r=h(91),p=h(92),q=g.pK();return{jl:function(m){try{d(m)}catch(k){}}}});u(94,[],function(){return{spile:"20.10.26",syrup:"20.10.26"}});u(95,0,function(){var d=h(94);return{lx:function(g){try{var h=JSON.parse(window.localStorage.getItem("mapkit.SpileTestResult"))}catch(p){return null}if("object"!==typeof h||null===h||"undefined"===typeof h.hash||"undefined"===typeof h.version||h.hash!==g||h.version!==d.hz){try{window.localStorage.removeItem("mapkit.SpileTestResult")}catch(p){}return null}return h},
Ez:function(d){try{window.localStorage.setItem("mapkit.SpileTestResult",JSON.stringify({hash:d.hash,version:d.version.hz,status:d.status}))}catch(r){console.log(r)}}}});u(96,["spile/status"],function(){var d=h(89);return{ma:function(){var g={status:d.qc},h=navigator.userAgent;h=null!==h.match(/\bMSIE\b/)&&null!==h.match(/\bTrident\//);g.isIE=h;g["typed-arrays"]="undefined"!==typeof Float64Array&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Float32Array&&
"undefined"!==typeof Int32Array;g.btoa="function"===typeof window.btoa;if(!g["typed-arrays"]||!g.btoa||"function"!==typeof Uint8Array.from)return g;g.status=d.Hc;return g}}});u(97,0,function(){return{gK:function(d){return d?btoa(d.getParameter(d.RENDERER)+d.getParameter(d.VENDOR)+d.getParameter(d.VERSION)):"N/A"}}});u(99,0,function(){Image.prototype.ZK=!0;return Image});u(100,0,function(){function d(d){p.Qa(this)&&(this.origin=d.origin,this.Ov=[],/\//.exec(this.origin)&&(this.origin=this.origin.substr(0,
this.origin.length)))}function g(){}function r(m){m=m||{};m.origin=m.origin;m.origin="undefined"!==typeof m.origin?m.origin:document.location.origin+"/";d.prototype.constructor.call(this,m)}var p=h(8),q=h(11);h(99);d.prototype.Vl=function(d,k,e,b){var a=new XMLHttpRequest,c=this.accessKey();c&&(c=encodeURIComponent(c),d=-1===d.indexOf("?")?d+("?accessKey="+c):d+("&accessKey="+c));var f=this.origin+d,l=this;a.onreadystatechange=function(){4===a.readyState&&(200!==a.status?(403===a.status&&l.Or(),b("Could not fetch file '"+
f+"', error code = "+a.status)):e(a.response))};a.open("GET",f);k&&(a.responseType=k);a.send();return{abort:function(){a.onreadystatechange=void 0;a.abort()}}};d.prototype.json=function(d,k,e){return this.Vl(d,"text",function(b){k(JSON.parse(b))},e)};d.prototype.blob=function(d,k,e){return this.Vl(d,"arraybuffer",function(b){k(new Uint8Array(b))},e)};d.prototype.image=function(d,k,e){var b=this.Ov.pop()||new Image;b.crossOrigin="";var a=this,c=null,f=this.accessKey(),l=this.origin+d;f&&(l+="&accessKey="+
encodeURIComponent(f));b.src=l;b.onerror=function(){function f(){b.CC||e("'"+b.src+"' not found")}c=a.Vl(d,"arraybuffer",f,f)};b.onload=function(){k(b)};b.Mt="png";/^stile.*/.exec(d)&&(b.Mt="jpg");return{abort:function(e){b.onload=void 0;b.onerror=void 0;c&&c.abort(e);a.Ov.push(b)}}};d.prototype.text=function(d,k,e){return this.Vl(d,"text",k,e)};d.prototype.sf=function(d){this.ip=d};d.prototype.accessKey=function(){return this.ip};d.prototype.Or=function(){this.M("invalid-access-key")};q.da(d.prototype);
g.prototype.json=function(d,k){d=atob(d.split(",")[1]);k(JSON.parse(d));return{abort:function(){}}};g.prototype.text=function(d,k){d=atob(d.split(",")[1]);k(d);return{abort:function(){}}};g.prototype.blob=function(d,k){d=atob(d.split(",")[1]);var e=new ArrayBuffer(d.length);e=new Uint8Array(e);for(var b=0;b<d.length;b++)e[b]=d.charCodeAt(b);k(e);return{abort:function(){}}};g.prototype.image=function(d,k,e){var b=new Image;b.onerror=function(){e("'"+b.src+"' not found")};b.onload=function(){k(b)};
b.src=d;b.Mt="png";return{abort:function(){}}};p.Y(d,r);return{Zd:r,Qz:g,Bg:r}});u(101,0,function(){function d(e){if(k.Qa(this)){this.ve=Array(e.al.length);for(var b=e.at,a=0,c=e.al.length;a<c;a++){var f=e.al[a];"/"!==f[f.length-1]&&(f+="/");f=new p.Zd({origin:f+b});f.Ma("invalid-access-key",function(){this.M("invalid-access-key")},this);this.ve[a]=f}}}function g(e,b){var a=e.protocol,c=e.domains.map(function(b){return a+"//"+b});if(b)for(var f=0,l=c.length;f<l;f++)c[f]=b[f%b.length]+c[f];d.prototype.constructor.call(this,
{al:c,at:""});this.ek=e.path;"/"===this.ek[0]&&(this.ek=this.ek.substr(1,this.ek.length-1));this.NE=e.name}function r(e,b){k.Qa(this)&&(d.prototype.constructor.call(this,{al:e,at:""}),this.mapping=b)}var p=h(100),q=h(5),m=h(11);h(4);var k=h(8);d.prototype.am=function(e){e=Math.floor(76731.36742*e);return this.ve[e%this.ve.length]};d.prototype.json=function(e,b,a,c){var f=this.am(c.sc);return f.json.apply(f,arguments)};d.prototype.blob=function(e,b,a,c){var f=this.am(c.sc);return f.blob.apply(f,arguments)};
d.prototype.text=function(e,b,a,c){var f=this.am(c.sc);return f.text.apply(f,arguments)};d.prototype.image=function(e,b,a,c){var f=this.am(c.sc);return f.image.apply(f,arguments)};d.prototype.sf=function(e){this.ve.forEach(function(b){b.sf(e)})};m.da(d.prototype);k.Y(d,g);g.prototype.image=function(e,b,a,c){e=q.cK(this.ek,c);0===c.labels&&(e+="&labels=0");"standard"===this.NE&&(e+="&tint="+c.tint,e+="&emphasis="+c.emphasis);return d.prototype.image.call(this,e,b,a,c)};g.prototype.sf=function(){};
p.mu=g;k.Y(d,r);r.prototype.Jl=function(e,b,a,c,f){var d=this.mapping[b];return d?e.call(this,d,a,c,f):(c("[MapFileAdapter] resource '"+b+"' not mapped"),{abort:function(){}})};r.prototype.json=function(e,b,a,c){return this.Jl(d.prototype.json,e,b,a,c)};r.prototype.blob=function(e,b,a,c){return this.Jl(d.prototype.blob,e,b,a,c)};r.prototype.image=function(e,b,a,c){return this.Jl(d.prototype.image,e,b,a,c)};r.prototype.text=function(e,b,a,c){return this.Jl(d.prototype.text,e,b,a,c)};p.te=r;p.eu=d;
p.MapFileAdapter=p.te;p.MadabaFileAdapter=p.WO;p.GroupNetworkAdapter=p.eu;p.RasterTileAdapter=p.mu;p.NetworkAdapter=p.Zd;p.Zd.prototype.json=p.Zd.prototype.json;p.Zd.prototype.image=p.Zd.prototype.image;p.Zd.prototype.text=p.Zd.prototype.text;p.Zd.prototype.blob=p.Zd.prototype.blob;p.te.prototype.blob=p.te.prototype.blob;p.te.prototype.image=p.te.prototype.image;p.te.prototype.json=p.te.prototype.json;p.te.prototype.text=p.te.prototype.text;return p});u(103,0,function(){function d(){this.Yj={};this.jv();
this.Nv=1E5;this.pq=!0;this.yu=g.resolve();this.Kv=1}var g=h(13),r=h(11);h(98);var p=h(101),q=h(5),m=h(21);h(102);d.prototype.jv=function(){this.ve=[];this.ph("__default__",new p.Bg);this.ph(/^data:/,new p.Qz)};d.prototype.Gl=function(d){for(var e=this.ve[0],b=1,a=this.ve.length;b<a;b++){var c=this.ve[b];if(d.match(c.pattern)){e=c;break}}return e.qm};d.prototype.ph=function(d,e){"function"===typeof e.sf&&(this.Ma("valid-access-key",e.sf,e),e.Ma("invalid-access-key",this.Or,this),e.sf(this.ip));this.ve.push({pattern:d,
qm:e})};d.prototype.zm=function(){var d=this;this.ve.forEach(function(e){"function"===typeof e.qm.sf&&(e.qm.va("invalid-access-key"),d.va("valid-access-key",null,e.qm))});this.jv()};d.prototype.nO=function(d){return/.(jpeg|jpg|JPEG|JPG|png|PNG)$/.exec(d)?3:/.(json|JSON)$/.exec(d)?1:/.(bin|BIN|obj|OBJ)$/.exec(d)?2:5};d.prototype.zu=function(d,e){this.Yj[e]=d};d.prototype.OD=function(d){delete this.Yj[d]};d.prototype.fC=function(d,e,b){e=e||this.nO(d);b=b||q.Fb();var a,c,f=new g(function(b,e){a=b;c=
e});switch(e){case 1:var l=this.Gl(d).json(d,a,c,b);break;case 2:l=this.Gl(d).blob(d,a,c,b);break;case 3:l=this.Gl(d).image(d,a,c,b);break;case 4:l=this.Gl(d).text(d,a,c,b);break;case 5:return g.reject("INVALID_RESOURCE while fetching '"+d+"'");default:throw"ResourceManager.get(): Given type is not defined";}var n=!1;f=f.catch(function(a){n=!0;return m.Bf.ma(function(){return g.reject(a)})}).then(function(a){n=!0;return m.Bf.ma(function(){return a})});var k;d=new g(function(a,b){k=function(a){n||
l.abort(a);b(a)}});f=g.race([f,d]);f.cancel=k;return f};d.prototype.get=function(d,e,b,a){function c(a,c){if(l)return g.reject(c);n=f.yu;return n.then(function(){var c=f.fC(d,e,b);k=c;if(!a)return c;var l,n=new g(function(a,b){l=setTimeout(b.bind(f,{code:f.TIMEOUT,vM:d}),f.Nv)});return g.race([c,n]).then(function(a){clearTimeout(l);return a})})}if(this.has(d))return this.Yj[d];var f=this,l=!1,n,k=null,m=1<=this.Kv,p=c(m);if(m){for(m=1;m<this.Kv;++m)p=p.catch(c.bind(null,!0));p=p.catch(c.bind(null,
!1))}7!==a&&this.zu(p,d);p.abort=function(a){n.then(function(){l=!0;k.cancel(a);k=null})};return p};d.prototype.add=function(d,e,b){g.Rk(e)||(e=g.resolve(e));if(8===b){var a=this;e.then(function(b){b.once("released",a.remove.bind(a,d),a)}).catch(this.remove.bind(this,d))}this.zu(e,d);return this};d.prototype.remove=function(d){this.OD(d)};d.prototype.has=function(d){return d in this.Yj};d.prototype.reset=function(){this.Yj={}};d.prototype.Or=function(){if(this.pq){this.pq=!1;var d=this;this.yu=new g(function(e){d.once("valid-access-key",
e)});this.M("invalid-access-key")}};d.prototype.sf=function(d){this.ip=d;this.M("valid-access-key",d);this.pq=!0};d.prototype.Zy=function(d){this.Nv=d};d.JSON=1;d.No=2;d.Ef=3;d.pu=4;d.CA=5;d.QO="INVALID_RESOURCE";d.TIMEOUT=504;d.nA=404;d.Eg=7;d.qA=8;d.JSON=d.JSON;d.BLOB=d.No;d.IMAGE=d.Ef;d.TEXT=d.pu;d.UNKNOWN=d.CA;d.TIMEOUT=d.TIMEOUT;d.NOT_FOUND=d.nA;d.prototype.route=d.prototype.ph;d.prototype.clearRoutes=d.prototype.zm;d.prototype.reset=d.prototype.reset;d.prototype.add=d.prototype.add;d.prototype.remove=
d.prototype.remove;d.prototype.setResourceTimeoutThreshold=d.prototype.Zy;r.da(d.prototype);return d});u(104,0,function(){function d(d){this.origin=d||"";this.id=p.Fb()}var g=h(103),r=h(11),p=h(5);d.prototype.kf=function(){return{url:this.origin+"manifest",data:{Qn:"manifest",sc:0}}};d.prototype.fetch=function(d){var m=this.kf();return d.get(m.url,g.No,m.data,g.Eg)};d.prototype.load=function(g,m){return this.fetch(g).then(function(d){this.jJ=d;return m.Hw(d).then(function(e){this.json=e}.bind(this))}.bind(this)).then(function(){this.rD(this.json);
this.iB();d.M("loaded",this);return this}.bind(this))};d.prototype.rD=function(d){for(var m in d)this[m]=d[m]};d.prototype.iB=function(){this.sb=1/this.zc;this.xn=1/this.mc;for(var d in this.ii){var m=this.ii[d];m.vd=p.Bn(m.vd);m.yd=p.Bn(m.yd);m.zd=p.Bn(m.zd)}};r.da(d.prototype);r.da(d);d.prototype.Ny=function(){var d=Array.from(this.jJ);return JSON.stringify(d)};return d});u(105,0,function(){function d(d){this.Bj={};this.we=!1;this.pi(d)}var g=h(11),r=h(5),p=h(13),q=h(3);g.da(d.prototype);d.Gz=0;
d.zl=1;d.prototype.Xf=function(d){d.alpha=0;d.Lh={Cn:function(){},id:r.Fb(),duration:0,Zn:-1}};d.prototype.ni=function(){this.Ye=!1};d.prototype.pi=function(d){this.Rp=d;this.Ye=!0};d.prototype.show=function(m,k){m.Lh.Zn=1;m.Lh.duration=k;if(this.Ye)return this.Au(m);m.alpha=1;return p.resolve(d.zl)};d.prototype.ie=function(m,k){m.Lh.Zn=-1;m.Lh.duration=k;if(this.Ye)return this.Au(m);m.alpha=0;return p.resolve(d.zl)};d.prototype.Vv=function(d){return.5*(d.Zn+1)};d.prototype.Au=function(m){var k=m.Lh;
k.Cn(d.Gz);var e=!1;0===k.duration?(m.alpha=this.Vv(k),e=!0):e=this.Vv(k)===m.alpha;if(e)return delete this.Bj[k.id],p.resolve(d.zl);this.Bj[k.id]=m;this.we=!0;return new p(function(b){k.Cn=function(a){k.Cn=function(){};b(a)}})};d.prototype.update=function(m){var k=r.Re(this.Bj);this.we=!1;if(0!==k.length){for(var e=m-this.Rp,b=0,a=k.length;b<a;b++){var c=k[b],f=c.Lh;c.alpha+=f.Zn*e/f.duration;0>c.alpha||1<c.alpha?(c.alpha=q.ym(c.alpha,0,1),delete this.Bj[f.id],f.Cn(d.zl)):this.we=!0}this.pD()}this.Rp=
m};d.prototype.pD=function(){this.M("alpha-updated")};d.prototype.Dx=function(d){d["animation-enabled"]=this.Ye;d["animating-count"]=Object.keys(this.Bj).length;return this.Ye&&this.we};return d});u(106,[],function(){return{Jc:function(d){var g=0;d[2]<-d[3]?g|=1:d[2]>d[3]&&(g|=2);d[0]<-d[3]?g|=4:d[0]>d[3]&&(g|=8);d[1]<-d[3]?g|=16:d[1]>d[3]&&(g|=32);return g},lA:1,MO:2,SO:4,aP:8,dP:16,HO:32}});u(107,0,function(){function d(a,c){this.Ke=a;this.Jc=b(a);this.Jc&e||(this.Vg=q.g.l(c[0]*(a[0]/a[3]+1)*.5,
c[1]*(a[1]/a[3]+1)*.5))}function g(a,b){return q.I.l(.5*(a[0]+b[0]),.5*(a[1]+b[1]),.5*(a[2]+b[2]),.5*(a[3]+b[3]))}function r(a,b,e){b=q.g.Pc(q.g.create(),b,a);a=q.g.Pc(q.g.create(),e,a);return(a[1]*b[0]-a[0]*b[1])/2}function p(a){this.qL=a*a}var q=h(3),m=h(106),k=h(19),e=m.lA,b=m.Jc;p.prototype.wK=function(a,b){var c=[];var e=a.ui();var d=Math.floor(e[0]);e=new k(d,0,0);this.Er(a,b,e,c);e=new k(d+1,0,0);this.Er(a,b,e,c);e=new k(d-1,0,0);this.Er(a,b,e,c);return c=c.map(function(a){return a.cy()})};
p.prototype.Er=function(a,b,e,l){var c=e.ei();a=a.Qb;var f=c.min(),k=c.max(),m=q.I.l(f[0],f[1],0,1);c=q.I.l(k[0],k[1],0,1);var g=q.I.l(f[0],k[1],0,1);f=q.I.l(k[0],f[1],0,1);q.I.Ra(m,m,a);q.I.Ra(f,f,a);q.I.Ra(g,g,a);q.I.Ra(c,c,a);a=new d(m,b);g=new d(g,b);c=new d(c,b);f=new d(f,b);this.el(l,b,e,a,g,c,f)};p.prototype.el=function(a,b,f,l,n,m,p){if(0===(l.Jc&n.Jc&m.Jc&p.Jc))if(21>f.z&&(1===((l.Jc|n.Jc|m.Jc|p.Jc)&e)||Math.abs(r(l.Vg,n.Vg,m.Vg)+r(l.Vg,m.Vg,p.Vg))>this.qL)){var c=new d(g(l.Ke,n.Ke),b),t=
new d(g(n.Ke,m.Ke),b),q=new d(g(m.Ke,p.Ke),b),h=new d(g(p.Ke,l.Ke),b),v=new d(g(c.Ke,q.Ke),b);this.el(a,b,new k(f.x<<1,(f.y<<1)+1,f.z+1),l,c,v,h);this.el(a,b,new k(f.x<<1,f.y<<1,f.z+1),c,n,t,v);this.el(a,b,new k((f.x<<1)+1,f.y<<1,f.z+1),v,t,m,q);this.el(a,b,new k((f.x<<1)+1,(f.y<<1)+1,f.z+1),h,v,q,p)}else a.push(f)};return p});u(108,0,function(){function d(b){this.type=b;this.id=m.Fb();this.Kf=1;this.Tp=null}function g(b,a,c){this.D=b;this.W=a;this.bD=c;this.wb=[];this.Gd=q.resolve("__layers-lock-init__");
this.Hl={};this.ov=k.kr;this.Nu=k.hr;this.Ev=k.lr;this.Qg=k.Xg;this.Lg=k.Wg;this.sh(k.Lw,k.Kw)}var r=h(11),p=h(15),q=h(13),m=h(5),k=h(0),e=h(14);d.prototype.Rx=function(){if(this.Tp)return this.Tp;var b=this,a={type:this.type,id:this.id,get alpha(){return b.Kf},set alpha(a){b.Kf=a;b.view.Py(a)}};return this.Tp=a};g.prototype.za=function(){return this.wb.map(function(b){return b.Rx()})};g.prototype.rv=function(b){for(var a=0,c=this.wb.length;a<c;a++)if(this.wb[a].id===b.id)return a};g.prototype.qv=
function(b){return this.wb[this.rv(b)]};g.prototype.un=function(){return this.wb.map(function(b){return b.view.gd})};g.prototype.sh=function(b,a){this.tv=this.W.zc/k.Vd;this.zv=b;this.dk={devicePixelRatio:b,Zx:a,ul:b*a};this.Kj=a;this.M("surface-property-changed",this.dk)};g.prototype.Pi=function(b){this.be=b;this.M("rendering-mode-changed",b)};g.prototype.Qi=function(b){this.mm=b};g.prototype.ng=function(b){this.ov=b};g.prototype.ml=function(b,a){this.Nu=b;this.Ev=a};g.prototype.rO=function(b,a,
c){this.Qg=a;this.Lg=c;this.hq=b;var e;this.hB=e=b===this.W.qe.su?this.W.ii[a+"-"+c]:{Qc:b,vd:k.Jw,yd:k.Jw,zd:k.ZI};this.un().forEach(function(a){a.Le(e)})};g.prototype.Dp=function(b,a){var c=this;b=this.bD.get(b);return b=b.then(function(b){b.Py(a.Kf);var e=b.gd;c.Ma("tile-created",e.pf,e);c.Ma("tile-destroyed",e.ig,e);c.Ma("tile-dependency-ready",e.$k,e);e.Le(c.hB);c.yD(e);e=b.T;c.Ma("surface-property-changed",e.Gb,e);e.Gb(c.dk);c.Ma("rendering-mode-changed",e.ih,e);e.ih(c.be);a.view=b;return a.Rx()})};
g.prototype.mp=function(b){return new d(b)};g.prototype.insertBefore=function(b,a){var c=this.mp(b),e=this.Dp(b,c);return this.Gd=this.Gd.then(function(){return e.then(function(b){for(var e=0,f=this.wb.length;e<f;e++)if(a.id===this.wb[e].id)return this.wb.splice(e,0,c),b;console.assert(!1,"Given reference layer is not in the mapView anymore, this probably means you haven't waited for the previous operation to complete before calling insertBefore")}.bind(this))}.bind(this))};g.prototype.Mr=function(b,
a){var c=this.mp(b),e=this.Dp(b,c);return this.Gd=this.Gd.then(function(b){return e.then(function(){for(var e=0,f=this.wb.length;e<f;e++)if(a.id===this.wb[e].id)return this.wb.splice(e+1,0,c),b;console.assert(!1,"Given reference layer is not in the mapView anymore, this probably means you haven't waited for the previous operation to complete before calling after")}.bind(this))}.bind(this))};g.prototype.aL=function(b){return this.qv(b).view.gd.Ur()};g.prototype.$K=function(b){return this.qv(b).view.gd.wi()};
g.prototype.wm=function(){this.un().forEach(function(b){b.wm()})};g.prototype.sm=function(){this.un().forEach(function(b){b.sm()})};g.prototype.ai=function(b){return this.QA(b)};g.gA=function(b,a){return b.type-a.type};g.prototype.QA=function(b){var a=this.mp(b),c=this.Dp(b,a);return this.Gd=this.Gd.then(function(){return c.then(function(b){this.wb.push(a);this.wb.sort(g.gA);return b}.bind(this))}.bind(this))};g.prototype.Mn=function(b){var a=-1;return this.Gd=this.Gd.then(function(){a=this.rv(b);
var c=this.wb[a];c.view.gi();this.wb.splice(a,1);var e=c.view.gd;e&&(this.va("tile-created",e.pf,e),this.va("tile-destroyed",e.ig,e),this.va("tile-dependency-ready",e.$k,e));c=c.view.T;this.va("surface-property-changed",c.Gb,c);this.va("rendering-mode-changed",c.ih,c);this.wc();return b}.bind(this))};g.prototype.pf=function(b){b.scale=this.dk.devicePixelRatio;b.Qc=this.hq;b.Zb=this.mm;b.language=this.ov;b.Ie=this.Nu;b.Me=this.Ev;b.yb=this.Qg;b.xb=this.Lg;b.nf=this.be===p.Vc.Hh;this.M("tile-created",
b);this.M("tile-dependency-ready",b);this.Hl[b.rb.id]=b};g.prototype.ig=function(b){this.M("tile-destroyed",b);delete this.Hl[b.rb.id]};g.prototype.yD=function(b){for(var a in this.Hl){var c=this.Hl[a],e=c.B();c.Fy();c.rm(e,"all-deps");b.pf(c);b.$k(c)}};g.prototype.ez=function(b){if(this.Oh)return b&&(b["mapview-dirty"]=!0),!0;for(var a=0,c=this.wb.length;a<c;a++){var e=this.wb[a].view;if(e.hh())return b&&(b["layer-dirty"]=e.type()),!0}b&&(b["mapview-dirty"]=!1);return!1};g.prototype.wc=function(){this.Oh=
!0;this.wb.forEach(function(b){b.view.gd.wc()})};g.prototype.cD=function(b,a){for(var c=0,e=this.wb.length;c<e;c++)this.wb[c].view.gM(b,a,this.tv,this.zv)};g.prototype.XB=function(b,a){for(var c=0;c<e.count;c++)for(var f=0,d=this.wb.length;f<d;f++)this.wb[f].view.eJ(c,b,a,this.tv,this.zv)};g.prototype.update=function(b,a){if(this.ez()){var c=this.D;c.viewport(0,0,a[0]*this.dk.ul,a[1]*this.dk.ul);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT|c.STENCIL_BUFFER_BIT);this.cD(b,a);this.XB(b,a);c.disable(c.STENCIL_TEST);
this.Oh=!1}};r.da(g.prototype);g.prototype.update=g.prototype.update;g.prototype.invalidate=g.prototype.wc;g.prototype.layers=g.prototype.za;return g});u(109,0,function(){return new (h(103))});u(110,0,function(){h(45);h(44);h(5);return{create:function(d,g,h,p){p=p||document.createElement("canvas");p.style.width=d+"px";p.style.height=g+"px";p.width=d*h;p.height=g*h;p.className="syrup-canvas";return p.getContext("webgl",{antialias:!1,stencil:!0})},resize:function(d,g,h,p){d.canvas.width=g*p;d.canvas.height=
h*p;d.canvas.style.width=g+"px";d.canvas.style.height=h+"px"}}});u(111,0,function(){function d(b){delete a[b.id];b.M("destroyed",b);b.jw=!1;b.va("destroyed")}function g(){return a}function r(a,b,c){a.va("destroyed",b,c)}function p(a,b,c){a.Ma("destroyed",b,c)}function q(f,d,n,m){n=n||1;var l=b.create(f,d,n,m);if(!l)return l;l.aN=n;l.jw=!0;Object.defineProperty(l,"valid",{get:function(){return this.jw},set:function(){throw"'valid' is a READONLY value";}});l.xp=e();Object.defineProperty(l,"id",{get:function(){return this.xp},
set:function(){throw"'id' is a READONLY value";}});a[l.id]=l;k.da(l);c.M("creation",l);l.canvas.addEventListener("webglcontextlost",function(){c.M("context-lost",l)});return l}function m(a,c,e,d){b.resize(a,c,e,d);a.aN=d}var k=h(11),e=function(){var a=0;return function(){return a++}}(),b=h(110),a={},c={create:q,resize:m,Wq:void 0,us:p,QS:r,all:g,ya:d};k.da(c);c.create=q;c.resize=m;c.checkErrors=void 0;c.onDestroyed=p;c.offDestroyed=r;c.all=g;c.destroy=d;return c});u(112,0,function(){return{USE_STANDARD_DERIVATIVES:"1"}});
u(113,0,function(){function d(a,b,c){this.i=a;this.type=b;this.bd=a.createShader(b);this.src=c}function g(a,b,c){this.i=a;this.It=b;this.ax=c;this.bd=a.createProgram()}var r=h(111),p=h(103),q=h(112),m=h(13),k=h(0),e=h(104),b=new p,a=JSON.parse(JSON.stringify(q));d.prototype.compile=function(b){var c=this.i;b=b||{};var e=[],f;for(f in a)e.push("#define "+f+" "+a[f]);for(f in b)e.push("#define "+f+" "+b[f]);this.Dm=e.join("\n")+"\n"+this.src;this.tD();this.sD();c.shaderSource(this.bd,this.Dm);c.compileShader(this.bd);
delete this.Dm;delete this.src;return this};d.prototype.attributes=function(){return this.Cj};d.prototype.F=function(){return this.fk};d.prototype.tD=function(){this.fk=[];for(var a=this.Dm.split("\n"),b=/uniform[ \t]+((highp|mediump|lowp)[ \t]+)?(vec[2-4]|bool|int|float|mat[2-4]|sampler2D)[ \t]+([_a-zA-Z][_a-zA-Z0-9]*)/,c=0,e=a.length;c<e;c++){var d=b.exec(a[c]);d&&this.fk.push(d[4])}};d.prototype.sD=function(){if(this.type!==this.i.FRAGMENT_SHADER){this.Cj=[];for(var a=this.Dm.split("\n"),b=/attribute[ \t]+((highp|mediump|lowp)[ \t]+)?(vec[2-4]|float|mat[2-4])[ \t]+([_a-zA-Z][_a-zA-Z0-9]*)/,
c=0,e=a.length;c<e;c++){var d=b.exec(a[c]);d&&this.Cj.push(d[4])}}};d.prototype.Nb=function(){return this.bd};d.dx=function(a,c,e,k){return b.get(c,p.pu,0,p.Eg).then(function(b){return(new d(a,e,b)).compile(k)})};g.prototype.link=function(){var a=this.i;a.attachShader(this.bd,this.It.Nb());a.attachShader(this.bd,this.ax.Nb());a.linkProgram(this.bd);var b=this.It.attributes(),c=[];c.push.apply(c,this.It.F());c.push.apply(c,this.ax.F());this.Cj={};b.forEach(function(b){this.Cj[b]=a.getAttribLocation(this.bd,
b)},this);this.fk={};c.forEach(function(b){this.fk[b]=a.getUniformLocation(this.bd,b)},this);return this};g.prototype.Wq=function(a){var b=this.i;if(!b.getProgramParameter(this.bd,b.LINK_STATUS)){if(a)throw"program filed to link:"+b.getProgramInfoLog(this.bd);console.error("program filed to link:"+b.getProgramInfoLog(this.bd))}};g.prototype.use=function(){this.i.useProgram(this.bd)};g.prototype.Sa=function(){this.i.useProgram(null)};g.prototype.Nb=function(){return this.bd};g.prototype.attributes=
function(){return this.Cj};g.prototype.F=function(){return this.fk};g.Za=function(a,b,c,e){b=d.dx(a,b,a.VERTEX_SHADER,e);c=d.dx(a,c,a.FRAGMENT_SHADER,e);return m.all([b,c]).then(function(b){return(new g(a,b[0],b[1])).link()})};g.fromURLs=g.Za;var c={yA:d,Ya:g};r.once("creation",function(a){c.VERTEX_SHADER=a.VERTEX_SHADER;c.FRAGMENT_SHADER=a.FRAGMENT_SHADER});e.Ma("loaded",function(c){a.TILE_SIZE_IN_POINT=Math.floor(c.zc)+".0";a.TILES_PER_POINT=c.sb;a.LINE_JUMP_VERTEX_CEIL=""+c.Vk;-1===a.LINE_JUMP_VERTEX_CEIL.indexOf(".")&&
(a.LINE_JUMP_VERTEX_CEIL+=".0");a.LINE_JUMP_VERTEX_OFFSET=""+c.Ai;-1===a.LINE_JUMP_VERTEX_OFFSET.indexOf(".")&&(a.LINE_JUMP_VERTEX_OFFSET+=".0");a.LINE_DRAW_ENDCAP_OFFSET=""+c.zi;-1===a.LINE_DRAW_ENDCAP_OFFSET.indexOf(".")&&(a.LINE_DRAW_ENDCAP_OFFSET+=".0");a.LINE_DRAW_ENDCAP_CEIL=""+c.Uk;-1===a.LINE_DRAW_ENDCAP_CEIL.indexOf(".")&&(a.LINE_DRAW_ENDCAP_CEIL+=".0");a.SIGNED_VERTEX_OFFSET=""+c.Ti;-1===a.SIGNED_VERTEX_OFFSET.indexOf(".")&&(a.SIGNED_VERTEX_OFFSET+=".0");a.BEZIER_CURVE_ANCHOR=""+k.Sq;-1===
a.BEZIER_CURVE_ANCHOR.indexOf(".")&&(a.BEZIER_CURVE_ANCHOR+=".0");a.LINE_AA_PIXEL_COUNT=""+k.qn;-1===a.LINE_AA_PIXEL_COUNT.indexOf(".")&&(a.LINE_AA_PIXEL_COUNT+=".0");a.DISTANCE_FIELD_SIZE=Math.floor(c.mc)+".0";a.MAX_HALF_LINE_WIDTH=k.Di+".0";a.DISTANCE_FIELD_SIZE=Math.floor(c.mc)+".0";a.MIN_GLYPH_AA_SIZE=c.xn;a.HALF_MIN_GLYPH_AA_SIZE=.5*c.xn;b.reset();b.add("shaders/arrow.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nuniform float pr;\nattribute vec2 tilePosition;\nattribute vec2 uvSize;\nattribute vec2 uvStart;\nattribute vec2 size;\nattribute float alpha;\nattribute float angle;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_xDirectionVector;\nvarying vec2 v_yDirectionVector;\nvarying vec2 v_start;\nvarying vec2 v_length;\nvoid main() {\n  v_uvStart = uvStart;\n  v_uvSize = uvSize;\n  v_alpha = alpha;\n  \n  float pointSize = sqrt(pow(size.x, 2.0) + pow(size.y, 2.0));\n  v_start = (pointSize - size) * 0.5 / pointSize;\n  v_length = size / pointSize;\n  v_xDirectionVector = vec2(cos(angle), sin(angle));\n  vec4 dcXDirectionVector = modelViewProjMatrix * vec4(v_xDirectionVector, 0.0, 0.0);\n  dcXDirectionVector.xy = dcXDirectionVector.xy * 0.5 * viewportSize;\n  v_xDirectionVector = normalize(dcXDirectionVector.xy);\n  v_xDirectionVector = vec2(v_xDirectionVector.x, -1.0 * v_xDirectionVector.y);\n  v_yDirectionVector = vec2(-v_xDirectionVector.y, v_xDirectionVector.x);\n  vec4 dcPosition = modelViewProjMatrix * vec4(tilePosition, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  \n  float margin = pointSize / min(viewportSize.x, viewportSize.y);\n  float upperBound = 1.0 + margin;\n  float lowerBound = -1.0 - margin;\n  if (dcPosition.x < -1.0 && dcPosition.x > lowerBound) {\n    v_start.x -= (-1.0 - dcPosition.x) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = -1.0;\n  } else if (dcPosition.x > 1.0 && dcPosition.x < upperBound) {\n    v_start.x += (dcPosition.x - 1.0) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = 1.0;\n  }\n  if (dcPosition.y < -1.0 && dcPosition.y > lowerBound) {\n    v_start.y -= (-1.0 - dcPosition.y) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = -1.0;\n  } else if (dcPosition.y > 1.0 && dcPosition.y < upperBound) {\n    v_start.y += (dcPosition.y - 1.0) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = 1.0;\n  }\n  gl_Position = dcPosition;\n  gl_PointSize = pointSize * pr;\n}");
b.add("shaders/arrow.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D iconTexture;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_xDirectionVector;\nvarying vec2 v_yDirectionVector;\nvarying vec2 v_start;\nvarying vec2 v_length;\nvoid main() {\n  vec2 position = vec2(gl_PointCoord.s, 1.0 - gl_PointCoord.t);\n  \n  position = (position - v_start) / v_length;\n  vec2 centeredPosition = position - vec2(0.5, 0.5);\n  vec2 pos = centeredPosition.x * v_xDirectionVector +\n             centeredPosition.y * v_yDirectionVector +\n             vec2(0.5, 0.5);\n  if (pos.x < 0.0 || pos.x > 1.0 || pos.y < 0.0 || pos.y > 1.0) {\n    discard;\n  }\n  vec2 uv = v_uvStart + pos * v_uvSize;\n  gl_FragColor = texture2D(iconTexture, uv);\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/icon.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D iconTexture;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_psIconOrigin; \nvarying vec2 v_psIconSize ; \nvoid main() {\n  vec2 position = vec2(gl_PointCoord.s, 1.0 - gl_PointCoord.t);\n  vec2 psTopRight = v_psIconOrigin + v_psIconSize;\n  \n  \n  if (position.x < v_psIconOrigin.x || position.x >= psTopRight.x ||\n      position.y < v_psIconOrigin.y || position.y >= psTopRight.y ) {\n    discard;\n  }\n  \n  position = (position - v_psIconOrigin) / v_psIconSize;\n  vec2 uv = v_uvStart + position * v_uvSize;\n  gl_FragColor = texture2D(iconTexture, uv);\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/icon.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nuniform float pr;\n#if SNAP_ICONS_TO_PIXEL\n# if ALLOW_SUPERSAMPLING\n  uniform float pixelSnapFactor;\n# endif\n#endif\nattribute vec2 tilePosition;\nattribute vec2 uvSize;\nattribute vec2 uvStart;\nattribute vec2 size;\nattribute float alpha;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_psIconOrigin; \nvarying vec2 v_psIconSize;   \nvoid main() {\n  v_uvStart = uvStart;\n  v_uvSize = uvSize;\n  v_alpha = alpha;\n  float pointSize = max(size.x, size.y);\n#if SNAP_ICONS_TO_PIXEL\n# if !ALLOW_SUPERSAMPLING\n  if (mod(pointSize * pr, 2.0) == 1.0) {\n    pointSize += 2.0;\n  }\n# endif\n#endif\n  vec2 dcPixelSize = 2.0 / (pr * viewportSize);\n  v_psIconOrigin = (pointSize - size) * 0.5 / pointSize;\n  v_psIconSize = size / pointSize;\n  vec4 dcPosition = modelViewProjMatrix * vec4(tilePosition, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  vec2 ssPosition = (dcPosition.xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n#if SNAP_ICONS_TO_PIXEL\n# if !ALLOW_SUPERSAMPLING\n  float pixelSnapFactor = pr;\n# endif\n  \n  \n  \n  \n  \n  \n  \n  ssPosition = floor(pixelSnapFactor * ssPosition + 0.5) / pixelSnapFactor;\n# if ALLOW_SUPERSAMPLING\n  \n  \n  ssPosition.xy -= (pr - pixelSnapFactor) * mod(size, 2.0) / pr;\n# endif\n  dcPosition.xy = (2.0 * ssPosition / viewportSize) - vec2(1.0, 1.0);\n  vec2 uvOffset = vec2(0.5, 0.5);\n#else\n  vec2 uvOffset = mod(ssPosition, 1.0);\n#endif\n  v_psIconOrigin -= uvOffset * dcPixelSize;\n  \n  \n  \n  \n  float margin = pointSize / min(viewportSize.x, viewportSize.y);\n  float upperBound = 1.0 + margin;\n  float lowerBound = -1.0 - margin;\n  if (dcPosition.x < -1.0 && dcPosition.x > lowerBound) {\n    v_psIconOrigin.x -= (-1.0 - dcPosition.x) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = -1.0;\n  } else if (dcPosition.x > 1.0 && dcPosition.x < upperBound) {\n    v_psIconOrigin.x += (dcPosition.x - 1.0) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = 1.0;\n  }\n  if (dcPosition.y < -1.0 && dcPosition.y > lowerBound) {\n    v_psIconOrigin.y -= (-1.0 - dcPosition.y) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = -1.0;\n  } else if (dcPosition.y > 1.0 && dcPosition.y < upperBound) {\n    v_psIconOrigin.y += (dcPosition.y - 1.0) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = 1.0;\n  }\n  gl_Position = dcPosition;\n  gl_PointSize = pointSize * pr;\n}");
b.add("shaders/line-fill.frag","#ifdef GL_ES\n  precision highp float;\n  precision mediump int;\n#endif\nuniform vec4 color;\nuniform vec4 outerColor;\nuniform float alpha;\nuniform float lineAAPointCount;\nuniform sampler2D alphaTexture;\nuniform float halfLineWidth;\nuniform float lineWidthFactor;\nuniform float endcapThreshold;\nuniform float bodyThreshold;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\n#ifdef RENDER_PATTERN\nvarying vec2 v_ssV0;\nvarying float v_ssAdvance;\nvarying vec2 v_ssPosition;\nuniform sampler2D patternTexture;\nuniform vec2 patternTextureSize;\n#endif\nvoid main() {\n#ifdef RENDERING_TEST\n   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n   return;\n#endif\n  vec4 baseColor = mix(outerColor, color, clamp(v_colorFactor, 0.0, 1.0));\n  float lineAlpha;\n  float distanceFromCenterLine;\n  float len0 = length(v_position - v_v0);\n  float len1 = length(v_position - v_v1);\n  float len;\n  vec2 direction;\n  vec2 closestCenter;\n  float endcapDiscard;\n  if (len0 > len1) {\n    closestCenter = v_v1;\n    direction = v_v0 - v_v1;\n    len = len1 * TILE_SIZE_IN_POINT;\n  } else {\n    closestCenter  = v_v0;\n    direction = v_v1 - v_v0;\n    len = len0 * TILE_SIZE_IN_POINT;\n  }\n  float dotValue = dot(direction, v_position - closestCenter);\n  float u = v_uv[0];\n  float v = v_uv[1];\n  if (dotValue < 0.0) {\n    \n    \n    \n    \n    \n    u = len / ((halfLineWidth + lineAAPointCount) * lineWidthFactor);\n    \n    lineAlpha = texture2D(alphaTexture, vec2(u, v)).a;\n    if (lineAlpha < endcapThreshold) {\n      discard;\n    }\n  } else {\n    lineAlpha = texture2D(alphaTexture, vec2(abs(u), v)).a;\n    if (lineAlpha < bodyThreshold) {\n      discard;\n    }\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a *= alpha * lineAlpha;\n#ifdef RENDER_PATTERN\n  float distanceFromOrigin = length(v_ssPosition - v_ssV0);\n  v = (v_ssAdvance + distanceFromOrigin) / patternTextureSize.y;\n  float textureAlpha = texture2D(patternTexture, vec2(0.5, v)).a;\n# ifdef RENDER_ALPHA\n  if (textureAlpha < 1.0) {\n    discard;\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# else\n  gl_FragColor.a *= textureAlpha;\n# endif\n#else \n# ifdef RENDER_ALPHA\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# endif\n#endif\n}");
b.add("shaders/line-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nattribute float refIndex;\nattribute float dataIndex;\nattribute float expansionDirection;\nuniform float lineSectionOffset;\nuniform vec2 positionDataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform float lineAAPointCount;\nuniform mat4 modelViewProjMatrix;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nuniform float halfLineWidth;\nuniform float lineWidthFactor;\nconst float dataSize = 1.0;\n#ifdef RENDER_PATTERN\nuniform sampler2D advanceTexture;\nuniform vec2 advanceTextureSize;\nuniform vec2 viewportSize;\nuniform float zoom;\nvarying vec2 v_ssV0;\nvarying float v_ssAdvance;\nvarying vec2 v_ssPosition;\n#endif\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value * TILES_PER_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset, vec2 size) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, size.x)) / size.x;\n  float y = floor(pixel / size.x) / size.y;\n  return vec2(x, y);\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture,\n              texLocationFromIndex(index + lineSectionOffset, 0.0, positionDataTextureSize));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\n#ifdef RENDER_PATTERN\nfloat getAdvance(float index) {\n  vec4 packedAdvance = texture2D(advanceTexture, texLocationFromIndex(index, 0.0, advanceTextureSize));\n  return ((packedAdvance.w * 256.0 + packedAdvance.z) * 256.0 + packedAdvance.y) * 256.0 + packedAdvance.x;\n}\n#endif\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvoid main() {\n  \n  \n  \n  float index0 = refIndex;\n  float index1 = index0 + 1.0;\n  \n  vec2 v0 = getVertex(index0);\n  vec2 v1 = getVertex(index1);\n  bool v0Endcap = false;\n  bool v1Endcap = false;\n  \n  float tileSpaceHalfLineWidth = (halfLineWidth + lineAAPointCount) * lineWidthFactor;\n  if (isJump(v0)) {\n    if (isJump(v1)) {\n      gl_Position = vec4(2.0, 0.0, 2000.0, 1.0);\n      return;\n    }\n    v0.y -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (isJump(v1)) {\n    v1.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  v0Endcap = drawEndcap(v0);\n  if (v0Endcap) {\n    v0.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v1Endcap = drawEndcap(v1);\n  if (v1Endcap) {\n    v1.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v0 -= SIGNED_VERTEX_OFFSET;\n  v1 -= SIGNED_VERTEX_OFFSET;\n  vec2 tangent = normalize(v1 - v0);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 currentVertexCenter;\n  bool extendForEndcap = false;\n  \n  \n  if (index0 == dataIndex) {\n    currentVertexCenter = v0;\n    extendForEndcap = v0Endcap;\n    tangent *= -1.0;\n  } else {\n    currentVertexCenter = v1;\n    extendForEndcap = v1Endcap;\n  }\n  normal = normal * expansionDirection * tileSpaceHalfLineWidth * TILES_PER_POINT;\n  vec2 offsetFromCenter = normal;\n  if (extendForEndcap) {\n    offsetFromCenter += tangent * tileSpaceHalfLineWidth * TILES_PER_POINT;\n  }\n  \n  \n  v_colorFactor = 2.0 * expansionDirection * halfLineWidth + 1.0;\n  \n  v_position = currentVertexCenter + offsetFromCenter;\n  v_v0 = v0;\n  v_v1 = v1;\n  v_uv = vec2(expansionDirection, (halfLineWidth * 2.0 + 0.5) / MAX_HALF_LINE_WIDTH);\n  vec4 center =  modelViewProjMatrix * vec4(currentVertexCenter, 0.0, 1.0);\n  vec4 offset = modelViewProjMatrix * vec4(offsetFromCenter, 0.0, 0.0);\n  vec4 finalPosition = center + offset;\n  gl_Position = finalPosition;\n#ifdef RENDER_PATTERN\n  float virtualViewportFactor = pow(2.0, -mod(zoom, 0.5));\n  vec2 virtualViewportSize = viewportSize * virtualViewportFactor;\n  float v0Advance = getAdvance(index0);\n  float v1Advance = getAdvance(index1);\n  vec4 dcV0 = modelViewProjMatrix * vec4(v0, 0.0, 1.0);\n  vec4 dcV1 = modelViewProjMatrix * vec4(v1, 0.0, 1.0);\n  dcV0 /= dcV0.w;\n  dcV1 /= dcV1.w;\n  center /= center.w;\n  vec2 ssV0 = (dcV0.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  vec2 ssV1 = (dcV1.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  vec2 ssCenter = (center.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  float ssSegmentLength = length(ssV1 - ssV0);\n  float ssAdvanceFactor = ssSegmentLength / (v1Advance - v0Advance);\n  v_ssAdvance = v0Advance * ssAdvanceFactor;\n  v_ssV0 = ssV0;\n  v_ssPosition = ssCenter;\n#endif\n#ifdef RENDERING_TEST\n  gl_PointSize = 1.0;\n#endif\n}");
b.add("shaders/line-normal-gen.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D vertexTexture;\nuniform vec2 vertexTextureSize;\nvec2 shortTo8BitVec2(float value) {\n  vec2 res;\n  if (value < 0.0) {\n    res.x = mod(floor(-value), 256.0);\n    res.y = 128.0 + floor(-value / 256.0);\n  } else {\n    res.x = floor(mod(value, 256.0));\n    res.y = floor(value / 256.0);\n  }\n  return res / 255.0;\n}\nvec4 toRGBA(vec2 value) {\n  return vec4(shortTo8BitVec2(value.x),\n              shortTo8BitVec2(value.y));\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index) {\n  float x = floor(mod(index, vertexTextureSize.x)) / vertexTextureSize.x;\n  float y = floor(index/ vertexTextureSize.x) / vertexTextureSize.y;\n  return vec2(x, y);\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(vertexTexture, texLocationFromIndex(index));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nfloat lineIntersections(vec2 p, vec2 r,\n                        vec2 q, vec2 s) {\n  vec2 pq = q - p;\n  return cross(vec3(pq, 0.0), vec3(s, 0.0)).z / cross(vec3(r, 0.0), vec3(s, 0.0)).z;\n}\nfloat indexFromUV(vec2 uv) {\n  float x = floor(uv.x * vertexTextureSize.x);\n  float y = floor(uv.y * vertexTextureSize.y);\n  return y * vertexTextureSize.x + x;\n}\nbool hasEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nbool isJumpVertex(vec2 vertex) {\n  return vertex.x > LINE_JUMP_VERTEX_CEIL;\n}\nvoid main() {\n  float index = indexFromUV(v_uv);\n  vec2 p0 = getVertexCenter(index - 1.0);\n  vec2 p1 = getVertexCenter(index + 0.0);\n  vec2 p2 = getVertexCenter(index + 1.0);\n  bool p0IsJump = isJumpVertex(p0);\n  bool p1IsJump = isJumpVertex(p1);\n  bool p2IsJump = isJumpVertex(p2);\n  if (p0IsJump) {\n    p0 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p0)) {\n    p0 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p1IsJump) {\n    p1 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p1)) {\n    p1 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p2IsJump) {\n    p2 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p2)) {\n    p2 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p0IsJump || p1IsJump || p2IsJump) {\n    \n    vec2 normal;\n    if (p2IsJump) {\n      vec2 p1p0 = normalize(p1 - p0);\n      normal = TILE_SIZE_IN_POINT * vec2(p1p0.y, -p1p0.x);\n    } else {\n      vec2 p2p1 = normalize(p1 - p2);\n      normal = TILE_SIZE_IN_POINT * vec2(-p2p1.y, p2p1.x);\n    }\n    gl_FragColor = toRGBA(normal);\n  } else {\n    vec2 p0p1 = normalize(p1 - p0);\n    vec2 p2p1 = normalize(p1 - p2);\n    vec2 np0p1 = vec2(p0p1.y, -p0p1.x);\n    vec2 np2p1 = vec2(-p2p1.y, p2p1.x);\n    vec2 n = np0p1 + np2p1;\n    vec2 a = p1 + np2p1;\n    n = normalize(n);\n    float t = lineIntersections(p1, n, a, p2p1);\n    n = t * n * TILE_SIZE_IN_POINT;\n    gl_FragColor = toRGBA(n);\n  }\n}");
b.add("shaders/line-normal-gen.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvarying vec2  v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position.zw = vec2(0.0, 1.0);\n  gl_Position.xy = 2.0 * position - vec2(1.0, 1.0);\n}");b.add("shaders/loading.frag","#ifdef GL_ES\n  precision highp float;\n#endif \nuniform vec3 color;\nvoid main() {\n  gl_FragColor = vec4(color, 1.0);\n}");b.add("shaders/loading.vert","#ifdef GL_ES\n  precision highp float;\n#endif \nuniform mat4 viewProjMatrix;\nuniform mat4 modelMatrix;\nattribute vec2 position;\nvoid main() {\n  gl_Position = viewProjMatrix * modelMatrix * vec4(position, 0.0, 1.0);\n}");
b.add("shaders/polygon-fill.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec4 fillColor;\nuniform float alpha;\nvoid main() {\n  gl_FragColor = fillColor;\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/polygon-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nattribute float dataIndex;\nuniform mat4 modelViewProjMatrix;\nuniform float polygonOffset;\nuniform float drawingStartIndex;\nuniform vec2 dataTextureSize;\nuniform sampler2D positionDataTexture;\nconst float positionOffset = 0.0;\nconst float dataSize = 1.0;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(highp float index, float offset) {\n  index = polygonOffset + index;\n  float pixel = index * dataSize + offset;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, positionOffset));\n  vec2 vertex = vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n  if (drawEndcap(vertex)) {\n    vertex.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (isJump(vertex)) {\n    vertex.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  vertex -= SIGNED_VERTEX_OFFSET;\n  return vertex;\n}\nvec4 worldToDc(vec2 v) {\n  \n  vec4 ucv = modelViewProjMatrix * vec4(v, 0.0, 1.0);\n  return ucv;\n}\nvoid main() {\n  gl_Position = worldToDc(getVertexCenter(dataIndex + drawingStartIndex));\n}");
b.add("shaders/polygon-stroke.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_position;\nvarying float v_normalLength;\nvarying vec2 v_center1;\nvarying vec2 v_center2;\nvarying float v_expansionDirection;\nvarying float v_expansionLength;\nvarying float v_aaSize;\nuniform float strokeWidth;\nuniform vec4 strokeColor;\nuniform float alpha;\nvoid main() {\n    gl_FragColor = strokeColor;\n    \n    vec2 v1 = v_position - v_center1;\n    vec2 v2 = v_position - v_center2;\n    float len1 = length(v1);\n    float len2 = length(v2);\n    float isBlended = step(strokeWidth, abs(v_expansionLength));\n    float blendFactor = isBlended * (strokeWidth - v_expansionLength) / v_aaSize;\n    gl_FragColor = mix(strokeColor, vec4(0.0, 0.0, 0.0, 0.0), blendFactor);\n    vec2 center;\n    vec2 direction;\n    float len;\n    if (len1 > len2) {\n      len = len2;\n      center = v_center2;\n      direction = v_center2 - v_center1;\n    } else {\n      len = len1;\n      center = v_center1;\n      direction = v_center1 - v_center2;\n    }\n    float dotValue = dot(v_position - center, direction);\n    if ( dotValue > 0.0 && len > strokeWidth * (1.0 + v_aaSize)) {\n      discard;\n    }\n    gl_FragColor.a *= alpha;\n}");
b.add("shaders/polygon-stroke.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_color;\nvarying vec2 v_center;\nvarying vec2 v_center1;\nvarying vec2 v_center2;\nvarying vec2 v_position;\nvarying float v_normalLength;\nvarying float v_expansionDirection;\nvarying float v_expansionLength;\nvarying float v_aaSize;\nattribute float dataIndex;\nattribute float centerIndex1;\nattribute float centerIndex2;\nattribute float expansionDirection;\nuniform float polygonSize;\nuniform float polygonOffset;\nuniform float drawingStartIndex;\nuniform vec2 dataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform sampler2D normalDataTexture;\nuniform sampler2D normalDataTexture2;\nuniform float strokeWidth;\nuniform vec2 screenSize;\nuniform mat4 viewProjMatrix;\nuniform mat4 modelMatrix;\nconst float dataSize = 1.0;\nconst float positionOffset = 0.0;\nconst float normalOffset = 0.0;\nconst float aaSize = 0.2;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  index = polygonOffset + mod(index + 0.01, polygonSize) - 0.01;\n  float pixel = index * dataSize + offset;\n  \n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  \n  return vec2(x, y);\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nvec2 getNormal(float index) {\n  vec4 packedNormal = texture2D(normalDataTexture, texLocationFromIndex(index, normalOffset));\n  return (vec2(unpackSignedFloat(packedNormal.xy),\n               unpackSignedFloat(packedNormal.zw)));\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, positionOffset));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nvec2 dcToSc(vec2 v) {\n  vec2 ndcv = (v + vec2(1.0, 1.0)) * 0.5;\n  return screenSize * ndcv;\n}\nvec2 scToDc(vec2 v) {\n  return (2.0 * v / screenSize) - vec2(1.0, 1.0);\n}\nvec2 worldToSc(vec2 v) {\n  \n  vec4 ucv = viewProjMatrix * modelMatrix * vec4(v, 0.0, 1.0);\n  \n  vec2 dcv = ucv.xy / ucv.w;\n  \n  \n  return dcToSc(dcv);\n}\nvec2 getPosition() {\n  vec2 normal = TILE_SIZE_IN_POINT * getNormal(drawingStartIndex + dataIndex) / TILE_SIZE_IN_POINT;\n  float originalLength = length(normal);\n  v_normalLength = originalLength;\n  \n  normal = normalize((viewProjMatrix * modelMatrix * vec4(normalize(normal), 0.0, 0.0)).xy * screenSize);\n  \n  normal *= originalLength;\n  vec2 scPosition = worldToSc(getVertexCenter(drawingStartIndex + dataIndex));\n  vec2 center1 = getVertexCenter(drawingStartIndex + centerIndex1);\n  vec2 center2 = getVertexCenter(drawingStartIndex + centerIndex2);\n  v_center1 = worldToSc(center1);\n  v_center2 = worldToSc(center2);\n  v_expansionDirection = expansionDirection;\n  v_expansionLength = expansionDirection * strokeWidth * (1.0 + aaSize);\n  scPosition += v_expansionLength * normal;\n  v_aaSize = aaSize;\n  v_position = scPosition;\n  return scToDc(scPosition);\n}\nvoid main() {\n  gl_Position = vec4(getPosition(), 0.0, 1.0);\n}");
b.add("shaders/raster-tile.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D rasterTileTexture;\nuniform float alpha;\nvarying vec2 v_uv;\nvoid main() {\n  gl_FragColor = texture2D(rasterTileTexture, v_uv);\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/raster-tile.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nvarying vec2 v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n}");
b.add("shaders/shield.frag","");b.add("shaders/shield.vert","");b.add("shaders/text-label.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D glyphTexture;\nuniform vec4 color;\nuniform float alpha;\nuniform float transitionEndDistance;\nuniform float transitionStartDistance;\nuniform float fontScaleFactor;\nconst float DISCARD_MIN = 0.01;\nvec4 getColor(vec2 uv) {\n  vec4 color = texture2D(glyphTexture, v_uv);\n  return color;\n}\nvoid main() {\n#ifdef RENDERING_TEST\n   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n   return;\n#endif\n  vec4 texColor = getColor(v_uv);\n  float texAlpha = texColor.a;\n  \n  \n  \n  \n  float distance = (1.0 - texAlpha) * 2.0 - 1.0;\n  gl_FragColor = color;\n  float factor = 1.0 - smoothstep(transitionStartDistance, transitionEndDistance, distance);\n  gl_FragColor.a *= factor * alpha;\n}");
b.add("shaders/shield-text-label.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D glyphTexture;\nuniform vec4 color;\nuniform float alpha;\nconst float DISCARD_MIN = 0.01;\nvec4 getColor(vec2 uv) {\n  vec4 color = texture2D(glyphTexture, v_uv);\n  return color;\n}\nvoid main() {\n  gl_FragColor = getColor(v_uv);\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/axis-aligned-text-label.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nattribute float dataIndex;\nuniform sampler2D dataTexture;\nuniform vec2 dataTextureSize;\nuniform vec2 glyphTexturePoints;\nuniform vec2 viewportSize;\n#if SNAP_GLYPHS_TO_PIXEL\n# if ALLOW_SUPERSAMPLING\n  uniform float pixelSnapFactor;\n# endif\n#endif\nuniform float fontScaleFactor;\nconst float advanceOffset = 0.0;  \nconst float uvStartOffset = 1.0;  \nconst float uvEndOffset = 2.0;    \nconst float dataSize = 3.0;\nuniform float halfLineWidth;\nuniform vec2 center;\nuniform vec2 positionOffset;\nuniform float labelIndexOffset;\nuniform float pr;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nvec4 getGlyphBounds(float glyphIndex) {\n  vec2 uvStartCoord = texLocationFromIndex(glyphIndex, uvStartOffset);\n  vec2 uvEndCoord = texLocationFromIndex(glyphIndex, uvEndOffset);\n  vec4 packedStartUV = texture2D(dataTexture, uvStartCoord);\n  vec4 packedEndUV = texture2D(dataTexture, uvEndCoord);\n  vec2 startUV = vec2(unpackUnsignedFloat(packedStartUV.xy), unpackUnsignedFloat(packedStartUV.zw));\n  vec2 endUV = vec2(unpackUnsignedFloat(packedEndUV.xy), unpackUnsignedFloat(packedEndUV.zw));\n  return vec4(startUV, endUV);\n}\nvec2 getGlyphSize(vec4 glyphBounds) {\n  return glyphBounds.zw - glyphBounds.xy;\n}\nvec2 getAdvance(float glyphIndex) {\n  vec2 advanceTexCoord = texLocationFromIndex(glyphIndex, advanceOffset);\n  vec4 packedAdvance = texture2D(dataTexture, advanceTexCoord);\n  vec2 result;\n  result.x = unpackSignedFloat(packedAdvance.xy);\n  result.y = unpackSignedFloat(packedAdvance.zw);\n  return result;\n}\nvec2 straightLinePosition(vec2 advance) {\n  vec2 ssPosition;\n  vec4 dcPosition = modelViewProjMatrix * vec4(center, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  ssPosition = (dcPosition.xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  ssPosition += fontScaleFactor * advance;\n  ssPosition += positionOffset;\n#if SNAP_GLYPHS_TO_PIXEL\n#if !ALLOW_SUPERSAMPLING\n  float pixelSnapFactor = pr;\n#endif\n  \n  ssPosition = floor(pixelSnapFactor * ssPosition + 0.5) / pixelSnapFactor;\n#endif\n  return ssPosition;\n}\nvoid setUV(vec2 bl, vec2 tr) {\n  vec2 originalGlyphSize = (tr - bl);\n  tr /= glyphTexturePoints;\n  bl /= glyphTexturePoints;\n  vec2 uvSize = tr - bl;\n  v_uv = bl + position * uvSize;\n}\nvoid setVertexPosition(vec2 advance,\n                       vec2 bl,\n                       vec2 tr) {\n  vec2 glyphSize = (tr - bl) * fontScaleFactor;\n  \n  gl_Position.xy = position * glyphSize;\n  vec2 ssLinePosition = straightLinePosition(advance);\n  gl_Position.xy += ssLinePosition;\n  gl_Position.xy = (2.0 * (gl_Position.xy) / viewportSize) - vec2(1.0, 1.0);\n  gl_Position.zw = vec2(1.0, 1.0);\n}\nvoid main() {\n  float glyphIndex = dataIndex + labelIndexOffset;\n  vec2 advance = TILE_SIZE_IN_POINT * getAdvance(glyphIndex);\n  vec4 glyphBounds = TILE_SIZE_IN_POINT * getGlyphBounds(glyphIndex);\n  setUV(glyphBounds.xy, glyphBounds.zw);\n  setVertexPosition(advance, glyphBounds.xy, glyphBounds.zw);\n}");
b.add("shaders/curved-text-label.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nattribute float dataIndex;\nuniform sampler2D dataTexture;\nuniform vec2 dataTextureSize;\nuniform float maxAdvance;\nuniform float fontScaleFactor;\nuniform vec2 glyphTexturePoints;\nuniform float haloSize;\nconst float advanceOffset = 0.0;  \nconst float uvStartOffset = 1.0;  \nconst float uvEndOffset = 2.0;    \nconst float W1 = 5.0 / 9.0;\nconst float W2 = 8.0 / 9.0;\nconst float W3 = 5.0 / 9.0;\nconst float dataSize = 3.0;\nuniform vec2 viewportSize;\nuniform vec2 p0;\nuniform vec2 p1;\nuniform vec2 p2;\nuniform vec2 p3;\nuniform float halfLineWidth;\nuniform vec2 center;\nuniform vec2 positionOffset;\nuniform float labelIndexOffset;\nfloat derivativeLength(float t, vec4 Vx, vec4 Vy) {\n  \n  vec4  dT = vec4(3.0 * t * t, 2.0 * t, 1.0, 0.0);\n  \n  mat4 B = mat4(-1.0,  3.0,    -3.0, 1.0,\n                3.0,   -6.0,   3.0,  0.0,\n                -3.0,  3.0,    0.0,  0.0,\n                1.0,   0.0,    0.0,  0.0);\n  vec4 dTB = dT * B;\n  return length(vec2(dot(dTB, Vx), dot(dTB, Vy)));\n}\nfloat curveLength(float t, vec4 Vx, vec4 Vy) {\n  return ( 0.5 * t *\n    (W1 * derivativeLength(t * 1.774597 * 0.5, Vx, Vy) +\n     W2 * derivativeLength(t * 0.5, Vx, Vy) +\n     W3 * derivativeLength(t * 0.225403 * 0.5, Vx, Vy)));\n}\nvec4 bezierCurvePosition(vec2 advance) {\n  vec4 ndcp0 = modelViewProjMatrix * vec4(p0, 0.0, 1.0);\n  vec4 ndcp1 = modelViewProjMatrix * vec4(p1, 0.0, 1.0);\n  vec4 ndcp2 = modelViewProjMatrix * vec4(p2, 0.0, 1.0);\n  vec4 ndcp3 = modelViewProjMatrix * vec4(p3, 0.0, 1.0);\n  vec2 ssp0 = ((ndcp0 / ndcp0.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp1 = ((ndcp1 / ndcp1.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp2 = ((ndcp2 / ndcp2.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp3 = ((ndcp3 / ndcp3.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  if (ssp0.x > ssp3.x) {\n    vec2 tmp = ssp3;\n    ssp3 = ssp0;\n    ssp0 = tmp;\n    tmp = ssp1;\n    ssp1 = ssp2;\n    ssp2 = tmp;\n  }\n  vec4 Vx = vec4(ssp0.x, ssp1.x, ssp2.x, ssp3.x);\n  vec4 Vy = vec4(ssp0.y, ssp1.y, ssp2.y, ssp3.y);\n  float minT = 0.0;\n  float maxT = 1.0;\n  float minLength = 0.0;\n  \n  float anchorLength = curveLength(BEZIER_CURVE_ANCHOR, Vx, Vy);\n  float maxLength = curveLength(1.0, Vx, Vy);\n  float anchoredAdvance = advance.x - halfLineWidth + anchorLength;\n  if (anchoredAdvance > maxLength) {\n    return vec4(2.0, 2.0, 0.0, 0.0);\n  } else {\n    \n    for (int i = 0; i < 10; i++) {\n      float middleT = mix(minT, maxT, 0.5);\n      float middleLength = curveLength(middleT, Vx, Vy);\n      if (anchoredAdvance > middleLength) {\n        minT = middleT;\n        minLength = middleLength;\n      } else {\n        maxT = middleT;\n        maxLength = middleLength;\n      }\n    }\n    \n    float t = mix(minT, maxT, anchoredAdvance / (maxLength + minLength));\n    \n    float t2 = t * t;\n    float t3 = t * t2;\n    vec4 T = vec4(t3,\n                  t2,\n                  t,\n                  1.0);\n    vec4 dT = vec4(3.0 * t2,\n                   2.0 * t,\n                   1.0,\n                   0.0);\n    \n    mat4 B = mat4(-1.0,  3.0,    -3.0, 1.0,\n                  3.0,   -6.0,   3.0,  0.0,\n                  -3.0,  3.0,    0.0,  0.0,\n                  1.0,   0.0,    0.0,  0.0);\n    vec4 TB = T * B;\n    vec2 pos = vec2(dot(TB, Vx), dot(TB, Vy));\n    vec4 dTB = dT * B;\n    vec2 tangent = vec2(dot(dTB, Vx), dot(dTB, Vy));\n    \n    vec2 normal = normalize(vec2(-tangent.y, tangent.x));\n    pos += normal * (advance.y + positionOffset.y);\n    pos = (pos * 2.0 / viewportSize) - vec2(1.0, 1.0);\n    return vec4(pos, normal);\n  }\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nvec4 getGlyphBounds(float glyphIndex) {\n  vec2 uvStartCoord = texLocationFromIndex(glyphIndex, uvStartOffset);\n  vec2 uvEndCoord = texLocationFromIndex(glyphIndex, uvEndOffset);\n  vec4 packedStartUV = texture2D(dataTexture, uvStartCoord);\n  vec4 packedEndUV = texture2D(dataTexture, uvEndCoord);\n  vec2 startUV = vec2(unpackUnsignedFloat(packedStartUV.xy), unpackUnsignedFloat(packedStartUV.zw));\n  vec2 endUV = vec2(unpackUnsignedFloat(packedEndUV.xy), unpackUnsignedFloat(packedEndUV.zw));\n  return vec4(startUV, endUV);\n}\nvec2 getGlyphSize(vec4 glyphBounds) {\n  return glyphBounds.zw - glyphBounds.xy;\n}\nvec2 getAdvance(float glyphIndex) {\n  vec2 advanceTexCoord = texLocationFromIndex(glyphIndex, advanceOffset);\n  vec4 packedAdvance = texture2D(dataTexture, advanceTexCoord);\n  vec2 result;\n  result.x = unpackSignedFloat(packedAdvance.xy);\n  result.y = unpackSignedFloat(packedAdvance.zw);\n  return result;\n}\nvoid setUV(vec2 bl, vec2 tr) {\n  vec2 originalGlyphSize = (tr - bl);\n  tr /= glyphTexturePoints;\n  bl /= glyphTexturePoints;\n  vec2 uvSize = tr - bl;\n  v_uv = bl + position * uvSize;\n}\nvoid setVertexPosition(vec2 advance,\n                       vec2 bl,\n                       vec2 tr) {\n  vec2 glyphSize = (tr - bl) * fontScaleFactor;\n  \n  gl_Position.xy = position * glyphSize;\n  vec2 bezierAdvance = vec2(advance.x, advance.y) * fontScaleFactor;\n  vec4 bezierPosition = bezierCurvePosition(bezierAdvance);\n  vec2 normal = bezierPosition.zw;\n  float x = dot(normal, vec2(1.0, 0.0));\n  float y = dot(normal, vec2(0.0, 1.0));\n  float alpha = -atan(x, y);\n  mat2 rot = mat2(cos(alpha), sin(alpha),\n      -sin(alpha), cos(alpha));\n  gl_Position.xy = rot * gl_Position.xy;\n  gl_Position.xy = 2.0 * (gl_Position.xy) / (viewportSize);\n  gl_Position.xy += bezierPosition.xy;\n  gl_Position.zw = vec2(1.0, 1.0);\n}\nvoid main() {\n  float glyphIndex = labelIndexOffset + dataIndex;\n  vec2 advance = TILE_SIZE_IN_POINT * getAdvance(glyphIndex);\n  vec4 glyphBounds = TILE_SIZE_IN_POINT * getGlyphBounds(glyphIndex);\n  setUV(glyphBounds.xy, glyphBounds.zw);\n  setVertexPosition(advance, glyphBounds.xy, glyphBounds.zw);\n}");
b.add("shaders/basic.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec4 color;\nuniform float alpha;\nvoid main() {\n  gl_FragColor = color;\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/basic.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nvoid main() {\n  gl_Position = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n}");b.add("shaders/grid.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec4 color;\nuniform float alpha;\nvarying float v_alpha;\nvoid main() {\n  gl_FragColor = color;\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/grid.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nattribute float useAlpha;\nvarying float v_alpha;\nuniform float alpha;\nuniform mat4 modelViewProjMatrix;\nvoid main() {\n  v_alpha = useAlpha;\n  if (useAlpha > 0.0) {\n    v_alpha = alpha;\n  } else {\n    v_alpha = 1.0;\n  }\n  vec4 dcPosition = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n  gl_Position = dcPosition;\n}");b.add("shaders/grid-line-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nattribute float refIndex;\nattribute float dataIndex;\nattribute float expansionDirection;\nuniform float lineSectionOffset;\nuniform vec2 positionDataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform float lineAAPointCount;\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nuniform float halfLineWidth;\nconst float dataSize = 1.0;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value * TILES_PER_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  index = lineSectionOffset + index;\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, positionDataTextureSize.x)) / positionDataTextureSize.x;\n  float y = floor(pixel / positionDataTextureSize.x) / positionDataTextureSize.y;\n  return vec2(x, y);\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, 0.0));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvoid main() {\n  \n  \n  \n  float index0 = refIndex;\n  float index1 = index0 + 1.0;\n  \n  vec2 v0 = getVertex(index0);\n  vec2 v1 = getVertex(index1);\n  bool v0Endcap = false;\n  bool v1Endcap = false;\n  if (isJump(v0)) {\n    if (isJump(v1)) {\n      gl_Position = vec4(2.0, 0.0, 2000.0, 1.0);\n      return;\n    }\n    v0.y -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (isJump(v1)) {\n    v1.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  v0Endcap = drawEndcap(v0);\n  if (v0Endcap) {\n    v0.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v1Endcap = drawEndcap(v1);\n  if (v1Endcap) {\n    v1.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v0 -= SIGNED_VERTEX_OFFSET;\n  v1 -= SIGNED_VERTEX_OFFSET;\n  \n  vec4 v0_dc = modelViewProjMatrix * vec4(v0, 0.0, 1.0);\n  vec4 v1_dc = modelViewProjMatrix * vec4(v1, 0.0, 1.0);\n  \n  vec2 v0_ss = ((v0_dc / v0_dc.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 v1_ss = ((v1_dc / v1_dc.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  \n  vec2 tangent = normalize(v1_ss - v0_ss);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 offset = normal * (halfLineWidth + lineAAPointCount) * expansionDirection;\n  vec2 currentCenter;\n  bool extendForEndcap = false;\n  \n  \n  if (index0 == dataIndex) {\n    currentCenter = v0_ss;\n    extendForEndcap = v0Endcap;\n    tangent *= -1.0;\n  } else {\n    currentCenter = v1_ss;\n    extendForEndcap = v1Endcap;\n  }\n  if (extendForEndcap) {\n    offset += tangent * (halfLineWidth + lineAAPointCount);\n  }\n  \n  vec2 finalPosition = currentCenter + offset;\n  \n  \n  v_colorFactor = 2.0 * expansionDirection * halfLineWidth + 1.0;\n  v_position = finalPosition;\n  v_v0 = v0_ss;\n  v_v1 = v1_ss;\n  v_uv = vec2(expansionDirection, (halfLineWidth * 2.0 + 0.5) / MAX_HALF_LINE_WIDTH);\n  \n  vec2 pos = (finalPosition * 2.0 / viewportSize) - vec2(1.0, 1.0);\n  gl_Position = vec4(pos, 0.0, 1.0);\n}");
b.add("shaders/grid-line-fill.frag","#ifdef GL_ES\n  precision highp float;\n  precision mediump int;\n#endif\nuniform vec4 color;\nuniform vec4 outerColor;\nuniform float alpha;\nuniform float lineAAPointCount;\nuniform sampler2D alphaTexture;\nuniform float halfLineWidth;\nuniform float endcapThreshold;\nuniform float bodyThreshold;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nvoid main() {\n  vec4 baseColor = mix(outerColor, color, clamp(v_colorFactor, 0.0, 1.0));\n  float lineAlpha;\n  float distanceFromCenterLine;\n  float len0 = length(v_position - v_v0);\n  float len1 = length(v_position - v_v1);\n  float len;\n  vec2 direction;\n  vec2 closestCenter;\n  float endcapDiscard;\n  if (len0 > len1) {\n    closestCenter = v_v1;\n    direction = v_v0 - v_v1;\n    len = len1;\n  } else {\n    closestCenter  = v_v0;\n    direction = v_v1 - v_v0;\n    len = len0;\n  }\n  float dotValue = dot(direction, v_position - closestCenter);\n  float u = v_uv[0];\n  float v = v_uv[1];\n  if (dotValue < 0.0) {\n    \n    \n    \n    \n    \n    u = len / (halfLineWidth + lineAAPointCount);\n    \n    lineAlpha = texture2D(alphaTexture, vec2(u, v)).a;\n    if (lineAlpha < endcapThreshold) {\n      discard;\n    }\n  } else {\n    lineAlpha = texture2D(alphaTexture, vec2(abs(u), v)).a;\n    if (lineAlpha < bodyThreshold) {\n      discard;\n    }\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a *= alpha * lineAlpha;\n# ifdef RENDER_ALPHA\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# endif\n}");
b.add("shaders/line-vertex-fetch.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nuniform sampler2D vertexTexture;\nuniform vec2 vertexTextureSize;\nuniform vec2 targetSize;\nuniform vec2 viewportSize;\nuniform float lineStartIndex;\nuniform float lineCount;\nconst float dataSize = 1.0;\nvec2 shortTo8BitVec2(float value) {\n  vec2 res;\n  \n  \n  \n  \n  res.x = floor(mod(value, 256.0));\n  res.y = floor(value / 256.0);\n  return res / 255.0;\n}\nvec4 toRGBA(vec2 value) {\n  return vec4(shortTo8BitVec2(value.x),\n              shortTo8BitVec2(value.y));\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, vertexTextureSize.x)) / vertexTextureSize.x;\n  float y = floor(pixel / vertexTextureSize.x) / vertexTextureSize.y;\n  return vec2(x, y);\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(vertexTexture, texLocationFromIndex(index, 0.0));\n  vec2 vertex = vec2(unpackUnsignedFloat(packedPosition.xy),\n                     unpackUnsignedFloat(packedPosition.zw));\n  if (drawEndcap(vertex)) {\n    vertex.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (isJump(vertex)) {\n    vertex.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  vertex -= SIGNED_VERTEX_OFFSET;\n  return vertex;\n}\nfloat indexFromFragCoord() {\n  float line = viewportSize[1] - ceil(targetSize.y - gl_FragCoord.y);\n  float row = gl_FragCoord.x;\n  return row + targetSize.x * line;\n}\nvoid main() {\n  float index = indexFromFragCoord() + lineStartIndex;\n  vec2 vertex = TILE_SIZE_IN_POINT * getVertex(index);\n  gl_FragColor = toRGBA(vertex);\n}");
b.add("shaders/line-vertex-fetch.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvoid main() {\n  gl_Position.zw = vec2(0.0, 1.0);\n  gl_Position.xy = 2.0 * position - vec2(1.0, 1.0);\n}");b.add("shaders/texture-saver.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvarying vec2 v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position = vec4(position * 2.0 - vec2(1.0, 1.0), 0.0, 1.0);\n}");b.add("shaders/texture-saver.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nuniform sampler2D originalTexture;\nvarying vec2 v_uv;\nvoid main() {\n  gl_FragColor = texture2D(originalTexture, v_uv);\n}");
b.add("shaders/full-screen.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvoid main() {\n  gl_Position = vec4((position * 2.0 - vec2(1.0, 1.0)), 0.0, 1.0);\n}")});g.prototype.use=g.prototype.use;g.prototype.unuse=g.prototype.Sa;g.prototype.attributes=g.prototype.attributes;g.prototype.uniforms=g.prototype.F;g.prototype.glObject=g.prototype.Nb;c.Program=c.Ya;c.Shader=c.yA;return c});u(114,0,function(){function d(d){this.D=d;this.Tb=d.createBuffer();this.Td();this.once("released",
this.ya,this)}var g=h(111),r=h(22);d.prototype.type=function(d){this.Be=d;this.gF();return this};d.prototype.SB=function(d){this.Nl=d;return this};d.prototype.gF=function(){this.Nl&&void 0!==this.Be&&void 0!==this.nq&&(this.Be===d.Bl&&this.bind().data(this.Nl).m(),delete this.Nl)};d.prototype.Gx=function(){return void 0!==this.Nl};d.prototype.usage=function(d){this.nq=d;return this};d.prototype.yE=function(d){this.D.bufferData(this.Be,d,this.nq)};d.prototype.data=function(d,g){if("number"===typeof d)this.yE(d);
else{var m=this.D;"number"===typeof g?m.bufferSubData(this.Be,g,d):m.bufferData(this.Be,d,this.nq)}return this};d.prototype.bind=function(){this.D.bindBuffer(this.Be,this.Tb);return this};d.prototype.m=function(){return this};d.prototype.use=function(d){this.bind();d();this.m()};d.prototype.Nb=function(){return this.Tb};d.prototype.size=function(){var d=this.D;return d.getBufferParameter(this.Be,d.BUFFER_SIZE)};d.prototype.ya=function(){this.Gx()||this.D.bindBuffer(this.Be,null);this.D.deleteBuffer(this.Tb);
this.Tb=null};r.da(d.prototype);d.Fm=function(g,q){g=new d(g);g.type(d.Bl).usage(d.$o).bind().data(q).m();return g};d.Wf=function(g,q){g=new d(g);g.type(d.ru).usage(d.$o).bind().data(q).m();return g};d.cQ=function(g,q){g=new d(g);g.type(d.Bl).usage(d.Xt).bind().data(q).m();return g};d.br=function(g){var q=new Float32Array(0);g=new d(g);g.type(d.ru).usage(d.Xt).bind().data(q).m();return g};d.OI=function(g,q){g=new d(g);g.SB(q).usage(d.$o);return g};g.once("creation",function(g){d.$o=g.STATIC_DRAW;
d.Xt=g.DYNAMIC_DRAW;d.bP=g.STREAM_DRAW;d.ru=g.ARRAY_BUFFER;d.Bl=g.ELEMENT_ARRAY_BUFFER});d.prototype.bind=d.prototype.bind;d.prototype.unbind=d.prototype.m;d.prototype.destroy=d.prototype.ya;return d});u(115,0,function(){var d=h(109),g=h(114),r={ah:function(p){var q="unit-square-vbo-ibo-"+p.id;if(!d.has(q)){var m={};m.Na=g.Wf(p,new Float32Array([0,0,0,1,1,0,1,1]));m.Xa=g.Fm(p,new Uint16Array([0,1,2,2,1,3,3,2,0,2]));m.ibo=m.Xa;m.vbo=m.Na;d.add(q,m)}return d.get(q)},tK:function(p,q,m){var k="grid-vbos-ibos-"+
p.id+"-"+m+"x"+q,e;if(!d.has(k)){var b=Array(4+3*(m+1+q+1)),a=1/q,c=0;b[c++]=0;b[c++]=0;b[c++]=0;b[c++]=1;b[c++]=0;b[c++]=0;b[c++]=1;b[c++]=1;b[c++]=0;var f=a;for(e=0;e<q;e++)b[c++]=f,b[c++]=0,b[c++]=1,b[c++]=f,b[c++]=1,b[c++]=1,f+=a;f=a=1/m;for(e=0;e<m;e++)b[c++]=0,b[c++]=f,b[c++]=1,b[c++]=1,b[c++]=f,b[c++]=1,f+=a;a=Array(4+2*(q+m));c=0;a[c++]=0;a[c++]=1;a[c++]=1;a[c++]=2;f=3;for(e=0;e<q-1;e++){var l=f+2*e+0;var n=f+2*e+1;a[c++]=l;a[c++]=n}f+=2*q;for(e=0;e<m;e++)l=f+2*e+0,n=f+2*e+1,a[c++]=l,a[c++]=
n;q={};q.Na=g.Wf(p,new Float32Array(b));q.Xa=g.Fm(p,new Uint16Array(a));d.add(k,q)}return d.get(k)}};r.getUnitSquare=r.ah;return r});u(116,0,function(){function d(d){this.i=d;this.Tb=d.createFramebuffer();this.Td();this.once("released",this.ya,this)}var g=h(22);d.prototype.bind=function(){var d=this.i;d.bindFramebuffer(d.FRAMEBUFFER,this.Tb);return this};d.prototype.m=function(){var d=this.i;d.bindFramebuffer(d.FRAMEBUFFER,null);return this};d.prototype.xk=function(d,g){var q=this.i;q.framebufferTexture2D(q.FRAMEBUFFER,
q.COLOR_ATTACHMENT0+(g||0),q.TEXTURE_2D,d,0);return this};d.prototype.lz=function(d){var g=this.i;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.STENCIL_ATTACHMENT,g.RENDERBUFFER,d);return this};d.prototype.Nb=function(){return this.Tb};d.prototype.ya=function(){this.i.deleteFramebuffer(this.Tb);this.Tb=null};d.prototype.wI=function(){var d=this.i,g=d.checkFramebufferStatus(d.FRAMEBUFFER);switch(g){case d.FRAMEBUFFER_COMPLETE:return;case d.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:d="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT";
break;case d.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:d="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";break;case d.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:d="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS";break;case d.FRAMEBUFFER_UNSUPPORTED:d="Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED";break;default:d="Incomplete framebuffer: "+g}console.error("Framebuffer error: "+d);debugger};d.prototype.read=function(d,g){var q=this.i;this.bind();var m=new Uint8Array(d*g*4);
q.readPixels(0,0,d,g,q.RGBA,q.UNSIGNED_BYTE,m);this.m();return m};g.da(d.prototype);d.prototype.bind=d.prototype.bind;d.prototype.unbind=d.prototype.m;d.prototype.colorTexture=d.prototype.xk;d.prototype.stencilRenderbuffer=d.prototype.lz;d.prototype.glObject=d.prototype.Nb;d.prototype.destroy=d.prototype.ya;d.prototype.checkStatus=d.prototype.wI;return d});u(117,0,function(){function d(k){this.D=k;this.B=d.B(k);var e=this;this.B.then(function(b){e.o=b[0];e.Na=b[1].Na;e.Xa=b[1].Xa});this.he=new m(k)}
var g=h(115),r=h(113),p=h(103),q=h(13),m=h(116);d.prototype.read=function(d){var e=this.D,b=new (h("webgl/texture"))(e,d.width,d.height);e.activeTexture(e.TEXTURE0);b.bind().data(null,e.RGBA).hd(e.NEAREST).fd(e.NEAREST).Bh(e.CLAMP_TO_EDGE).Ch(e.CLAMP_TO_EDGE);this.he.bind();this.he.xk(b.Nb());b.m();e.viewport(0,0,d.width,d.height);this.o.use();this.Na.bind();this.Xa.bind();e.enableVertexAttribArray(this.o.attributes().position);e.vertexAttribPointer(this.o.attributes().position,2,e.FLOAT,!1,8,0);
e.uniform1i(this.o.F().Ja,1);e.activeTexture(e.TEXTURE1);d.bind();e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0);this.o.Sa();d.m();b=new Uint8Array(d.width*d.height*4);e.readPixels(0,0,d.width,d.height,e.RGBA,e.UNSIGNED_BYTE,b);this.he.m();this.Na.m();this.Xa.m();e.viewport(0,0,e.canvas.width,e.canvas.height);return b};d.B=function(d,e){e=e||"shaders/";var b=d.id+"-texture-saver-deps";if(p.has(b))return p.get(b);e=r.Ya.Za(d,e+"texture-saver.vert",e+"texture-saver.frag");d=g.AS(d);d=p.get(d);e=q.all([e,
d]);p.add(b,e);return e};return d});u(118,0,function(){function d(e,b,a){m.Qa(this)&&(this.width=b,this.height=a,this.Tb=e.createTexture(),this.i=e,this.Td(),this.once("released",this.ya,this))}var g=h(3),r=h(103),p=h(111);h(117);var q=h(5),m=h(8),k=h(22);d.prototype.bind=function(){var e=this.i;e.bindTexture(e.TEXTURE_2D,this.Tb);return this};d.prototype.m=function(){return this};d.prototype.Nb=function(){return this.Tb};d.prototype.XN=function(e,b,a,c){var f=this.i;this.Rl?(f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,
!0),f.texSubImage2D(f.TEXTURE_2D,0,a,c,b,f.UNSIGNED_BYTE,e),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1)):f.texSubImage2D(f.TEXTURE_2D,0,a,c,b,f.UNSIGNED_BYTE,e);return this};d.Fq=function(e,b,a,c){b=a*c*b+8;if(e.byteLength>=b)return e;b=new Uint8Array(b);b.set(e,0);return b};d.prototype.data=function(e,b,a,c){b=b||d.RGB;a=a||b;var f=this.i;(this.Rl=c)?(f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!0),f.texImage2D(f.TEXTURE_2D,0,a,this.width,this.height,0,b,f.UNSIGNED_BYTE,e),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,
!1)):f.texImage2D(f.TEXTURE_2D,0,a,this.width,this.height,0,b,f.UNSIGNED_BYTE,e);return this};d.prototype.Xi=function(e,b,a,c,f,d){var l=this.i;l.texSubImage2D(l.TEXTURE_2D,0,a,c,f,d,b,l.UNSIGNED_BYTE,e);return this};d.prototype.Fk=function(e,b,a){var c=this.i;b=b||c.RGB;(this.Rl=a)?(c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,b,b,c.UNSIGNED_BYTE,e),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)):(c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(c.TEXTURE_2D,0,b,b,c.UNSIGNED_BYTE,
e));return this};d.prototype.fd=function(e){var b=this.i;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,e);return this};d.prototype.hd=function(e){var b=this.i;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,e);return this};d.prototype.Bh=function(e){var b=this.i;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,e);return this};d.prototype.Ch=function(e){var b=this.i;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,e);return this};d.prototype.use=function(e){this.bind();e();this.m();return this};d.prototype.Wq=
function(e){this.i.Wq(e)};d.prototype.ya=function(){this.i.bindTexture(this.i.TEXTURE_2D,null);this.i.deleteTexture(this.Tb);this.Tb=null};k.da(d.prototype);d.Fk=function(e,b,a){var c=new d(e,b.width,b.height);e="jpg"===b.Mt?e.RGB:e.RGBA;c.bind().Fk(b,e,a).hd(d.NEAREST).fd(d.NEAREST).m();return c};d.zR=function(e,b,a,c){return b.get(a,r.Ef).then(function(a){return d.Fk(e,a,c)})};d.KR=function(e,b){e/=b||4;b=Math.min(q.Fr(e),2048);return g.g.l(b,q.Fr(e/b))};p.once("creation",function(e){d.RGBA=e.RGBA;
d.RGB=e.RGB;d.LUMINANCE=e.LUMINANCE;d.ALPHA=e.ALPHA;d.UNSIGNED_BYTE=e.UNSIGNED_BYTE;d.UNSIGNED_SHORT_5_6_5=e.UNSIGNED_SHORT_5_6_5;d.UNSIGNED_SHORT_4_4_4_4=e.UNSIGNED_SHORT_4_4_4_4;d.UNSIGNED_SHORT_5_5_5_1=e.UNSIGNED_SHORT_5_5_5_1;d.LINEAR=e.LINEAR;d.NEAREST=e.NEAREST;d.REPEAT=e.REPEAT;d.CLAMP_TO_EDGE=e.CLAMP_TO_EDGE});d.prototype.bind=d.prototype.bind;d.prototype.unbind=d.prototype.m;d.prototype.glObject=d.prototype.Nb;d.prototype.wrapS=d.prototype.Bh;d.prototype.wrapT=d.prototype.Ch;d.prototype.minFilter=
d.prototype.hd;d.prototype.magFilter=d.prototype.fd;d.prototype.destroy=d.prototype.ya;return d});u(119,0,function(){function d(a,b,c,e){q.Qa(this)&&(k.prototype.constructor.call(this,a,c,e),this.Ew=b)}function g(a,b){d.prototype.constructor.call(this,a,b,c,f)}function r(a,b){d.prototype.constructor.call(this,a,b,4,l)}function p(a,b,c){var e=m.Fr(c.length);d.prototype.constructor.call(this,a,b,8,e);this.pattern=c;this.wx=this.pattern.length/e}var q=h(8),m=h(5),k=h(118),e=h(0),b=h(13),a=h(109);q.Y(k,
d);d.prototype.Gr=function(){return{Ys:this.i.CLAMP_TO_EDGE,t:this.i.CLAMP_TO_EDGE}};d.prototype.gx=function(){return{min:this.i.LINEAR,Qx:this.i.LINEAR}};d.prototype.lb=function(){var a=this.getData(),c=this.i.ALPHA,e=this.Gr(),f=this.gx();this.bind().data(a,c,c,!1).hd(f.min).fd(f.Qx).Bh(e.Ys).Ch(e.t).m();return b.resolve(this)};var c=e.Di,f=1*e.Di;q.Y(d,g);g.prototype.getData=function(){for(var a=Array(c*f),b=0,d=e.Di,l=Array(e.Di),n=0;n<e.Di;n++)l[n]=1;2<=this.Ew?(l[1]=.5,l[2]=.66,l[3]=.75,l[4]=
.8,l[5]=.9,l[6]=1):(l[1]=0,l[2]=0,l[3]=.5,l[4]=.6,l[5]=.7,l[6]=.8,l[7]=.9);for(var k=e.qn/this.Ew,m=-.5*k,g=0;g<d;g++){var t=g;n=t*l[g];var q=0;t>n&&(q=.5*(t-n));t=.5*n+m;n=t+k+q;var h=t+k;g?(q=255,t=Math.ceil(d*t/n),h=Math.ceil(d*h/n)):(q=128,t=0,h=.5*d);for(var p=h-t,r=0;1>r;r++){for(n=0;n<t;n++)a[b++]=q;for(var x=q/p;n<h;n++)q-=x,a[b++]=q;for(;n<d;n++)a[b++]=0}}return new Uint8Array(a)};g.prototype.gx=function(){return{min:this.i.LINEAR,Qx:this.i.LINEAR}};var l=e.ML;q.Y(d,r);r.prototype.getData=
function(){for(var a=Array(4*l),b=0,c=.75*l,e=.25*l,f=0;f<l;f++){var d=255;f>e&&f<c&&(d=0);for(var n=0;4>n;n++)a[b++]=d}return new Uint8Array(a)};r.prototype.Gr=function(){return{t:this.i.REPEAT,Ys:this.i.CLAMP_TO_EDGE}};q.Y(d,p);p.prototype.getData=function(){for(var a=this.pattern.Dr,b=Array(this.width*this.height),c=255,e=0,f=0,d=0,l=a.length;d<l;d++){f=a[d]/this.wx+f;for(var n=Math.floor(f),k=0;k<n;k++)for(var m=0;8>m;m++)b[e++]=c;f-=n;c=c?0:255;f=0!==f?f-1:0}return new Uint8Array(b)};p.prototype.Gr=
function(){return{t:this.i.REPEAT,Ys:this.i.CLAMP_TO_EDGE}};var n={iu:1,Pz:2,Ut:3},t={};n.get=function(b,c,e,f,d){var l=b.id+"-procedural-texture-"+c+"x-"+e+(f?"-"+f:"");if(a.has(l))return a.get(l);b=(new t[e](b,c,d)).lb().then(function(b){b.once("released",function(){a.remove(l)});return b.De()});b.catch(function(){a.remove(l)});a.add(l,b);return b};t[n.iu]=g;t[n.Pz]=r;t[n.Ut]=p;return n});u(120,0,function(){function d(e){this.na=e;this.$C=e.zc*e.Ai;this.ZC=e.zc*e.Vk;this.ZB=e.zc*e.zi;this.YB=e.zc*
e.Uk}var g=h(5),r=h(118),p=h(114),q=h(109),m=h(0),k=h(3);d.Tm=function(e,b){var a=g.hx((b.byteLength||b.length)/4),c=new r(e,a[0],a[1]);b=r.Fq(b,4,a[0],a[1]);c.bind().data(b,e.RGBA).hd(e.NEAREST).fd(e.NEAREST).m();return c};d.Vm=function(e){var b="shared-ascending-ibo-"+e.id;if(q.has(b))return q.get(b);var a=this.wC(Math.max(6*m.js,m.vn));e=p.Fm(e,new Uint16Array(a));q.add(b,e);return e};d.wC=function(e){return Array.from(Array(e).keys())};d.prototype.Wm=function(e,b,a){b*=4;for(var c=Array(4*a),
f=0;f<c.length;f+=2)c[f+0]=(e[b+f]+1)%256,c[f+1]=0===c[f+0]?(e[b+f+1]+1)%32:e[b+f+1]%32;return this.pB(a,c)};d.prototype.pB=function(e,b){var a=Array(e),c;for(c=0;c<e;c++){var f=this.oB(b[4*c]+256*b[4*c+1],b[4*c+2]+256*b[4*c+3]);a[c]=f}return a};d.prototype.oB=function(e,b){var a=this.WC(b);a&&(b-=this.$C);var c=this.DC(e);c&&(e-=this.ZB);e=k.g.l(e,b);e.Ex=a;e.DS=c;return e};d.prototype.WC=function(e){return e>this.ZC};d.prototype.DC=function(e){return e>this.YB};d.prototype.xK=function(e){for(var b=
new ArrayBuffer(8*e.length),a=new Float32Array(b),c=0,f=e.length;c<f;c++){var d=e[c];a[2*c]=d[0]*this.na.sb;a[2*c+1]=d[1]*this.na.sb}return b};return d});u(121,0,function(){function d(){}var g=h(3),r=h(113),p=h(114),q=h(118),m=h(13),k=h(115),e=h(119),b=h(109),a=h(120),c=h(0);d.prototype.vC=function(){for(var a=this.i,b=[],d=c.rz[0],k=c.rz[1];d<=k;d++)b.push(e.get(a,d,e.iu).then(function(a){return a.Hb()}));return m.all(b)};d.prototype.lb=function(e,l){this.i=e;this.Ae=0;this.na=l;this.ZD=new a(l);
l="line-rendering-resources-"+e.id+"-"+l.id;if(b.has(l))e=b.get(l);else{var f=this.vC(),g=r.Ya.Za(e,"shaders/line-fill.vert","shaders/line-fill.frag"),h=r.Ya.Za(e,"shaders/grid-line-fill.vert","shaders/grid-line-fill.frag"),p=r.Ya.Za(e,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_PATTERN:1}),C=r.Ya.Za(e,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_ALPHA:1}),A=r.Ya.Za(e,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_PATTERN:1,RENDER_ALPHA:1}),w=r.Ya.Za(e,"shaders/line-vertex-fetch.vert",
"shaders/line-vertex-fetch.frag"),u=k.ah(e),O=d.Wf(e,c.js),J=a.Vm(e);e=(new q(e,c.Iy[0],c.Iy[1])).bind().data(null,e.RGBA,e.RGBA).hd(e.NEAREST).fd(e.NEAREST).m();e=m.all([f,g,h,p,C,A,w,u,O,J,e,null,null]);b.add(l,e)}return e=e.then(function(a){this.eD=a[0];this.iC=a[1];this.gC=a[2];this.uD=a[3];this.TA=a[4];this.UA=a[5];this.Zh=a[8];this.Ph=a[9];return this}.bind(this))};d.prototype.qh=function(a){this.Ae!==a&&(this.Ae=a,this.sv=this.eD[a-1],this.gL=c.qn/this.Ae)};d.prototype.Zf=function(){return this.iC};
d.prototype.me=function(){return this.uD};d.prototype.Ug=function(){return this.TA};d.prototype.cf=function(){return this.UA};d.prototype.Pm=function(){return this.gC};d.Wf=function(a,b){var c=[],e;for(e=0;e<b;e++)c.push(e,e,-1),c.push(e,e,1),c.push(e+1,e,-1),c.push(e+1,e,-1),c.push(e,e,1),c.push(e+1,e,1);return p.Wf(a,new Float32Array(c))};d.prototype.zE=function(a){var b=this.i;this.Zh.bind();b.vertexAttribPointer(a.dataIndex,1,b.FLOAT,!1,12,0);b.vertexAttribPointer(a.refIndex,1,b.FLOAT,!1,12,4);
b.vertexAttribPointer(a.expansionDirection,1,b.FLOAT,!1,12,8);this.Zh.m();b.enableVertexAttribArray(a.dataIndex);b.enableVertexAttribArray(a.refIndex);b.enableVertexAttribArray(a.expansionDirection)};d.prototype.kq=function(a){var b=this.i;b.disableVertexAttribArray(a.dataIndex);b.disableVertexAttribArray(a.refIndex);b.disableVertexAttribArray(a.expansionDirection)};d.prototype.CE=function(a){var b=this.i;b.activeTexture(b.TEXTURE7);this.sv.bind();b.uniform1i(a.alphaTexture,7);b.uniform1f(a.lineAAPointCount,
this.gL)};d.prototype.df=function(a){var b=a.attributes(),c=a.F();a.use();this.zE(b);this.CE(c);this.Ph.bind()};d.prototype.xf=function(a){var b=this.i,c=a.attributes();this.kq(c);a.Sa();b.activeTexture(b.TEXTURE7);this.sv.m();this.Ph.m()};d.prototype.Wm=function(a,b,c){return this.ZD.Wm(a,b,c)};d.prototype.oK=function(b){var c=Array(b.length),e=0,f=g.g.create(),d;c[0]=0;var k=1;for(d=b.length;k<d;){var m=b[k-1],q=b[k];m.Ex&&q.Ex?e=0:(m=g.g.length(g.g.sub(f,q,m)),e=Math.floor(e+m));c[k++]=e}b=new Uint32Array(c);
return a.Tm(this.i,new Uint8Array(b.buffer))};d.iJ=function(a,b,c,e,d,k){return Math.floor(b*e+(c?d:0))*Math.pow(2,16)+Math.floor(a*e+k)};d.get=function(a,b){return(new d).lb(a,b)};return d});u(122,0,function(){function d(){}function g(){this.Yn=0;this.Gi=null}function r(e,b){this.EC=this.Mp=!1;this.i=e;var a=this;r.B(e,b).then(function(b){a.yc=b[0];a.Zf=a.yc.Zf();a.me=a.yc.me();a.Ug=a.yc.Ug();a.cf=a.yc.cf();a.Pm=a.yc.Pm()});this.cz();this.zp()}var p=h(13),q=h(0),m=h(109),k=h(121);d.kc=function(){return!0};
g.prototype.Nk=function(){return 1>this.color[3]||1>this.Dn[3]||1>this.alpha};g.prototype.tx=function(){return null!==this.Gi};g.prototype.th=function(e){this.pe=e.O};g.prototype.et=function(e,b,a,c){this.width=e;this.color=b;this.Dn=a;this.alpha=c};g.prototype.rh=function(e,b){this.mg=e;this.Zg=b};g.prototype.bz=function(e){this.Yn=e};g.prototype.Oy=function(e){this.rw=e};g.prototype.Wy=function(e){this.Gi=e};r.prototype.Lf=function(e){function b(a){m=a;l.bk(n,a)}function a(a){k=a.pe;1===l.dv(a)?
l.tE(n,a):l.af(n,a)}var c=this.yc,f=Array(9),l=this,n=e.F();f[0]=c.df.bind(c,e);f[0].kc=function(a){return this!==a};f[8]=c.xf.bind(c,e);var k;a.kc=function(b,c){return b!==a||c.pe!==k};f[1]=a;f[7]=this.Rg.bind(this);var m=null;b.kc=function(a,c){return a!==b||c.alpha!==m.alpha||c.width!==m.width||c.color!==m.color||c.Dn!==m.Dn};f[2]=b;f[6]=d;f[3]=d;f[5]=d;f[4]=d;return f};r.prototype.tp=function(e,b){var a=b.attributes();b=b.F();b=this.cq.bind(this,a,b);b.kc=function(){return!0};e[3]=b;e[5]=this.lq.bind(this,
a)};r.prototype.Ku=function(e){return this.hb[e].map(function(b){return b})};r.prototype.zp=function(){this.dc=Array(9);this.hb=Array(7);this.hb[0]=this.Lf(this.Zf);this.hb[2]=this.Lf(this.me);this.hb[3]=this.Ku(0);this.hb[4]=this.Ku(2);this.hb[5]=this.Lf(this.Ug);this.hb[6]=this.Lf(this.cf);this.hb[1]=this.Lf(this.Pm);this.tp(this.hb[2],this.me);this.tp(this.hb[4],this.me);this.tp(this.hb[6],this.cf);this.hb[0][4]=this.Tj.bind(this,this.Zf.F());this.hb[3][4]=this.gm.bind(this,this.Zf.F());this.hb[1][4]=
this.Tj.bind(this,this.Pm.F());this.hb[2][4]=this.Tj.bind(this,this.me.F());this.hb[4][4]=this.gm.bind(this,this.me.F());this.hb[5][4]=function(e){this.em(this.Ug.F(),this.Yl,e)}.bind(this);this.hb[6][4]=function(e){this.em(this.cf.F(),this.Yl,e)}.bind(this)};r.prototype.cr=function(){return new g};r.prototype.dv=function(e){return this.Mp?e.tx()?6:5:e.tx()?e.Nk()?4:2:e.Nk()?3:this.EC?1:0};r.prototype.kb=function(e,b,a,c,f){b=e.elements;b.length&&(f=f[b[0].Vb.fc],e.O=e.O||{},e.O.Fs=f,e.O.Ia=e.Ia,
e.O.cs=0)};r.prototype.Ck=function(e,b,a){for(var c=this.i,f=0,d;f<e;)d=Math.min(q.js,e-f),c.uniform1f(a.lineSectionOffset,b+f),c.drawElements(c.TRIANGLES,6*d,c.UNSIGNED_SHORT,0),f+=d};r.iz=function(){var e=this.i;e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)};r.FS=function(){this.iz()};r.bJ=function(){var e=this.i;e.disable(e.BLEND)};r.prototype.cz=function(){this.Mp=!1;this.$u=.01;this.av=.1;this.$p=1;this.Wv=.01;this.Xv=.1;this.bq=r.iz;this.Ki=
this.fE};r.prototype.XM=function(e){this.Mp=!0;this.Yl=e;this.$u=.01;this.av=.1;this.$p=1;this.Wv=.01;this.Xv=.1;this.bq=r.bJ;this.Ki=this.fI};r.prototype.gm=function(e,b){var a=this.i,c=b.mg,f=b.Zg;a.disable(a.BLEND);a.enable(a.STENCIL_TEST);a.colorMask(!1,!1,!1,!1);a.stencilFunc(a.GEQUAL,b.Yn,255);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);var d=this.$u,n=this.av;a.uniform1f(e.bodyThreshold,d);a.uniform1f(e.endcapThreshold,n);this.Ck(c,f,e);this.bq();a.colorMask(!0,!0,!0,!0);n=d=this.$p;a.uniform1f(e.bodyThreshold,
d);a.uniform1f(e.endcapThreshold,n);a.stencilFunc(a.EQUAL,b.Yn,255);a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.Ck(c,f,e);d=this.Wv;n=this.Xv;a.uniform1f(e.bodyThreshold,d);a.uniform1f(e.endcapThreshold,n);this.Ck(c,f,e);a.disable(a.STENCIL_TEST)};r.prototype.Tj=function(e,b){var a=this.i;this.bq();a.enable(a.STENCIL_TEST);a.stencilFunc(a.GEQUAL,b.Yn,255);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);var c=b.mg;b=b.Zg;a.uniform1f(e.endcapThreshold,0);a.uniform1f(e.bodyThreshold,0);this.Ck(c,b,e);a.disable(a.STENCIL_TEST)};
r.prototype.af=function(e,b){var a=this.i;b=b.pe;var c=b.Fs,f=b.cs;a.uniformMatrix4fv(e.modelViewProjMatrix,!1,b.Ia);a.activeTexture(a.TEXTURE0);c.bind();a.uniform1i(e.positionDataTexture,0);a.uniform2f(e.positionDataTextureSize,c.width,c.height);a.uniform1f(e.lineWidthFactor,f)};r.prototype.tE=function(e,b){var a=this.i;b=b.pe;var c=b.Fs;a.uniformMatrix4fv(e.modelViewProjMatrix,!1,b.Ia);a.activeTexture(a.TEXTURE0);c.bind();a.uniform1i(e.positionDataTexture,0);a.uniform2f(e.positionDataTextureSize,
c.width,c.height)};r.prototype.Rg=function(e){var b=this.i;b.activeTexture(b.TEXTURE0);e.pe.Fs.m()};r.prototype.bk=function(e,b){var a=this.i,c=b.alpha,f=.5*b.width,d=b.Dn;a.uniform4fv(e.color,b.color);a.uniform4fv(e.outerColor,d);a.uniform1f(e.alpha,c);a.uniform1f(e.halfLineWidth,f)};r.prototype.cq=function(e,b,a){e=this.i;var c=a.Gi;e.activeTexture(e.TEXTURE6);c.bind();e.uniform1i(b.patternTexture,6);e.uniform2f(b.patternTextureSize,c.width,c.height*c.wx);a=a.rw;e.activeTexture(e.TEXTURE5);a.bind();
e.uniform1i(b.advanceTexture,5);e.uniform2f(b.advanceTextureSize,a.width,a.height);e.uniform2fv(b.viewportSize,this.ik);e.uniform1f(b.zoom,this.Dj.lf())};r.prototype.lq=function(e,b){e=this.i;var a=b.Gi;b=b.rw;e.activeTexture(e.TEXTURE5);b.m();e.activeTexture(e.TEXTURE6);a.m()};r.prototype.aE=function(e){var b=this.me.attributes(),a=this.me.F();this.yc.df(this.me);this.af(a,e);this.bk(a,e);this.cq(b,a,e);e.Nk()?this.gm(a,e):this.Tj(a,e);this.lq(b,e);this.Rg(e);this.yc.xf(this.me)};r.prototype.XD=
function(e){var b=this.Zf.F();this.yc.df(this.Zf);this.af(b,e);this.bk(b,e);e.Nk()?this.gm(b,e):this.Tj(b,e);this.Rg(e);this.yc.xf(this.Zf)};r.prototype.fE=function(e){console.assert(!this.pP);null!==e.Gi?this.aE(e):this.XD(e)};r.prototype.em=function(e,b,a){var c=a.mg,f=a.Zg,d=this.i;d.enable(d.STENCIL_TEST);d.stencilFunc(d.NOTEQUAL,255,255);d.disable(d.BLEND);d.colorMask(!0,!0,!0,!0);a.Nk()?(d.uniform1f(e.alpha,a.color[3]),d.stencilOp(d.KEEP,d.KEEP,d.KEEP)):(d.stencilOp(d.KEEP,d.KEEP,d.REPLACE),
d.colorMask(!1,!1,!1,!0),d.uniform1f(e.alpha,b));d.uniform1f(e.endcapThreshold,.2);d.uniform1f(e.bodyThreshold,.2);this.Ck(c,f,e);d.colorMask(!0,!0,!0,!0);d.disable(d.STENCIL_TEST)};r.prototype.fI=function(e){if(e.Gi){var b=this.cf.F();var a=this.cf.attributes();this.yc.df(this.cf);this.af(b,e);this.bk(b,e);this.cq(a,b,e);this.em(b,this.Yl,e);this.lq(a,e);this.Rg(e);this.yc.xf(this.cf)}else b=this.Ug.F(),this.yc.df(this.Ug),this.af(b,e),this.bk(b,e),this.em(b,this.Yl,e),this.Rg(e),this.yc.xf(this.Ug)};
r.prototype.pg=function(e,b){this.YA=this.Ki;this.Ki=this.TD;for(var a=0;9>a;a++)this.dc[a]=d;this.Dj=e;this.ik=b};r.prototype.qg=function(){for(var e=5;9>e;e++)this.dc[e](this.Pp);this.Ki=this.YA;this.ik=this.Dj=null};r.prototype.lE=function(e,b){for(var a=5;a<=e;a++)this.dc[a](this.Pp);for(a=0;9>a;a++)this.dc[a]=b[a]};r.prototype.ak=function(e,b,a){for(;4>=e;e++)b[e](a)};r.prototype.TD=function(e){var b=this.dv(e);b=this.hb[b];for(var a=this.dc,c=0;4>=c;c++)if(a[c].kc(b[c],e)){this.lE(8-c,b);this.ak(c,
b,e);break}this.Pp=e};r.prototype.Gb=function(e){e=e.devicePixelRatio;this.yc.qh(e);this.Ae=e};r.B=function(e,b){var a=e.id+"-line-renderer-deps";if(m.has(a))return m.get(a);e=k.get(e,b);e=p.all([e]);m.add(a,e);return e};return r});u(123,0,function(){function d(){}var g=h(113),r=h(114),p=h(13),q=h(109),m=h(0);d.prototype.lb=function(d){this.i=d;var e="polygon-rendering-resources-"+d.id;if(q.has(e))d=q.get(e);else{d=g.Ya.Za(d,"shaders/polygon-fill.vert","shaders/polygon-fill.frag");var b=this.nB();
d=p.all([d,b]);q.add(e,d)}return d=d.then(function(a){this.jC=a[0];this.Zu=a[1];return this}.bind(this))};d.prototype.vr=function(){return this.jC};d.prototype.nB=function(){for(var d=this.i,e=[],b=0;b<6*m.vL;b++)e.push(b);return r.Wf(d,new Uint16Array(e))};d.prototype.rE=function(d){var e=this.i;this.Zu.bind();e.vertexAttribPointer(d.dataIndex,1,e.UNSIGNED_SHORT,!1,2,0);e.enableVertexAttribArray(d.dataIndex)};d.prototype.kq=function(d){this.i.disableVertexAttribArray(d.dataIndex);this.Zu.m()};d.prototype.df=
function(d){var e=d.attributes();d.use();this.rE(e)};d.prototype.xf=function(d){var e=d.attributes();d.Sa();this.kq(e)};d.get=function(k){return(new d).lb(k)};return d});u(124,0,function(){function d(){}function g(e){this.rg=e.cr()}function r(e,b){this.i=e;var a=this;r.B(e).then(function(c){a.qy=c[0];a.qb=new k(e,b);a.vr=a.qy.vr()});this.QC(a.vr);this.Ij=[]}var p=h(13),q=h(109),m=h(123),k=h(122);d.kc=function(){return!0};g.prototype.rh=function(e,b,a,c){this.mg=e;this.Zg=b;this.EK=a;this.$n=c;this.rg.rh(c,
a);this.rg.bz(0)};g.prototype.th=function(e,b){this.pe=e.O;this.pe.Vw=b;this.rg.th(e)};g.prototype.PM=function(){this.Xw=!1};g.prototype.UM=function(e,b,a,c,d,l,n){this.fillColor=e;this.alpha=b;this.Xw=a;this.VN=c;this.xw=n;this.$x=1>e[3]||1>b;.2>d?(a=e,d=1):(a=e,e=l);c&&this.rg.et(d,a,e,b)};r.prototype.QC=function(e){function b(a){l.xE(n,a)}function a(a){k=a.pe;l.af(n,a)}var c=this.qy;this.dc=Array(9);var f=Array(9),l=this,n=e.F();f[0]=c.df.bind(c,e);f[0].kc=function(a){return this!==a};f[8]=c.xf.bind(c,
e);var k;a.kc=function(b,c){return b!==a||c.pe!==k};f[1]=a;f[7]=this.Rg.bind(this,n);b.kc=function(){return!0};f[3]=b;f[5]=d;this.cm=null;f[2]=function(a){a.$x?l.aC():l.VB()};f[2].kc=function(a,b){return this.cm!==b.$x};f[6]=d;f[4]=this.cE.bind(this,n);this.sM=f};r.prototype.NI=function(){return new g(this.qb)};r.prototype.kb=function(e,b,a,c,d){var f=e.elements;f.length&&(this.qb.kb.apply(this.qb,arguments),e.O.Co=d[f[0].Vb.fc])};r.prototype.aC=function(){var e=this.i;e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,
e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);e.blendEquation(e.FUNC_ADD);this.cm=!0};r.prototype.VB=function(){var e=this.i;e.disable(e.BLEND);this.cm=!1};r.prototype.pg=function(e,b){this.Dj=e;this.ik=b;this.Xj();this.qb.pg(e,b);this.Pp=this.Av=null};r.prototype.qg=function(){this.qb.qg();this.Ij.length&&this.Vu()};r.prototype.Xj=function(){for(var e=0;9>e;e++)this.dc[e]=d;this.cm=null};r.prototype.Vu=function(){this.Ij.forEach(this.UD,this);this.Ij.length=0;for(var e=5;9>e;e++)this.dc[e](this.Cv);
this.Xj()};r.prototype.qM=function(e){e=e.O.py;e.Xw&&(this.Av!==e.xw&&this.Ij.length&&(this.qb.qg(),this.Vu(),this.qb.pg(this.Dj,this.ik)),this.Av=e.xw,e.VN&&this.qb.Ki(e.rg,this.Dj,this.ik),this.Ij.push(e))};r.prototype.af=function(e,b){var a=this.i;b=b.pe;a.uniformMatrix4fv(e.modelViewProjMatrix,!1,b.Ia);a.uniform1i(e.positionDataTexture,0);a.uniform2f(e.dataTextureSize,b.Co.width,b.Co.height);a.activeTexture(a.TEXTURE0);b.Co.bind();b.Vw.bind()};r.prototype.xE=function(e,b){var a=this.i;a.uniform1f(e.polygonOffset,
b.EK);a.uniform4fv(e.fillColor,b.fillColor);a.uniform1f(e.alpha,b.alpha);a.uniform1f(e.drawingStartIndex,0)};r.prototype.Rg=function(e,b){e=this.i;b=b.pe;e.activeTexture(e.TEXTURE0);b.Co.m();b.Vw.m()};r.prototype.cE=function(e,b){e=this.i;e.drawElements(e.TRIANGLES,b.mg,e.UNSIGNED_SHORT,2*b.Zg)};r.prototype.gq=function(e,b){for(var a=5;a<=e;a++)this.dc[a](this.Cv);for(a=0;9>a;a++)this.dc[a]=b[a]};r.prototype.ak=function(e,b,a){for(;4>=e;e++)b[e](a)};r.prototype.UD=function(e){for(var b=this.sM,a=
this.dc,c=0;4>=c;c++)if(a[c].kc(b[c],e)){this.gq(8-c,b);this.ak(c,b,e);break}this.Cv=e};r.prototype.Gb=function(e){this.qb.Gb(e)};r.B=function(e,b){var a=e.id+"-polygon-renderer-deps";if(q.has(a))return q.get(a);var c=m.get(e);e=k.B(e,b);c=p.all([c,e]);q.add(a,c);return c};return r});u(126,0,function(){function d(){}function g(d,k){r.Qa(this)&&(this.gd=d,this.T=k,this.im=!0,this.Kf=1,this.kE(),this.BE())}var r=h(8),p=h(14),q=h(15);g.prototype.kE=function(){this.fb=Array(p.count);for(var m=0;m<p.count;m++)this.fb[m]=
d};g.prototype.BE=function(){switch(this.type()){case q.qj:case q.Fa:var d=this.T.xd("before-base-map"),k=this.T.xd("after-base-map");this.fb[p.Rt]=this.T.Bd.bind(this.T,d);this.fb[p.Jz]=this.T.Bd.bind(this.T,k);break;case q.ue:case q.Te:case q.Gf:case q.$d:case q.Ig:case q.Df:case q.se:case q.ub:d=this.T.xd("below-roads");k=this.T.xd("before-road-alpha");var e=this.T.xd("above-roads");this.fb[p.St]=this.T.Bd.bind(this.T,d);this.fb[p.Mz]=this.T.Bd.bind(this.T,k);this.fb[p.Pt]=this.T.Bd.bind(this.T,
e);break;case q.$:case q.Ec:d=this.T.xd("roads");k=this.T.xd("road-alpha");this.fb[p.wA]=this.T.Bd.bind(this.T,d);this.fb[p.vA]=this.T.Bd.bind(this.T,k);break;case q.gc:this.fb[p.Nz]=this.T.rr.bind(this.T);break;case q.w:case q.rc:this.fb[p.qu]=this.T.rr.bind(this.T);break;case q.Dc:d=this.T.xd("poi-texts");this.fb[p.qu]=this.T.Bd.bind(this.T,d);d=this.T.xd("poi-icons");this.fb[p.hu]=this.T.Bd.bind(this.T,d);break;case q.qa:case q.V:this.fb[p.hu]=this.T.rr.bind(this.T);break;case q.U:d=this.T.xd("clear-tile"),
this.fb[p.Rt]=this.T.Bd.bind(this.T,d),d=this.T.xd("below-roads"),this.fb[p.St]=this.T.Bd.bind(this.T,d),d=this.T.xd("above-roads"),this.fb[p.Pt]=this.T.Bd.bind(this.T,d),d=this.T.xd("above-buildings"),this.fb[p.Hz]=this.T.Bd.bind(this.T,d)}};g.prototype.type=function(){return this.gd.type()};g.prototype.gM=function(d,k,e,b){this.im&&this.gd.hh()&&(this.gd.update(d),this.T.Nd(d,k,this.gd,e,b,this.Kf))};g.prototype.eJ=function(d,k,e,b,a){if(this.im)this.fb[d](k,e,this.gd,b,a,this.Kf)};g.prototype.hh=
function(){return this.gd.hh()};g.prototype.gi=function(){this.gd.gi()};g.prototype.Py=function(d){this.Kf!==d&&(this.Kf=d,this.gd.wc())};g.prototype.show=function(){this.im=!0};g.prototype.ie=function(){this.im=!1};return g});u(127,0,function(){function d(){this.sa=[];this.Oh=!0}d.prototype.push=function(){this.wc();return this.sa.push.apply(this.sa,arguments)};d.prototype.splice=function(){this.wc();return this.sa.splice.apply(this.sa,arguments)};d.prototype.remove=function(d){this.wc();this.splice(this.indexOf(d),
1)};d.prototype.indexOf=function(){return this.sa.indexOf.apply(this.sa,arguments)};d.prototype.reset=function(){this.wc();this.sa=[]};d.prototype.wc=function(){this.Oh=!0};d.prototype.hh=function(){return this.Oh};d.prototype.update=function(){this.Oh=!1};return d});u(128,0,function(){function d(d){g.Qa(this)&&(r.prototype.constructor.call(this),this.Be=d)}var g=h(8),r=h(127);h(15);var p=h(3);g.Y(r,d);d.prototype.type=function(){return this.Be};d.prototype.Ur=function(){return!0};d.prototype.wi=
function(){return!0};d.prototype.pf=function(){};d.prototype.ig=function(){};d.prototype.$k=function(){};d.prototype.wm=function(){};d.prototype.sm=function(){};d.prototype.Le=function(){};d.prototype.gi=function(){};d.prototype.update=function(d){this.sa.forEach(function(m){p.S.multiply(m.Ia,d.Qb,m.Xb)});r.prototype.update.apply(this,arguments)};d.prototype.Qr=function(){};return d});u(133,0,function(){function d(d,m,k,e,b,a){p.Qa(this)&&(this.aa=m,this.Fd=k,this.gb=a,this.Mb=e,this.ua=b,this.fL=
d)}h(103);var g=h(11),r=h(13),p=h(8);d.prototype.ll=function(d){this.Ea=d};d.prototype.pm=function(d,m){d.Hd=!0;d.gy(m)};d.prototype.Mx=function(d){d.once("empty",function(){this.pm(d,"no more subtiles: stop loading")},this);d.ws();var m=this;this.Fd.vK(d,this.fL).then(function(k){if(!d.Hd){d.oP=null;d.fy(k);var e=m.CD(d,k),b=m.zD(d,k),a=e.then(function(){return m.BD(d,k)}),c=m.DD(d,k);return r.all([e,b,a,c]).then(function(){d.Hd||(d.va("empty",null,m),d.vs())})}}).catch(function(k){m.Lp(d,k)})};
d.prototype.Lp=function(d,m){d.Hd||(d.va("empty",null,this),d.hy(m))};d.prototype.CD=function(d,m){if(!this.Mb)return r.resolve("__no-style-manager__");this.Mb.kb(d,m.cb);return r.resolve("__styling-done__")};d.prototype.zD=function(d,m){m=this.ua?this.ua.mh(m.ad):r.resolve("__collision-registered__");d.mi();return m};d.prototype.DD=function(d,m){if(!this.Ea)return r.resolve("__no-icon-manager__");var k=[];d.Mk()&&(this.Ea.hM(m),k.push(this.Ea.XI(d)));d.qx()&&k.push(this.Ea.WI(d));return r.all(k)};
d.prototype.BD=function(d,m){if(!this.gb)return r.resolve("__no-renderer__");var k=this,e=this.rK(m,d),b=this.nx(m,d),a=this.sK(m,d);e=this.Ep(d,e,function(a){return k.gb.dM(a)});b=this.Ep(d,b,function(a,b){return a.ZK?k.gb.Gn(a,b):k.gb.eM(a)});a=this.Ep(d,a,function(a){return k.gb.cM(a)});a=[].concat(e).concat(b).concat(a);var c=e.length,f=e.length+b.length,l=a.length;a=r.all(a);return a.then(function(a){if(!d.Hd)return k.gb.kb(d,m,a.slice(0,c),a.slice(c,f),a.slice(f,l))})};d.prototype.Ep=function(d,
m,k){if(!m.length)return[];var e=d.lg,b=this.aa;return m.map(function(a){if(a)return b.get(a).then(function(b){return d.Hd?r.reject("--loader-has-aborted--"):k(b,a)}).then(function(a){d.Hd?a.De():e.Ji(a);return a}).catch(function(){})})};d.prototype.sp=function(d,m){return m?d.map(function(d,e){return-1===m.indexOf(e)?void 0:d}):[]};d.prototype.rK=function(d,m){return this.sp(d.Xd.Od,m.fi)};d.prototype.nx=function(d,m){return this.sp(d.Xd.oc,m.Ct)};d.prototype.sK=function(d,m){return this.sp(d.Xd.li,
m.gf)};g.da(d.prototype);return d});u(134,0,function(){function d(d){this.aa=d}var g=h(103),r=h(22);d.kf=function(d){var g=d.text,m=d.id,k=d.Dd,e=d.color,b=d.Dz,a=d.scale,c=d.size,f=d.Zb,l=d.variant;d={Qn:"shield",text:g,id:m,scale:a,sc:m,variant:l};g="shield"+("?text="+encodeURIComponent(g)+"&id="+encodeURIComponent(m)+"&scale="+a+"&variant="+l);c&&(d.size=c,g+="&size="+c);k&&(d.Dd=k,g+="&subtype="+k);e&&(d.color=e,g+="&color="+e);b&&(d.Dz=b,g+="&vendorKey="+b);f&&(d.Zb=f,g+="&v="+f);return{url:g,
data:d}};d.prototype.Om=function(d,h){var m=this.aa;if(m.has(d))return m.get(d);var k=m.get(d,g.Ef,h);r.da(k).Td().once("released",function(){k.Rr()&&k.abort("loading-aborted");m.remove(d)});return k.De()};d.prototype.fetch=function(g){g=d.kf(g);return this.Om(g.url,g.data)};return d});u(135,0,function(){function d(d,k,e,b,a){p.prototype.constructor.call(this,g.V,d,k,null,b,a);this.eq=new q(d)}var g=h(15),r=h(8),p=h(133),q=h(134);r.Y(p,d);d.prototype.nx=function(d,k){var e=k.Zb,b=k.scale,a=[],c=[];
d=d.uh;for(var f=0,l=d.length;f<l;f++){var n=d[f];n.scale=b;n.Zb=e;var m=q.kf(n),g=m.url;m=m.data;var h=a.indexOf(g);-1===h?(n.uz=a.length,a.push(g),c.push(m)):n.uz=h}var p=this.eq;a.forEach(function(a,b){var e=p.Om(a,c[b]);e.Hb();k.once("destroyed",function(){e.release()})});return a};return d});u(136,0,function(){function d(d,e,b,a){this.aa=d;this.T=e;this.id=p.Fb();this.Dy=a?1:0;this.ay=b===q.$d||b===q.se?0:1;if(b===q.ue||b===q.Gf||b===q.$d)this.Ks="standard",this.Is="standardTile",this.Js=0;else if(b===
q.ub||b===q.Ig)this.Ks="satellite",this.Is="satelliteTile",this.Js=7;else if(b===q.Te||b===q.Df||b===q.se)this.Ks="hybrid",this.Is="hybridTile",this.Js=46}var g=h(103),r=h(0),p=h(5),q=h(15),m=p.Fb();d.prototype.yC=function(d){var e=d.key,b=d.language,a=d.Ie,c=d.Me,f=d.yb,l=d.xb;return this.Is+("?x="+e.x+"&y="+e.y+"&z="+e.z+"&style="+this.Js+"&v="+d.Zb+"&type="+this.Ks+"&scale="+d.scale+"&size="+r.xy+(b.length?"&lang="+b:"")+(a.length?"&country="+a:"")+(c.length?"&region="+c:"")+(f.length?"&tint="+
f:"")+(l.length?"&emphasis="+l:"")+"&poi="+this.Dy+"&labels="+this.ay)};d.prototype.pC=function(d){var e=d.key;return{x:e.x,y:e.y,z:e.z,resolution:d.scale,lang:d.language,tint:d.yb,emphasis:d.xb,tileSizeIndex:r.xy,poi:this.Dy,labels:this.ay,v:d.Zb,sc:e.x+e.y}};d.prototype.pm=function(d,e){d.Hd=!0;d.gy(e)};d.prototype.Uu=function(d){d.va("empty",null,this)};d.prototype.Lp=function(d,e){d.Hd||(this.Uu(d),d.hy(e))};d.prototype.Mx=function(d){var e=this.yC(d),b=this.pC(d);d.once("empty",this.pm.bind(this,
d,"empty"),this);d.ws();var a=this,c=this.aa.get(e,g.Ef,b,g.Eg);d.once("loading-aborted",c.abort.bind(c,"--loading-aborted--"),c);var f=!1;c.catch(function(){if(!d.Hd){d.va("loading-aborted",null,c);f=!0;if(a.aa.has(m))return a.aa.get(m);var b=a.aa.get("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",g.Ef,null,g.Eg);a.aa.add(m,b);return b}}).then(function(b){if(!d.Hd)return d.va("loading-aborted",null,c),a.T.Gn(b).then(function(b){if(!d.Hd)return d.ZJ=
f,d.lg.Ji(b),a.T.kb(d,b)}).then(function(){d.Hd||(a.Uu(d),d.vs())})}).catch(function(b){a.Lp(d,b)})};return d});u(137,0,function(){function d(d){g.Qa(this)&&(this.i=d,this.fb=[])}var g=h(8);d.prototype.Oc=function(d,g){this.fb.push({name:d,ma:g})};d.prototype.xd=function(d){for(var g=0,h=this.fb.length;g<h;g++)if(this.fb[g].name===d)return g;return-1};d.prototype.Bd=function(d,g,h,m,k,e,b){this.fb[d].ma(g,h,m,k,e,b)};d.prototype.ih=function(d){this.Cy=d};d.prototype.rr=function(d,g,h,m,k,e){this.md(d,
g,h,m,k,e)};d.prototype.Nd=function(){};d.prototype.md=function(){};d.prototype.Gb=function(){};return d});u(138,0,function(){function d(a){r.prototype.constructor.call(this,a);var b=this;d.B(a).then(function(a){b.o=a[0];b.hi=a[1];b.Na=a[2].Na;b.Xa=a[2].Xa;b.yf=a[3]});this.Oc("before-base-map",this.mI.bind(this));this.Oc("after-base-map",this.bI.bind(this))}var g=h(109),r=h(137),p=h(115),q=h(13),m=h(113),k=h(8),e=h(0),b=h(3),a=h(15),c=e.ag,f=e.ag;k.Y(r,d);d.prototype.ih=function(b){r.prototype.ih.apply(this,
arguments);this.nf=b===a.Vc.Hh;this.Tr=b===a.Vc.yj};d.prototype.Yh=function(a){return a.fg&&!(this.nf||this.Tr)};d.prototype.YD=function(a){var b=this.i;b.uniformMatrix4fv(this.o.F().modelViewProjMatrix,!1,a.Ia);b.drawElements(b.LINES,4+2*(c-1+(f-1)),b.UNSIGNED_SHORT,0)};d.prototype.Gv=function(a,c){var e=this.i;this.o.use();this.Xa.bind();this.Na.bind();e.vertexAttribPointer(this.o.attributes().position,2,e.FLOAT,!1,12,0);e.vertexAttribPointer(this.o.attributes().useAlpha,1,e.FLOAT,!1,12,8);e.enableVertexAttribArray(this.o.attributes().position);
e.enableVertexAttribArray(this.o.attributes().useAlpha);e.uniform4fv(this.o.F().color,c.Tk);e.uniform1f(this.o.F().alpha,c.UK);e.lineWidth(1);e=c.Jk;var d=0;for(c=c.Jk.length;d<c;d++){var f=e[d];b.S.multiply(f.Ia,a.Qb,f.Xb);this.YD(f)}this.o.Sa();this.Na.m();this.Xa.m()};d.prototype.bI=function(a,b,c){this.Yh(c)&&(b=this.i,b.enable(b.STENCIL_TEST),b.stencilFunc(b.NOTEQUAL,0,255),b.stencilOp(b.KEEP,b.KEEP,b.KEEP),b.enable(b.BLEND),b.blendFuncSeparate(b.ONE_MINUS_DST_ALPHA,b.DST_ALPHA,b.ONE_MINUS_DST_ALPHA,
b.ONE),this.Gv(a,c),this.yf.Na.bind(),this.yf.Xa.bind(),this.hi.use(),b.vertexAttribPointer(this.hi.attributes().position,2,b.FLOAT,!1,8,0),b.enableVertexAttribArray(this.hi.attributes().position),b.uniform4fv(this.hi.F().color,c.fillColor),b.uniform1f(this.hi.F().alpha,1),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0),this.yf.Xa.m(),this.yf.Na.m(),this.hi.Sa(),b.disable(b.STENCIL_TEST),b.disable(b.BLEND))};d.prototype.mI=function(a,b,c){b=this.i;var e=c.fillColor;this.Yh(c)?(b.clearColor(1,1,1,
0),b.clearStencil(255),b.clear(b.COLOR_BUFFER_BIT|b.STENCIL_BUFFER_BIT)):(b.clearColor(e[0],e[1],e[2],e[3]),b.clear(b.COLOR_BUFFER_BIT),b.enable(b.BLEND),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA),b.blendEquation(b.FUNC_ADD),this.Gv(a,c),b.disable(b.BLEND))};d.B=function(a){var b=a.id+"-grid-layer-renderer-deps";if(g.has(b))return g.get(b);var e=m.Ya.Za(a,"shaders/grid.vert","shaders/grid.frag"),d=m.Ya.Za(a,"shaders/full-screen.vert","shaders/basic.frag"),l=
p.tK(a,c,f);a=p.ah(a);e=q.all([e,d,l,a]);g.add(b,e);return e};return d});u(139,0,function(){function d(a){p.prototype.constructor.call(this,a);g.Qa(this)&&(this.oi=k.vj)}var g=h(8),r=h(11),p=h(137),q=h(118),m=h(114),k=h(21),e=h(0),b=h(32).Vo,a=h(120);g.Y(p,d);d.prototype.md=function(a,b,e,d,k,m){for(var c=0,f=this.fb.length;c<f;c++)this.fb[c].ma(a,b,e,d,k,m)};d.prototype.Qs=function(a,b,e){b=b.sa;for(var c=0,d=b.length;c<d;c++){var f=b[c];this.rf(a,f,e*f.alpha)}};d.prototype.Ry=function(){};d.prototype.dM=
function(a){return this.oi.ma(function(){return m.OI(this.i,a)},this)};d.prototype.Gn=function(a){return this.oi.ma(function(){var b=this.i,c=q.Fk(b,a,!1);c.bind().hd(b.LINEAR).fd(b.NEAREST).Bh(b.CLAMP_TO_EDGE).Ch(b.CLAMP_TO_EDGE).m();return c},this)};d.prototype.eM=function(a){return this.oi.ma(function(){var c=this.i,e=new q(c,a.width,a.height);switch(a.format){case b.ALPHA:var d=c.ALPHA;break;case b.RGBA:d=c.RGBA;break;default:console.assert(!1)}e.bind().hd(c.LINEAR).fd(c.NEAREST).data(a.data,
d,d,!1).Bh(c.CLAMP_TO_EDGE).Ch(c.CLAMP_TO_EDGE).m();return e},this)};d.prototype.cM=function(b){return this.oi.ma(function(){return a.Tm(this.i,b)},this)};d.prototype.Lx=function(a,b,d){a=a.uq;b=Math.max(a[0]+e.tn,b);return d*Math.pow(2,a[0]-b)};d.prototype.kb=function(){};r.da(d.prototype);return d});u(140,0,function(){function d(){}var g=h(113),r=h(114),p=h(13),q=h(109),m=h(120);h(0);d.prototype.lb=function(d){this.i=d;var e="point-rendering-resources-"+d.id;if(q.has(e))var b=q.get(e);else{b=g.Ya.Za(d,
"shaders/vertices.vert","shaders/vertices.frag");var a=g.Ya.Za(d,"shaders/vertices.vert","shaders/vertices.frag",{RENDER_TEXTURE:1}),c=m.Vm(d);b=p.all([b,a,c]);q.add(e,b)}return b=b.then(function(a){this.Pl=a[0];this.lm=a[1];this.Ph=a[2];this.Zh=r.br(d);return this}.bind(this))};d.prototype.Qm=function(){return this.Pl};d.prototype.bo=function(){return this.lm};d.prototype.Xa=function(){return this.Ph};d.prototype.df=function(d){var e=this.i;e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,
e.ONE,e.ONE_MINUS_SRC_ALPHA);var b=d.attributes();d.use();this.Ph.bind();this.Zh.bind();e.vertexAttribPointer(b.position,2,e.FLOAT,!1,8,0);e.enableVertexAttribArray(b.position)};d.prototype.xf=function(d){var e=this.i;e.disableVertexAttribArray(d.attributes().position);this.Zh.m();this.Ph.m();d.Sa();e.disable(e.BLEND)};d.prototype.uO=function(d){this.Zh.data(d)};d.prototype.qh=function(d){this.Ae!==d&&(this.Ae=d,this.Pl.use(),this.i.uniform1f(this.Pl.F().pr,d),this.Pl.Sa(),this.lm.use(),this.i.uniform1f(this.lm.F().pr,
d),this.lm.Sa())};d.get=function(k){return(new d).lb(k)};return d});u(141,0,function(){function d(){}function g(){this.Ja=null}function r(a){this.i=a;var b=this;r.B(a).then(function(a){b.dl=a[0];b.Qm=b.dl.Qm();b.bo=b.dl.bo();b.zp();b.oi=k.vj})}var p=h(13),q=h(109),m=h(140),k=h(21),e=h(0);h(120);d.kc=function(){return!0};var b={COLOR:0,bp:1},a=Object.keys(b).length;g.prototype.rh=function(a,b){this.WL=a;this.Zg=b};g.prototype.th=function(a){this.Ia=a};g.prototype.SM=function(a){this.aM=a};g.prototype.TM=
function(a){this.size=a};g.prototype.VM=function(a,b,e,d){this.Ja=a;this.color=null;this.alpha=d;d=Math.max(a.width,a.height);this.zf=b?b:[a.width/d,a.height/d];this.Af=e?e:[.5*(d-a.width)/d,.5*(d-a.height)/d]};g.prototype.NK=function(){return null!==this.Ja};r.prototype.zp=function(){this.dc=Array(7);this.hb=Array(a);this.hb[b.COLOR]=this.Lf(this.Qm);this.hb[b.bp]=this.Lf(this.bo);this.lC(this.hb[b.COLOR],this.Qm);this.mC(this.hb[b.bp],this.bo)};r.prototype.Lf=function(a){function b(a){g=a.Ia;k.af(m,
a)}var c=this.dl;this.dc=Array(7);var e=Array(7),k=this,m=a.F();e[0]=c.df.bind(c,a);e[0].kc=function(a){return this!==a};e[6]=c.xf.bind(c,a);var g;b.kc=function(a,c){return a!==b||c.Ia!==g};e[1]=b;e[5]=d;e[3]=this.bE.bind(this,m);e[2]=d;e[4]=d;return e};r.prototype.lC=function(a,b){function c(a){f=a;k.vE(e,a)}var e=b.F(),f=null,k=this;c.kc=function(a,b){return a!==c||b.color!==f.color||b.alpha!==f.alpha||b.size!==f.size};a[2]=c;a[4]=d};r.prototype.mC=function(a,b){function c(a){d=a;f.wE(e,a)}var e=
b.F(),d=null,f=this;c.kc=function(a,b){return a!==c||b.Ja!==d.Ja||b.alpha!==d.alpha||b.size!==d.size};a[2]=c;a[4]=f.UE.bind(this,e)};r.prototype.MI=function(){return new g};r.prototype.xC=function(a){return a.NK()?b.bp:b.COLOR};r.prototype.af=function(a,b){this.i.uniformMatrix4fv(a.modelViewProjMatrix,!1,b.Ia)};r.prototype.vE=function(a,b){var c=this.i;c.uniform1f(a.size,b.size);c.uniform4f(a.color,b.color[0],b.color[1],b.color[2],b.color[3]);c.uniform1f(a.alpha,b.alpha)};r.prototype.wE=function(a,
b){var c=this.i;c.uniform1f(a.size,b.size);c.uniform2fv(a.uvStart,b.Af);c.uniform2fv(a.uvSize,b.zf);c.uniform1f(a.alpha,b.alpha);b=b.Ja;c.activeTexture(c.TEXTURE0);c.uniform1i(a.pointTexture,0);b.bind()};r.prototype.UE=function(a,b){a=this.i;b=b.Ja;a.activeTexture(a.TEXTURE0);b.m()};r.prototype.bE=function(a,b){a=this.i;var c=b.WL,d=b.Zg;b=b.aM;for(var f;0<c;){f=Math.min(c,e.uL);var k=new Float32Array(b,8*d,2*f);this.dl.uO(k);a.drawElements(a.POINTS,f,a.UNSIGNED_SHORT,0);c-=f;d+=f}};r.prototype.pg=
function(){this.Xj();this.Qp=null};r.prototype.qg=function(){for(var a=4;7>a;a++)this.dc[a](this.Qp);this.Xj()};r.prototype.Xj=function(){for(var a=0;7>a;a++)this.dc[a]=d};r.prototype.gq=function(a,b){for(var c=4;c<=a;c++)this.dc[c](this.Qp);for(c=0;7>c;c++)this.dc[c]=b[c]};r.prototype.ak=function(a,b,e){for(;3>a;a++)b[a](e)};r.prototype.pM=function(a){var b=this.xC(a);b=this.hb[b];for(var c=this.dc,e=0;3>e;e++)if(c[e].kc(b[e],a)){this.gq(6-e,b);this.ak(e,b,a);break}b[3](a);this.Qp=a};r.prototype.Gb=
function(a){this.dl.qh(a.devicePixelRatio)};r.B=function(a){var b=a.id+"-point-renderer-deps";if(q.has(b))return q.get(b);a=m.get(a);a=p.all([a]);q.add(b,a);return a};return r});u(142,0,function(){function d(e,b){g.Qa(this)&&(p.prototype.constructor.call(this,e),d.B(e,b).then(function(){this.kh=new q(e,b)}.bind(this)))}var g=h(8);h(5);h(0);var r=h(109),p=h(139),q=h(124);h(141);var m=h(114),k=h(13);g.Y(p,d);d.prototype.Nd=function(e,b,a,c){b=a.sa;a=0;for(var d=b.length;a<d;a++){var l=b[a];0!==l.elements.length&&
(l.O.cs=this.Lx(l,e.lf(),c))}};d.prototype.On=function(e,b,a){var c=this.i;if(0!==a.length){c.clearStencil(0);c.clear(c.STENCIL_BUFFER_BIT);this.kh.pg(e,b);e=0;for(b=a.length;e<b;e++)c=a[e],c.O&&this.kh.qM(c);this.kh.qg()}};d.prototype.zz=function(e,b,a,c,d,l,n){var f=e.O.py;b?f.UM(c,n,b,a,d,l,e.bb.zIndex):f.PM()};d.prototype.Gb=function(e){this.kh.Gb(e)};d.prototype.kb=function(e,b,a,c,d){this.kh.kb.apply(this.kh,arguments);var f=e.elements,n;var k=0;for(n=f.length;k<n;k++){var g=f[k],h=g.Vb,q=a[h.cn];
if(q){q.Gx()&&q.type(m.Bl);var p=this.kh.NI();p.rh(h.tr,h.ur,h.At,h.$n);p.th(e,q);g.O={py:p}}}};d.B=function(e,b){var a=e.id+"-polygon-deps";if(r.has(a))return r.get(a);e=q.B(e,b);e=k.all([e]);r.add(a,e);return e};return d});u(143,0,function(){function d(b,a){q.prototype.constructor.call(this,b,a);d.B(b).then(function(a){this.um=a[0];this.ww=a[1].Na;this.vw=a[1].Xa}.bind(this));this.yp()}var g=h(13),r=h(8),p=h(0),q=h(142),m=h(109),k=h(115),e=h(113);h(15);r.Y(q,d);d.prototype.yp=function(){this.Oc("clear-tile",
this.SD.bind(this));this.Oc("below-roads",this.VD.bind(this));this.Oc("above-roads",this.QD.bind(this));this.Oc("above-buildings",this.PD.bind(this))};d.prototype.Nd=function(b,a,c,e,d,n){q.prototype.Nd.apply(this,arguments);var f=this;c.sa.forEach(function(a){a.elements.forEach(function(a){var b=a.bb;f.zz(a,b.visible,b.visible,b.fillColor,b.nc*p.YL,b.strokeColor,n)})})};d.prototype.SD=function(b,a,c,e,d,n){b=this.i;this.um.use();e=this.um.attributes();a=this.um.F();b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,
b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);b.uniform4fv(a.color,c.clearColor||p.Iw);this.vw.bind();this.ww.bind();b.vertexAttribPointer(e.position,2,b.FLOAT,!1,8,0);b.enableVertexAttribArray(e.position);c=c.sa;e=0;for(d=c.length;e<d;e++)b.uniformMatrix4fv(a.modelViewProjMatrix,!1,c[e].Ia),b.uniform1f(a.alpha,n),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);this.um.Sa();this.vw.m();this.ww.m();b.disable(b.BLEND)};d.prototype.VD=function(b,a,c){this.On(b,a,c.Rq)};d.prototype.QD=function(b,
a,c){this.On(b,a,c.yq)};d.prototype.PD=function(b,a,c){this.On(b,a,c.xq)};d.B=function(b,a){var c=b.id+"-land-deps";if(m.has(c))var d=m.get(c);else{var l=e.Ya.Za(b,"shaders/basic.vert","shaders/basic.frag"),n=k.ah(b);d=g.all([l,n]);m.add(c,d)}return q.B(b,a).then(function(){return d})};return d});u(144,0,function(){function d(d){r.prototype.constructor.call(this,d)}var g=h(8),r=h(142);h(15);g.Y(r,d);d.prototype.Nd=function(d,g,m,k,e,b){var a=this;m.sa.forEach(function(c){c.elements.forEach(function(e){var d=
e.bb,f=d.nc||-1;a.zz(e,0<e.alpha,0<e.alpha&&0<f,d.$g,f,d.strokeColor,c.alpha*b*e.alpha)})});r.prototype.Nd.apply(this,arguments)};d.prototype.md=function(d,g,m){this.On(d,g,m.zw)};d.B=r.B;return d});u(145,0,function(){function d(m){var k=this;d.B(m).then(function(e){k.o=e[0];k.Xn=e[1]});this.i=m}var g=h(13),r=h(113),p=h(109),q=h(115);d.prototype.TN=function(d){var k=this.i;k.enable(k.STENCIL_TEST);k.colorMask(!1,!1,!1,!1);k.stencilOp(k.REPLACE,k.KEEP,k.KEEP);this.o.use();var e=this.o.attributes(),
b=this.o.F();this.Xn.Xa.bind();this.Xn.Na.bind();k.vertexAttribPointer(e.position,2,k.FLOAT,!1,8,0);k.enableVertexAttribArray(e.position);this.Xn.Na.m();k.stencilFunc(k.NEVER,255,255);k.uniformMatrix4fv(b.modelViewProjMatrix,!1,d.Ia);k.drawElements(k.TRIANGLES,6,k.UNSIGNED_SHORT,0);this.Xn.Xa.m();this.o.Sa();k.colorMask(!0,!0,!0,!0);k.disable(k.STENCIL_TEST)};d.B=function(d){var k=d.id+"-tile-stenciler-deps";if(p.has(k))return p.get(k);var e=r.Ya.Za(d,"shaders/basic.vert","shaders/basic.frag");d=
q.ah(d);e=g.all([e,d]);p.add(k,e);return e};return d});u(146,0,function(){function d(a,b){p.prototype.constructor.call(this,a);d.B(a).then(function(){var a=this.i;this.qb=new m(a,b);this.hO=new q(a)}.bind(this));this.Ml={};this.Oc("roads",this.WD.bind(this));this.Oc("road-alpha",this.RD.bind(this))}var g=h(8);h(5);var r=h(109),p=h(139),q=h(145),m=h(122),k=h(3),e=h(119),b=h(13),a=h(0),c=h(21);g.Y(p,d);d.prototype.mB=function(a,b,c){0<c&&(b=0,a=.5);return{nc:b,Yw:a,nz:1,Tw:1}};d.prototype.gw=function(a,
b){b?a.Wy(this.Ml[b]):a.Wy(null)};d.prototype.WD=function(b,c,e,m,g,h){e.Mf=[];if(e.sa.length){var f=[],l=b.lf();e.sa.forEach(function(c){!c.O||c.alpha*h<a.Tg||(c.O.cs=this.Lx(c,l,m),k.S.multiply(c.Ia,b.Qb,c.Xb),f.push.apply(f,c.elements))}.bind(this));f=f.filter(function(a){var b=a.bb;if(!b.kn)return!1;b=this.mB(b.width,b.nc,b.jn);var c=a.O.yl,e=a.bb.ao<<13|a.bb.Rm<<2;b.bK=2097152*c+1024+e;b.UN=2097152*c+e;a.xv=b;return!0}.bind(this));f.forEach(function(b){var c=b.xv;if(c.nz<a.Tg||.1>c.nc)return!1;
var d=b.bb;b=b.O.rg;b.et(c.nc,d.strokeColor,d.strokeColor,c.nz*h);this.gw(b,d.tl);b.order=c.UN;e.Mf.push(b)}.bind(this));f.forEach(function(b){var c=b.xv;if(c.Tw<a.Tg||.1>c.Yw)return!1;var d=b.bb;b=b.O.Ww;var f=d.Rn?d.Uw:d.fillColor;b.et(c.Yw,f,f,c.Tw*h);this.gw(b,d.Dk);b.order=c.bK;e.Mf.push(b)}.bind(this));if(e.Mf.length){e.Mf.sort(d.AM);var n=0;g=e.Mf[0];var t=g.ea.key.z,q=g.order;e.Mf.forEach(function(a){var b=a.ea.key.z;b!==t&&(n=0,t=b);b=a.order;q!==b&&(n++,q=b);a.bz(n)});e.fg||(g=this.i,g.clearStencil(0),
g.clear(g.STENCIL_BUFFER_BIT));this.gE(b,c,e.Mf)}}};d.prototype.RD=function(a,b,c){c.fg&&c.sa.length&&this.$D(a,b,c.Mf,c.gg)};d.AM=function(a,b){var c=a.ea.key,e=b.ea.key;return c.z!==e.z?e.z-c.z:a.order!==b.order?a.order-b.order:c.x!==e.x?c.x-e.x:c.y!==e.y?c.y-e.y:b.Jr-a.Jr};d.prototype.gE=function(a,b,c){this.qb.cz();this.Hv(a,b,c)};d.prototype.$D=function(a,b,c,e){this.qb.XM(e);this.Hv(a,b,c)};d.prototype.Hv=function(a,b,c){if(c.length){this.qb.pg(a,b);var e=this,d=c[0],f=d.ea,l={};c.forEach(function(c){if(c.ea!==
f&&(l[f.key.st]=f,c.ea.key.z!==f.key.z)){for(var n in l){var k=l[n];this.qb.qg();this.hO.TN(k);this.qb.pg(a,b)}l={}}e.qb.Ki(c,b);d=c;f=c.ea},this);this.qb.qg()}};d.prototype.Gb=function(a){this.qb.Gb(a)};d.prototype.kb=function(a,d,n,k,m){var f=a.elements;if(f.length){this.qb.kb.apply(this.qb,arguments);var l=[],g=this,h=!1;a.once("loading-aborted",function(){h=!0},this);f.forEach(function(b,e){var f=b.Vb;f={offset:f.offset,count:f.count,mg:f.count-1,yl:f.yl};var n=g.qb.cr();n.rh(f.mg,f.offset);n.th(a);
n.Jr=e;n.ea=a;f.Ww=n;n=g.qb.cr();n.rh(f.mg,f.offset);n.th(a);n.Jr=e;n.ea=a;f.rg=n;b.O=f;var k=a.lg;if(b.bb.MK()){var m=d.Ls.li[b.Vb.fc];e=c.So.ma(function(){if(h)return!1;g.AD(b,k,m);return!0});l.push(e)}});f=d.zk.map(function(b){return e.get(this.i,1,e.Ut,b.id,b).then(function(c){a.lg.Ji(c);b.id in this.Ml||(this.Ml[b.id]=c,c.once("released",function(){delete this.Ml[b.id]},this))}.bind(this))}.bind(this));return b.all([b.all(l),b.all(f)]).then(function(){a.va("loading-aborted",null,a)})}};d.prototype.AD=
function(a,b,c){var e=a.O,d=this.qb.yc;c=d.Wm(c,e.offset,e.count);d=d.oK(c);a.O.Ww.Oy(d);a.O.rg.Oy(d);b.Ji(d)};d.B=function(a,c){var e=a.id+"-road-deps";if(r.has(e))return r.get(e);var d=q.B(a);a=m.B(a,c);d=b.all([d,a]);r.add(e,d);return d};return d});u(147,0,function(){function d(a){k.prototype.constructor.call(this,a);var b=this;d.B(a).then(function(a){b.xh=a[0];b.yf=a[1]});this.yp()}var g=h(8),r=h(13),p=h(113),q=h(118),m=h(109),k=h(139),e=h(115),b=h(15),a=h(3);g.Y(k,d);d.prototype.yp=function(){this.Oc("below-roads",
this.$A.bind(this));this.Oc("before-road-alpha",this.ZA.bind(this));this.Oc("above-roads",this.MA.bind(this))};d.prototype.ih=function(a){k.prototype.ih.apply(this,arguments);this.nf=this.Cy===b.Vc.Hh;this.Tr=this.Cy===b.Vc.yj};d.prototype.Yh=function(a){return a.fg&&!(this.nf||this.Tr)};d.prototype.$A=function(a,b,e){this.Yh(e)?this.dB.apply(this,arguments):this.dE.apply(this,arguments)};d.prototype.ZA=function(a,b,e){this.Yh(e)&&this.mE.apply(this,arguments)};d.prototype.MA=function(a,b,e){this.Yh(e)&&
this.eE.apply(this,arguments)};d.prototype.dB=function(a,b,e){b=this.i;b.disable(b.BLEND);b.clearStencil(255);b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,0,255);b.stencilOp(b.KEEP,b.KEEP,b.REPLACE);this.fm(a,e.sa,0);b.disable(b.STENCIL_TEST)};d.prototype.mE=function(a,b,e){b=this.i;b.clearStencil(255);b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,0,255);b.stencilOp(b.KEEP,b.KEEP,b.REPLACE);b.colorMask(!1,!1,!1,!1);this.fm(a,e.sa,0);
b.colorMask(!0,!0,!0,!0);b.disable(b.STENCIL_TEST)};d.prototype.eE=function(a,b,e){b=this.i;b.enable(b.BLEND);b.blendFuncSeparate(b.ONE_MINUS_DST_ALPHA,b.DST_ALPHA,b.ONE_MINUS_DST_ALPHA,b.DST_ALPHA);e=e.sa.slice().reverse().filter(function(a){return!a.ZJ});b.clearStencil(255);b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,0,255);b.stencilOp(b.REPLACE,b.REPLACE,b.REPLACE);this.fm(a,e,1);b.disable(b.BLEND)};d.prototype.dE=function(a,b,e,d,k,m){b=this.i;b.disable(b.STENCIL_TEST);
b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);this.fm(a,e.sa,m);b.disable(b.BLEND)};d.prototype.fm=function(b,e,d){var c=this.i;this.xh.use();this.yf.Na.bind();this.yf.Xa.bind();c.vertexAttribPointer(this.xh.attributes().position,2,c.FLOAT,!1,8,0);c.enableVertexAttribArray(this.xh.attributes().position);c.uniform1i(this.xh.F().rasterTileTexture,0);c.activeTexture(c.TEXTURE0);for(var f=0,l=e.length;f<l;f++){var k=e[f],m=k.Ja;m.bind();a.S.multiply(k.Ia,
b.Qb,k.Xb);c.uniformMatrix4fv(this.xh.F().modelViewProjMatrix,!1,k.Ia);c.uniform1f(this.xh.F().alpha,k.alpha*d);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);m.m()}c.disable(c.BLEND);this.xh.Sa();this.yf.Na.m();this.yf.Xa.m()};d.prototype.Gn=function(a){return this.oi.ma(function(){var b=this.i,c=q.Fk(b,a,!0);c.bind().hd(b.LINEAR).fd(b.LINEAR).Bh(b.CLAMP_TO_EDGE).Ch(b.CLAMP_TO_EDGE).m();return c},this)};d.prototype.kb=function(a,b){a.Ja=b};d.prototype.$f=function(b){b.Ia=a.S.create();return r.resolve("__done__")};
d.B=function(a){var b=a.id+"-raster-tile-deps";if(m.has(b))return m.get(b);var c=p.Ya.Za(a,"shaders/raster-tile.vert","shaders/raster-tile.frag");a=e.ah(a);c=r.all([c,a]);m.add(b,c);return c};return d});u(148,0,function(){function d(a,b){r.Qa(this)&&(q.prototype.constructor.call(this,a),this.Ea=b,d.B(a).then(function(a){this.Zm=a[0];this.an=a[1];this.Xa=a[2];this.Na=a[3];this.Ee=9}.bind(this)))}var g=h(13),r=h(8),p=h(3),q=h(139),m=h(0),k=h(113),e=h(114),b=h(109),a=h(120);r.Y(q,d);d.Aw=function(a){return a.tw()||
0!==a.Ko()||0!==a.Mq()};d.My=function(a,b){d.Aw(b)?a.Ty():a.QM()};d.prototype.Sn=function(a){d.Aw(a)?this.o=this.Zm:this.o=this.an};d.prototype.Nd=function(a,b,e,d,k,g){a=e.sa;if(0!==a.length)for(b=0;b<a.length;b++){e=a[b];d=e.elements;e.O={};k=[];for(var c=[],f=0,l=d.length;f<l;f++){var n=d[f].vc;if(n&&n.icon&&!(n.alpha<m.Tg)){var h=n.icon,t=n.mf(),q=h.di();h=q.Ja;n=[n.position[0],n.position[1],t[0],t[1],q.zf[0],q.zf[1],q.Af[0],q.Af[1],n.alpha*g];t=k.indexOf(h);-1!==t?(t=c[t],t.push.apply(t,n)):
(t=n,c.push(t),k.push(h))}}e.O.oc=k;e.O.Od=c}};d.prototype.md=function(a,b,e){d.My(this.Ea.Qq,a);e=e.sa;if(0!==e.length){this.Sn(a);this.Na.bind();this.Xa.bind();this.o.use();var c=this.i;c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);var f=this.o.F();c.uniform2fv(f.viewportSize,b);c.vertexAttribPointer(this.o.attributes().tilePosition,2,c.FLOAT,!1,36,0);c.vertexAttribPointer(this.o.attributes().size,2,c.FLOAT,!1,36,8);c.vertexAttribPointer(this.o.attributes().uvSize,
2,c.FLOAT,!1,36,16);c.vertexAttribPointer(this.o.attributes().uvStart,2,c.FLOAT,!1,36,24);c.vertexAttribPointer(this.o.attributes().alpha,1,c.FLOAT,!1,36,32);c.enableVertexAttribArray(this.o.attributes().tilePosition);c.enableVertexAttribArray(this.o.attributes().size);c.enableVertexAttribArray(this.o.attributes().uvSize);c.enableVertexAttribArray(this.o.attributes().uvStart);c.enableVertexAttribArray(this.o.attributes().alpha);b=0;for(f=e.length;b<f;b++)this.rf(a,e[b]);c.disableVertexAttribArray(this.o.attributes().tilePosition);
c.disableVertexAttribArray(this.o.attributes().uvStart);c.disableVertexAttribArray(this.o.attributes().uvSize);c.disableVertexAttribArray(this.o.attributes().size);c.disableVertexAttribArray(this.o.attributes().alpha);this.Na.m();this.Xa.m();this.o.Sa();c.disable(c.BLEND)}};d.prototype.rf=function(a,b){var c=this.i;if(b.elements.length&&b.O.oc.length){var e=this.o.F();c.activeTexture(c.TEXTURE0);c.uniform1i(e.iconTexture,0);p.S.multiply(b.Ia,a.Qb,b.Xb);c.uniformMatrix4fv(e.modelViewProjMatrix,!1,
b.Ia);for(a=0;a<b.O.oc.length;a++){e=b.O.oc[a];var d=b.O.Od[a],f=new Float32Array(d);e.bind();var k=0;for(d=Math.round(d.length/this.Ee);0<d;){var g=Math.min(d,m.vn),h=new Float32Array(f.buffer,k*this.Ee*4,g*this.Ee);this.Na.data(h);c.drawElements(c.POINTS,g,c.UNSIGNED_SHORT,0);d-=g;k+=g}e.m()}}};d.prototype.kb=function(){};d.prototype.Gb=function(a){a=a.ul;var b=this.i;this.an.use();b.uniform1f(this.an.F().pr,a);this.an.Sa();this.Zm.use();b.uniform1f(this.Zm.F().pr,a);this.Zm.Sa()};d.B=function(c){var d=
c.id+"-icon-renderer-deps";if(b.has(d))return b.get(d);var l=k.Ya.Za(c,"shaders/icon.vert","shaders/icon.frag",{SNAP_ICONS_TO_PIXEL:"0"}),n=k.Ya.Za(c,"shaders/icon.vert","shaders/icon.frag",{SNAP_ICONS_TO_PIXEL:"1",ALLOW_SUPERSAMPLING:"0"}),m=a.Vm(c);c=e.br(c);l=g.all([l,n,m,c]);b.add(d,l);return l};return d});u(149,0,function(){function d(b,a,c,e){this.offset=p.g.l(b,a);this.size=p.g.l(c,e);this.Td()}function g(b,a,c,e,d){this.BC=a/e;this.AC=c/e;this.Ze=e;this.Jj=d;this.D=b;this.Ja=new q(b,a,c);
this.Ja.bind().data(null,b.RGBA,b.RGBA,!0).Bh(b.CLAMP_TO_EDGE).Ch(b.CLAMP_TO_EDGE).m();this.jE();this.once("released",function(a){k.tj.ma(a.Ja.ya,a.Ja)});this.Td()}function r(b,a,c,e,d){this.Vq=e;this.width=a;this.height=c;this.i=b;this.Jm=b.NEAREST;this.PK=d||0;this.jh=[]}var p=h(3);h(5);var q=h(118),m=h(22),k=h(21),e=[];m.da(d.prototype);g.prototype.Sy=function(b){this.Ja.bind().hd(b).fd(b).m()};g.prototype.jE=function(){this.Ed=[];for(var b=0;b<this.Ja.width;b+=this.Ze){for(var a=[],c=0;c<this.Ja.height;c+=
this.Ze)a.push({Lq:!1});this.Ed.push(a)}};g.prototype.Ek=function(b,a){b=Math.ceil((b+2*this.Jj)/this.Ze);a=Math.ceil((a+2*this.Jj)/this.Ze);var c,e;var d=0;for(c=this.BC-b+1;d<c;d++){var n=0;for(e=this.AC-a+1;n<e;n++){a:{var k=d;var m=n,g,h,q=[];for(g=0;g<b;g++)for(h=0;h<a;h++){var p=this.Ed[k+g][m+h];if(p.Lq){k=null;break a}q.push(p)}k=q}if(k)return{x:d,y:n,cells:k}}}return null};g.prototype.Fw=function(b,a,c){var e=new d(this.Ze*b.x+this.Jj,this.Ze*b.y+this.Jj,a,c);e.cells=b.cells;b=0;for(var l=
e.cells.length;b<l;b++)e.cells[b].Lq=!0;e.Ja=this.Ja;e.Af=p.g.l(e.offset[0]/this.Ja.width,e.offset[1]/this.Ja.height);e.zf=p.g.l(a/this.Ja.width,c/this.Ja.height);return e};g.prototype.eI=function(b,a){a=this.Fw(a,b.width,b.height);var c=this.D;this.Ja.bind().XN(b,c.RGBA,a.offset[0],a.offset[1]).m();this.Hb();return a};g.prototype.dI=function(b,a,c,e){a=this.Fw(a,c,e);var d=this.D;this.Ja.bind().Xi(b,d.RGBA,a.offset[0],a.offset[1],c,e).m();this.Hb();return a};g.prototype.bx=function(b){this.eB(b).then(this.release.bind(this))};
g.prototype.eB=function(b){var a=this;return k.vj.ma(function(){for(var c=0,d=b.cells.length;c<d;c++)b.cells[c].Lq=!1;var l=b.size;c=b.offset;d=a.D;var n=a.Jj,k=2*n,m=l[0]+k;l=l[1]+k;k=m*l*4;if(!(e.length>=k)){e=new Uint8Array(k);for(var g=0;g<k;g+=4)e[g+0]=255,e[g+1]=255,e[g+2]=255,e[g+3]=0}k=e;a.Ja.bind().Xi(k,d.RGBA,c[0]-n,c[1]-n,m,l).m()})};m.da(g.prototype);r.prototype.SA=function(){var b=new g(this.i,this.width,this.height,this.Vq,this.PK);b.Sy(this.Jm);this.jh.push(b);var a=this;b.once("released",
function(b){a.jh.splice(a.jh.indexOf(b),1)});return b};r.prototype.ew=function(b){for(var a=0,c=this.jh.length;a<c;a++)this.jh[a].Sy(b);this.Jm=b};r.prototype.Ty=function(){this.Jm!==this.i.LINEAR&&this.ew(this.i.LINEAR)};r.prototype.QM=function(){this.Jm!==this.i.NEAREST&&this.ew(this.i.NEAREST)};r.prototype.Ek=function(b,a){var c=null,e=null;if(!(b>=this.width||a>=this.height)){for(var d=0,n=this.jh.length;d<n&&!(e=this.jh[d],c=e.Ek(b,a));d++);c||(e=this.SA(),c=e.Ek(b,a));return[c,e]}};r.prototype.Hs=
function(b){var a=this.Ek(b.width,b.height),c=a[1],e=c.eI(b,a[0]);e.once("released",function(){c.bx(e)});return e};r.prototype.jM=function(b,a,c){var e=this.Ek(a,c),d=e[1],n=d.dI(b,e[0],a,c);n.once("released",function(){d.bx(n)});return n};r.prototype.pushData=r.prototype.jM;r.prototype.pushImage=r.prototype.Hs;return r});u(150,0,function(){function d(b){q.prototype.constructor.call(this,b);this.sz=new m(b,512,512,16,1);this.km={}}var g=h(8),r=h(0),p=h(3),q=h(148),m=h(149),k=h(13),e=h(21);g.Y(q,d);
d.prototype.Nd=function(b,a,c,e,d,n){b=c.sa;if(0!==b.length)for(a=0;a<b.length;a++){c=b[a];e=c.elements;c.O={};d=[];for(var f=[],l=0,k=e.length;l<k;l++){var m=e[l],g=m.ec;if(g.visible){m=m.O.di;for(var h=g.L,q=m.Ja,p=0,u=g.mb.length;p<u;p++){var N=g.mb[p];if(!(N.alpha<r.Tg)){N=[N.position[0],N.position[1],h[0],h[1],m.zf[0],m.zf[1],m.Af[0],m.Af[1],N.alpha*n];var B=d.indexOf(q);-1!==B?(B=f[B],B.push.apply(B,N)):(B=N,f.push(B),d.push(q))}}}}c.O.oc=d;c.O.Od=f}};d.prototype.md=function(b,a,c){q.My(this.sz,
b);this.Sn(b);c=c.sa;if(0!==c.length){this.Na.bind();this.Xa.bind();this.o.use();var e=this.i;e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);var d=this.o.F();e.uniform2fv(d.viewportSize,a);e.activeTexture(e.TEXTURE0);e.uniform1i(d.iconTexture,0);e.vertexAttribPointer(this.o.attributes().tilePosition,2,e.FLOAT,!1,36,0);e.vertexAttribPointer(this.o.attributes().size,2,e.FLOAT,!1,36,8);e.vertexAttribPointer(this.o.attributes().uvSize,2,e.FLOAT,!1,
36,16);e.vertexAttribPointer(this.o.attributes().uvStart,2,e.FLOAT,!1,36,24);e.vertexAttribPointer(this.o.attributes().alpha,1,e.FLOAT,!1,36,32);e.enableVertexAttribArray(this.o.attributes().tilePosition);e.enableVertexAttribArray(this.o.attributes().size);e.enableVertexAttribArray(this.o.attributes().uvSize);e.enableVertexAttribArray(this.o.attributes().uvStart);e.enableVertexAttribArray(this.o.attributes().alpha);a=0;for(d=c.length;a<d;a++)this.rf(b,c[a]);e.disableVertexAttribArray(this.o.attributes().tilePosition);
e.disableVertexAttribArray(this.o.attributes().uvStart);e.disableVertexAttribArray(this.o.attributes().uvSize);e.disableVertexAttribArray(this.o.attributes().size);e.disableVertexAttribArray(this.o.attributes().alpha);this.Na.m();this.Xa.m();this.o.Sa();e.disable(e.BLEND)}};d.prototype.rf=function(b,a){var c=this.i;if(a.elements.length&&a.O.oc.length){var e=this.o.F();p.S.multiply(a.Ia,b.Qb,a.Xb);c.uniformMatrix4fv(e.modelViewProjMatrix,!1,a.Ia);for(b=0;b<a.O.oc.length;b++){e=a.O.oc[b];var d=a.O.Od[b],
n=new Float32Array(d);e.bind();var k=0;for(d=Math.round(d.length/this.Ee);0<d;){var m=Math.min(d,r.vn),g=new Float32Array(n.buffer,k*this.Ee*4,m*this.Ee);this.Na.data(g);c.drawElements(c.POINTS,m,c.UNSIGNED_SHORT,0);d-=m;k+=m}e.m()}}};d.prototype.Gn=function(b,a){if(a in this.km)var c=this.km[a];else c=e.So.ma(function(){var c=this.sz.Hs(b);if(c){var e=this;c.once("released",function(){delete e.km[a]});return c.De()}return k.reject("__texture-atlas-error__")},this),this.km[a]=c;return c};d.prototype.kb=
function(b,a,c,e){b=b.elements;a=0;for(c=b.length;a<c;a++){var d=b[a],f=e[d.Vb.uz];f&&(d.O={di:f})}};d.B=q.B;return d});u(151,0,function(){function d(b){0>b&&(b=-b+32768);return b}function g(){this.sk=k.g.l(0,0)}var r=h(13),p=h(113),q=h(114),m=h(0),k=h(3),e=h(109);g.prototype.lb=function(b,a){this.mc=a.mc;this.i=b;this.Ae=0;b=g.yx(b,512);this.Kc=b.Kc;this.Nc=b.Nc;this.Mc=b.Mc;return this.RC()};g.prototype.qh=function(b){this.Ae!==b&&(this.Ae=b,this.Si.use(),this.i.uniform1f(this.Si.F().pr,b),this.Si.Sa())};
g.prototype.Os=function(b,a){var c=this.i,e=b.caption,d=e.lines,n=0,m=this.sk;k.g.set(m,0,0);for(var g=0,h=d.length;g<h;g++){k.g.add(m,b.offset,e.rn[g]);c.uniform2fv(a.positionOffset,m);var q=d[g];c.drawElements(c.TRIANGLES,6*q.ef,c.UNSIGNED_SHORT,12*n);n+=q.ef}};g.prototype.By=function(b,a,c,e,d,n){var f=this.i,l=1/(this.mc*c);c=.5*m.FK*l/this.Ae;e&&(e*=l,f.uniform1f(b.transitionStartDistance,e-c),f.uniform1f(b.transitionEndDistance,Math.min(e+c,1)),f.uniform4fv(b.color,n),this.Os(a,b));f.uniform1f(b.transitionEndDistance,
c);f.uniform1f(b.transitionStartDistance,-c);f.uniform4fv(b.color,d);this.Os(a,b)};g.prototype.RC=function(){var b=this.i,a={SNAP_GLYPHS_TO_PIXEL:"0"},c=p.Ya.Za(b,"shaders/axis-aligned-text-label.vert","shaders/text-label.frag",a);a=p.Ya.Za(b,"shaders/axis-aligned-text-label.vert","shaders/shield-text-label.frag",a);var e=p.Ya.Za(b,"shaders/axis-aligned-text-label.vert","shaders/shield-text-label.frag",{SNAP_GLYPHS_TO_PIXEL:"1",ALLOW_SUPERSAMPLING:"0"}),d=p.Ya.Za(b,"shaders/curved-text-label.vert",
"shaders/text-label.frag"),n=this;c.then(function(a){a.use();b.uniform1i(a.F().dataTexture,0);b.uniform1i(a.F().glyphTexture,1);a.Sa();n.pF=a});d.then(function(a){a.use();b.uniform1i(a.F().dataTexture,0);b.uniform1i(a.F().glyphTexture,1);a.Sa();n.RI=a});a.then(function(a){a.use();b.uniform1i(a.F().dataTexture,0);b.uniform1i(a.F().glyphTexture,1);a.Sa();n.pt=a});e.then(function(a){a.use();b.uniform1i(a.F().dataTexture,0);b.uniform1i(a.F().glyphTexture,1);a.Sa();n.Si=a});return r.all([c,d,a,e]).then(function(){return n})};
g.yx=function(b,a){for(var c=[],e=[],d=[],n=0;n<a;n++)e.push(0,0,1,0,0,1,1,1),d.push(n,n,n,n),c.push(4*n,4*n+1,4*n+2,4*n+2,4*n+1,4*n+3);a=q.Wf(b,new Float32Array(d));e=q.Wf(b,new Float32Array(e));b=q.Fm(b,new Uint16Array(c));return{Kc:a,Nc:e,Mc:b}};g.hJ=function(b,a){return 65536*d(a)+d(b)};g.Rw=function(b,a){return 65536*a+b};g.get=function(b,a){var c=b.id+"-"+a.id+"-line-rendering-objects";if(e.has(c))return e.get(c);b=(new g).lb(b,a);e.add(c,b);return b};return g});u(152,0,function(){function d(g,
m){p.prototype.constructor.call(this,g,m);var k=this;d.B(g,m).then(function(e){k.Yi=e;k.o=e.pF;k.Mc=e.Mc;k.Nc=e.Nc;k.Kc=e.Kc})}var g=h(8),r=h(151),p=h(139);g.Y(p,d);d.prototype.md=function(d,m,k,e,b,a){e=this.i;b=this.o.F();var c=this.o.attributes();e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);this.o.use();this.Mc.bind();e.uniform2fv(b.viewportSize,m);this.Nc.bind();e.enableVertexAttribArray(c.position);e.vertexAttribPointer(c.position,2,e.FLOAT,
!1,8,0);this.Nc.m();this.Kc.bind();e.enableVertexAttribArray(c.dataIndex);e.vertexAttribPointer(c.dataIndex,1,e.FLOAT,!1,4,0);this.Kc.m();this.Qs(d,k,a);this.Mc.m();this.o.Sa();e.disable(e.BLEND)};d.prototype.rf=function(d,m,k){d=m.wq;if(d.length){var e=this.i,b=this.o.F();e.uniformMatrix4fv(b.modelViewProjMatrix,!1,m.Ia);for(var a=m={m:function(){}},c=0,f=d.length;c<f;c++){var l=d[c],n=l.O;if(n){var g=l.bb;l=l.ec;if(l.visible&&l.jb){var h=n.Qd;m!==h&&(e.uniform2f(b.dataTextureSize,h.width,h.height),
e.activeTexture(e.TEXTURE0),m.m(),m=h,m.bind());n=n.Sd;a!==n&&(e.uniform2f(b.glyphTexturePoints,n.width,n.height),e.activeTexture(e.TEXTURE1),a.m(),a=n,a.bind());this.Uj(l,g,k)}}}m.m();a.m()}};d.prototype.Uj=function(d,m,k){for(var e=this.i,b=this.o.F(),a=0,c=d.mb.length;a<c;a++){var f=d.mb[a];e.uniform2fv(b.center,f.position);e.uniform1f(b.alpha,f.alpha*k);var l=f.caption;e.uniform1f(b.labelIndexOffset,l.offset);l=l.ge;e.uniform1f(b.fontScaleFactor,l);this.Yi.By(b,f,l,m.Kk,m.uf,m.sg)}};d.prototype.kb=
function(d,m,k,e,b){d=d.wq;m=0;for(k=d.length;m<k;m++){var a=d[m],c;var f=a.Vb.Vf;for(c in f){f=f[c];a.O={Sd:e[f.Sd],Qd:b[f.Qd]};break}}};d.B=function(d,m){return r.get(d,m)};return d});u(153,0,function(){function d(m,k){p.prototype.constructor.call(this,m);var e=this;d.B(m,k).then(function(b){e.Yi=b;e.o=b.RI;e.Mc=b.Mc;e.Nc=b.Nc;e.Kc=b.Kc});this.mc=k.mc;this.sk=g.g.l(0,0)}var g=h(3),r=h(8),p=h(139),q=h(151);r.Y(p,d);d.prototype.md=function(d,k,e,b,a,c){b=this.i;a=this.o.F();var f=this.o.attributes();
b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);this.o.use();this.Mc.bind();b.uniform2fv(a.viewportSize,k);this.Nc.bind();b.vertexAttribPointer(f.position,2,b.FLOAT,!1,8,0);b.enableVertexAttribArray(f.position);this.Nc.m();this.Kc.bind();b.vertexAttribPointer(f.dataIndex,1,b.FLOAT,!1,4,0);b.enableVertexAttribArray(f.dataIndex);this.Kc.m();this.Qs(d,e,c);this.Mc.m();this.o.Sa();b.disable(b.BLEND)};d.prototype.rf=function(d,k,e){d=k.dr;if(d.length){var b=
this.i,a=this.o.F();b.uniformMatrix4fv(a.modelViewProjMatrix,!1,k.Ia);for(var c=k={m:function(){}},f=0,l=d.length;f<l;f++){var n=d[f],m=n.bb,g=n.ec;n=n.O;if(g.visible&&g.jb){var h=n.Qd;k!==h&&(b.uniform2f(a.dataTextureSize,h.width,h.height),b.activeTexture(b.TEXTURE0),k.m(),k=h,k.bind());n=n.Sd;c!==n&&(b.uniform2f(a.glyphTexturePoints,n.width,n.height),b.activeTexture(b.TEXTURE1),c.m(),c=n,c.bind());this.Uj(g,m,e)}}k.m();c.m()}};d.prototype.Uj=function(d,k,e){var b=this.i,a=this.o.F();g.g.set(this.sk,
0,0);for(var c=0,f=d.mb.length;c<f;c++){var l=d.mb[c];b.uniform1f(a.halfLineWidth,.5*d.L[0]);var n=l.curve;n.Fx()?(b.uniform2fv(a.p0,g.g.clone(n.$a)),b.uniform2fv(a.p1,g.g.clone(n.$a)),b.uniform2fv(a.p2,g.g.clone(n.nb)),b.uniform2fv(a.p3,g.g.clone(n.nb))):(b.uniform2fv(a.p0,g.g.clone(n.$a)),b.uniform2fv(a.p1,g.g.clone(n.nb)),b.uniform2fv(a.p2,g.g.clone(n.Ad)),b.uniform2fv(a.p3,g.g.clone(n.jd)));b.uniform1f(a.alpha,l.alpha*e);n=l.caption;b.uniform1f(a.labelIndexOffset,n.offset);n=n.ge;b.uniform1f(a.fontScaleFactor,
n);this.Yi.By(a,l,n,k.Kk,k.uf,k.sg)}};d.prototype.kb=function(d,k,e,b,a){d=d.dr;k=0;for(e=d.length;k<e;k++){var c=d[k],f,l=c.Vb.Vf;for(f in l){l=l[f];c.O={Sd:b[l.Sd],Qd:a[l.Qd]};break}}};d.B=function(d,k){return q.get(d,k)};return d});u(154,0,function(){function d(k,e){m.prototype.constructor.call(this,k);var b=this;d.B(k,e).then(function(a){b.pt=a.pt;b.Si=a.Si;b.Mc=a.Mc;b.Nc=a.Nc;b.Kc=a.Kc;b.$I=a.$I;b.Yi=a});this.sk=g.g.l(0,0)}var g=h(3),r=h(8),p=h(0),q=h(151),m=h(139);r.Y(m,d);d.prototype.Sn=function(d){this.o=
d.ds()<p.PL?this.Si:this.pt};d.prototype.md=function(d,e,b,a,c,f){this.Sn(d);a=this.i;c=this.o.F();var l=this.o.attributes();a.enable(a.BLEND);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);this.o.use();this.Mc.bind();a.uniform2fv(c.viewportSize,e);this.Nc.bind();a.enableVertexAttribArray(l.position);a.vertexAttribPointer(l.position,2,a.FLOAT,!1,8,0);this.Nc.m();this.Kc.bind();a.enableVertexAttribArray(l.dataIndex);a.vertexAttribPointer(l.dataIndex,1,a.FLOAT,!1,
4,0);this.Kc.m();this.Qs(d,b,f);this.Mc.m();this.o.Sa();a.disable(a.BLEND)};d.prototype.rf=function(d,e,b){d=e.qt;if(d.length){var a=this.i,c=this.o.F();a.uniformMatrix4fv(c.modelViewProjMatrix,!1,e.Ia);for(var f=e={m:function(){}},l=0,n=d.length;l<n;l++){var k=d[l],m=k.bb,g=k.ec;k=k.O;if(!(g.alpha<p.Tg)&&g.jb){var h=k.Qd;e!==h&&(a.uniform2f(c.dataTextureSize,h.width,h.height),a.activeTexture(a.TEXTURE0),e.m(),e=h,e.bind());k=k.Sd;f!==k&&(a.uniform2f(c.glyphTexturePoints,k.width,k.height),a.activeTexture(a.TEXTURE1),
f.m(),f=k,f.bind());a.uniform1f(c.fontScaleFactor,m.ge);this.Uj(m.uf,g,b)}}e.m();f.m()}};d.prototype.Uj=function(d,e,b){d=this.i;var a=this.o.F();g.g.set(this.sk,0,0);for(var c=0,f=e.mb.length;c<f;c++){var l=e.mb[c];d.uniform2fv(a.center,l.position);d.uniform1f(a.alpha,l.alpha*b);d.uniform1f(a.labelIndexOffset,l.caption.offset);this.Yi.Os(l,a)}};d.prototype.Gb=function(d){this.Yi.qh(d.ul)};d.prototype.kb=function(d,e,b,a,c){d=d.qt;e=0;for(b=d.length;e<b;e++){var f=d[e],l;var n=f.Vb.Vf;for(l in n){n=
n[l];f.O={Sd:a[n.Sd],Qd:c[n.Qd]};break}}};d.B=function(d,e){return q.get(d,e)};return d});u(155,0,function(){function d(a,b,d){p.prototype.constructor.call(this,a);this.bh=new e(a,d);this.jk=new q(a,b);this.yk=new m(a,b);this.pl=new k(a,b);this.Oc("poi-texts",this.jk.md.bind(this.jk));this.Oc("poi-icons",this.bh.md.bind(this.bh));this.Oc("curved-texts",this.yk.md.bind(this.yk));this.Oc("poi-shields",this.pl.md.bind(this.pl))}var g=h(13),r=h(8),p=h(139),q=h(152),m=h(153),k=h(154),e=h(148),b=h(109);
r.Y(p,d);d.prototype.Nd=function(a,b,e,d,n,k){this.bh.Nd.apply(this.bh,arguments)};d.prototype.kb=function(a){this.jk.kb.apply(this.jk,arguments);this.bh.kb.apply(this.bh,arguments);this.yk.kb.apply(this.yk,arguments);this.pl.kb.apply(this.pl,arguments)};d.prototype.Gb=function(a){this.jk.Gb(a);this.bh.Gb(a);this.yk.Gb(a);this.pl.Gb(a)};d.B=function(a,c){var d=a.id+"-poi-text-label-deps";if(b.has(d))return b.get(d);a=g.all([e.B(a),q.B(a,c),m.B(a,c),k.B(a,c)]);b.add(d,a);return a};return d});u(156,
0,function(){function d(a,b){m.prototype.constructor.call(this,a);d.B(a).then(function(a){this.o=a[0];this.Xa=a[1];this.Na=a[2];this.Ee=10}.bind(this));this.Ea=b}var g=h(13),r=h(8),p=h(3),q=h(109),m=h(139),k=h(0),e=h(113),b=h(114),a=h(120);r.Y(m,d);d.prototype.Nd=function(a,b,e,d,m,g){a=e.sa;if(0!==a.length)for(b=0;b<a.length;b++){e=a[b];d=e.elements;e.O={};m=[];for(var c=[],f=0,l=d.length;f<l;f++){var n=d[f].vc,h=n.alpha*g;if(n&&n.icon&&!(h<k.Tg)){var p=n.icon,q=n.mf(),t=p.di();p=t.Ja;n=[n.position[0],
n.position[1],q[0],q[1],t.zf[0],t.zf[1],t.Af[0],t.Af[1],h,n.angle];h=m.indexOf(p);-1!==h?(h=c[h],h.push.apply(h,n)):(h=n,c.push(h),m.push(p))}}e.O.oc=m;e.O.Od=c}};d.prototype.md=function(a,b,e){this.Ea.Qq.Ty();e=e.sa;if(0!==e.length){this.Na.bind();this.Xa.bind();this.o.use();var c=this.i;c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);var d=this.o.F();c.uniform2fv(d.viewportSize,b);c.activeTexture(c.TEXTURE0);c.uniform1i(d.iconTexture,0);c.vertexAttribPointer(this.o.attributes().tilePosition,
2,c.FLOAT,!1,40,0);c.vertexAttribPointer(this.o.attributes().size,2,c.FLOAT,!1,40,8);c.vertexAttribPointer(this.o.attributes().uvSize,2,c.FLOAT,!1,40,16);c.vertexAttribPointer(this.o.attributes().uvStart,2,c.FLOAT,!1,40,24);c.vertexAttribPointer(this.o.attributes().alpha,1,c.FLOAT,!1,40,32);c.vertexAttribPointer(this.o.attributes().angle,1,c.FLOAT,!1,40,36);c.enableVertexAttribArray(this.o.attributes().tilePosition);c.enableVertexAttribArray(this.o.attributes().size);c.enableVertexAttribArray(this.o.attributes().uvSize);
c.enableVertexAttribArray(this.o.attributes().uvStart);c.enableVertexAttribArray(this.o.attributes().alpha);c.enableVertexAttribArray(this.o.attributes().angle);b=0;for(d=e.length;b<d;b++)this.rf(a,e[b]);c.disableVertexAttribArray(this.o.attributes().tilePosition);c.disableVertexAttribArray(this.o.attributes().uvStart);c.disableVertexAttribArray(this.o.attributes().uvSize);c.disableVertexAttribArray(this.o.attributes().size);c.disableVertexAttribArray(this.o.attributes().alpha);c.disableVertexAttribArray(this.o.attributes().angle);
this.Na.m();this.Xa.m();this.o.Sa();c.disable(c.BLEND)}};d.prototype.rf=function(a,b){var c=this.i,e=this.o.F();if(b.elements.length&&b.O.oc.length)for(p.S.multiply(b.Ia,a.Qb,b.Xb),c.uniformMatrix4fv(e.modelViewProjMatrix,!1,b.Ia),a=0;a<b.O.oc.length;a++){e=b.O.oc[a];var d=b.O.Od[a],f=new Float32Array(d);e.bind();var m=0;for(d=Math.round(d.length/this.Ee);0<d;){var g=Math.min(d,k.vn),h=new Float32Array(f.buffer,m*this.Ee*4,g*this.Ee);this.Na.data(h);c.drawElements(c.POINTS,g,c.UNSIGNED_SHORT,0);d-=
g;m+=g}e.m()}};d.prototype.kb=function(){};d.prototype.Gb=function(a){a=a.ul;var b=this.i;this.o.use();b.uniform1f(this.o.F().pr,a);this.o.Sa()};d.B=function(c){var d=c.id+"-arrow-renderer-deps";if(q.has(d))return q.get(d);var l=e.Ya.Za(c,"shaders/arrow.vert","shaders/arrow.frag"),n=a.Vm(c);c=b.br(c);l=g.all([l,n,c]);q.add(d,l);return l};return d});u(158,0,function(){function d(b,a){r.Qa(this)&&(p.prototype.constructor.call(this,b),d.B(b).then(function(){this.cl=new q(b);this.lh=0;this.zy=new e(a)}.bind(this)))}
var g=h(13),r=h(8),p=h(139),q=h(141),m=h(109),k=h(3),e=h(120);r.Y(p,d);d.prototype.Gb=function(b){this.lh=b.devicePixelRatio;this.cl.Gb(b)};d.prototype.kb=function(b,a){b=b.elements;for(var c=0,e=b.length;c<e;c++){var d=b[c],n=d.Vb,k=this.zy.Wm(a.Ls.Od[n.fc],n.offset,n.length);k=this.zy.xK(k);var m=this.cl.MI();m.SM(k);m.rh(n.length/2,0);d.O={oy:m}}};d.prototype.Nd=function(b,a,c){b=c.sa;for(a=0;a<b.length;a++){var e=b[a];c=e.elements;e.O={};e=0;for(var d=c.length;e<d;e++){var n=c[e],k=n.vc,m=n.bb;
n=n.O.oy;if(k&&k.icon&&m){var g=k.icon;k=k.mf();g=g.di();var h=g.Ja;n.TM(k[0]*m.$m);n.VM(h,g.zf,g.Af,m.Ym)}}}};d.prototype.md=function(b,a,c){a=c.sa;this.cl.pg();a.forEach(function(a){k.S.multiply(a.Ia,b.Qb,a.Xb);for(var c=a.elements,e=0,d=c.length;e<d;e++){var f=c[e].O.oy;f.th(a.Ia);this.cl.pM(f)}}.bind(this));this.cl.qg()};d.B=function(b){var a=b.id+"-poi-density-layer-renderer-deps";if(m.has(a))return m.get(a);b=q.B(b);b=g.all([b]);m.add(a,b);return b};return d});u(159,0,function(){function d(a,
b,e){this.x=a;this.y=b;this.z=e}function g(a){this.key=a;var b=Math.pow(k.ag,-a.z);this.size=e.g.l(b,b);this.origin=e.g.l(a.x*b,a.y*b)}function r(b,d){this.io=e.I.create();this.jo=e.I.create();this.ko=e.I.create();this.lo=e.I.create();q.prototype.constructor.call(this,m.qj);this.tL=k.sL*k.ag;this.Z=d;this.Z.Xf(this);this.$j=this.Nh=k.jr;this.Zj=this.Mh=k.ir;this.jp=a.resolve();this.Tk=e.I.create();this.fillColor=e.I.create();this.Bu(k.ir,k.jr,0);this.na=b}var p=h(8),q=h(128),m=h(15),k=h(0),e=h(3),
b=h(106),a=h(13);g.prototype.EI=function(){this.Xb=e.S.cg(e.S.create());e.S.translate(this.Xb,this.Xb,e.Ba.l(this.origin[0],this.origin[1],0));e.S.scale(this.Xb,this.Xb,e.Ba.l(this.size[0],this.size[1],0));this.Ia=e.S.create()};g.prototype.split=function(){for(var a=k.ag,b=this.key.x*k.ag,e=this.key.y*k.ag,n=this.key.z+1,m=Array(a*a),h=0,p=0;p<a;p++)for(var q=0;q<a;q++){var r=new d(b+p,e+q,n);m[h++]=new g(r)}return m};p.Y(q,r);r.prototype.Bu=function(a,b,e){var c=this;this.jp=this.jp.then(function(){var a=
c.Z.ie(c,0);c.dw();return a}).then(function(){c.Zj=c.Mh;c.$j=c.Nh;c.Mh=a;c.Nh=b;return c.Z.show(c,e)})};r.prototype.Le=function(a){this.Bu(a.yd,a.zd,k.HK);this.fg=a.Qc===this.na.qe.Dl;q.prototype.Le.apply(this,arguments)};r.prototype.VC=function(a,d){e.I.set(this.io,d.origin[0],d.origin[1],0,1);e.I.set(this.jo,d.origin[0]+d.size[0],d.origin[1],0,1);e.I.set(this.ko,d.origin[0]+d.size[0],d.origin[1]+d.size[1],0,1);e.I.set(this.lo,d.origin[0],d.origin[1]+d.size[1],0,1);a=a.Qb;e.I.Ra(this.io,this.io,
a);e.I.Ra(this.jo,this.jo,a);e.I.Ra(this.ko,this.ko,a);e.I.Ra(this.lo,this.lo,a);a=b.Jc(this.io);d=b.Jc(this.jo);var c=b.Jc(this.ko),f=b.Jc(this.lo);return 0!==(a&d&c&f)?!1:!0};r.prototype.dw=function(){var a=this.alpha,b=1-a;this.Tk[0]=this.Nh[0]*a+this.$j[0]*b;this.Tk[1]=this.Nh[1]*a+this.$j[1]*b;this.Tk[2]=this.Nh[2]*a+this.$j[2]*b;this.Tk[3]=this.Nh[3]*a+this.$j[3]*b;this.fillColor[0]=this.Mh[0]*a+this.Zj[0]*b;this.fillColor[1]=this.Mh[1]*a+this.Zj[1]*b;this.fillColor[2]=this.Mh[2]*a+this.Zj[2]*
b;this.fillColor[3]=this.Mh[3]*a+this.Zj[3]*b};r.prototype.XE=function(){this.hh()&&this.dw()};r.prototype.update=function(a){this.XE();var b=Math.log(k.Vd*Math.pow(2,a.lf())/this.tL)/Math.log(k.ag),c=Math.floor(a.ui()[0]);this.Jk=[new g(new d(c-1,0,0)),new g(new d(c,0,0)),new g(new d(c+1,0,0))];for(c=0;c<b;c++){var e=[],m=this;this.Jk.forEach(function(b){b=b.split().filter(function(b){return m.VC(a,b)});e.push.apply(e,b)});this.Jk=e}this.UK=Math.min(b%1/.8,1);this.Jk.forEach(function(a){a.EI()});
q.prototype.update.apply(this,arguments)};r.prototype.hh=function(){return!this.jp.Sk()||q.prototype.hh.apply(this,arguments)};r.prototype.Qr=function(){return!1};return r});u(160,0,function(){function d(){this.Ju=[]}d.prototype.Ji=function(d){d.Hb();this.Ju.push(d)};d.prototype.ya=function(){this.up()};d.prototype.up=function(){this.Ju.forEach(this.TB,this)};d.prototype.TB=function(d){d.release()};return d});u(161,0,function(){function d(a,b){-1===a.indexOf(b)&&a.push(b)}function g(b,d){p.Qa(this)&&
(this.type=d,this.key=b,this.lg=new a,this.size=Math.pow(2,-b.z),this.Xb=m.An(b),this.Ia=c.S.create(),this.Pg=[],this.Mv(),this.wp=f[this.type],this.$B=e.Re(this.wp))}var r=h(13),p=h(8),q=h(11),m=h(20),k=h(15),e=h(5),b=h(21),a=h(160),c=h(3);Object.freeze(void 0);var f={};f[k.U]={Ii:k.U};f[k.gc]={Ii:k.gc};f[k.$]={Ni:k.$};f[k.Ec]={Ni:k.Ec};f[k.V]={uh:k.V};f[k.w]={vf:k.w};f[k.rc]={vf:k.rc};f[k.Dc]={vf:k.Dc};f[k.qa]={il:k.qa};f[k.Ve]={bl:k.Ve};f[k.ue]={};f[k.ub]={};f[k.Te]={};f[k.Gf]={};f[k.$d]={};f[k.Ig]=
{};f[k.Df]={};f[k.se]={};var l={};l[k.gc]=function(a,b){a.gf=a.gf||[];a.fi=a.fi||[];b.forEach(function(b){d(a.gf,b.fc);d(a.fi,b.cn)})};l[k.U]=l[k.gc];l[k.$]=function(a,b){a.gf=a.gf||[];b.forEach(function(b){d(a.gf,b.fc)})};l[k.Ec]=l[k.$];l[k.Fa]=l[k.$];l[k.w]=function(a,b){a.gf=a.gf||[];a.Ct=a.Ct||[];b.forEach(function(b){b=b.Vf;for(var c in b){var e=b[c];d(a.gf,e.Qd);d(a.Ct,e.Sd)}})};l[k.rc]=l[k.w];l[k.Dc]=l[k.w];l[k.Ve]=function(a,b){a.fi=a.fi||[];b.forEach(function(b){d(a.fi,b.fc)})};l[k.V]=function(){};
l[k.qa]=function(){};g.prototype.Mv=function(){var a=this;this.vv=new r(function(b,c){a.hD=b;a.Fp=c})};g.prototype.WM=function(a){this.uq=a};g.prototype.Mk=function(){return!1};g.prototype.qx=function(){return!1};g.prototype.bi=function(a){this.Pg.push(a)};g.prototype.ux=function(a){return-1!==this.Pg.indexOf(a)};g.prototype.Nn=function(a){this.Pg.splice(this.Pg.indexOf(a),1);0===this.Pg.length&&this.M("empty",this)};g.prototype.gy=function(a){this.M("loading-aborted",a);this.Fp(a)};g.prototype.ws=
function(){this.M("loading-start");0===this.Pg.length&&this.M("empty",this)};g.prototype.vs=function(){this.CC||this.M("loaded",this)};g.prototype.CL=function(a){this.M("rendering-aborted");this.Fp(a)};g.prototype.BL=function(){this.M("ready-to-display");this.hD(this);this.Pg.forEach(function(a){a.Yy(this.type)},this)};g.prototype.yO=function(){this.Mv()};g.prototype.jt=function(a){a!==this.key.offset&&(this.key.offset=a,this.Xb=m.An(this.key),this.M("tile-key-changed",this.key.offset))};g.prototype.fy=
function(a){this.lg.Ji(a);this.elements=[];for(var b in this.wp){var c=a[b],e=this.wp[b];c&&(c.forEach(function(a){this.elements.push({ea:this,type:e,Vb:a})}.bind(this)),l[e](this,c))}};g.prototype.yr=function(a,b){for(var c=0,e=this.elements.length;c<e;c++)a.call(b,this.elements[c],c)};g.prototype.hy=function(a){this.M("loading-failed",a);this.Fp(a)};g.prototype.us=function(){this.M("destroyed",this);this.GD()};g.prototype.GD=function(){b.tj.ma(function(){this.elements=null;this.va();this.lg&&this.lg.ya()},
this)};g.prototype.mi=function(){};q.da(g.prototype);return g});u(162,0,function(){function d(a,b,c,e){if(p.Qa(this)){m.prototype.constructor.call(this,a);var d;if(!e)for(e=Array(21),d=0;21>d;d++)e[d]=d;this.Nx=b;this.Wa=c;this.SC(e);this.Nf={};this.Pj={};this.ae=[];this.cC=f[a];this.Sl=!1}}var g=h(0),r=h(3),p=h(8),q=h(11),m=h(128),k=h(161),e=h(19),b=h(13),a=h(4),c=h(15),f=Array(c.count);f.fill(g.$J);f[c.U]=g.si;f[c.$]=g.si;f[c.Ec]=g.si;f[c.ue]=g.si;f[c.ub]=g.si;f[c.Te]=g.si;p.Y(m,d);d.prototype.sr=
function(){return g.Dt};d.prototype.YJ=function(){return g.Et};d.prototype.SC=function(a){this.vq=Array(21);for(var b=0,c=a.length;b<c;b++)for(var e=a[b],d=a[b+1]||21,f=r.g.l(e,d-1);e<d;e++)this.vq[e]=f};d.prototype.wm=function(){this.Sl=!0};d.prototype.sm=function(){if(this.Sl){this.Sl=!1;for(var a=this.ae.length-this.Uq(),b=0;b<a;b++){var c=this.ae.pop();this.Nj(c)}}};d.prototype.Uq=function(){return a.rL};d.prototype.ex=function(a){var b=this.vq[a.z-g.tn];if(b){b=b[0];var c=a.z-b;return new e(a.x>>
c,a.y>>c,b,a.offset)}};d.prototype.yK=function(a){return this.vq[a.z]};d.prototype.ID=function(a,b,c,e,d,f,k,m,h,p){this.Ur()||(c=g.Tx);this.wi()||(d=g.Tx);return a.st+":"+b+":"+e+":"+c+":"+d+":"+f+":"+k+":"+m+":"+h+(p?":lo":"")};d.prototype.pf=function(a){var b=this.ex(a.rb);if(b){var c=this.ID(b,a.scale,a.Qc,a.Zb,a.language,a.Ie,a.Me,a.yb,a.xb,a.nf),e;var d=0;for(e=this.sa.length;d<e;d++){var f=this.sa[d];if(f.Zl===c){f.jq?this.Fv(a,f):(f.jt(a.rb.offset),f.bi(a));return}}d=0;for(e=this.ae.length;d<
e;d++)if(f=this.ae[d],f.Zl===c){this.Fv(a,f);return}(d=this.Nf[c])?(d.jt(a.rb.offset),d.bi(a),a.rm(d.vv,this.type()),this.Xu(d,a)):(f=this.ki(b),f.Zl=c,f.scale=a.scale,f.Zb=a.Zb,f.Qc=a.Qc,f.language=a.language,f.Ie=a.Ie,f.Me=a.Me,f.yb=a.yb,f.xb=a.xb,f.nf=a.nf,this.Wa?this.Wa.Xf(f):f.alpha=0,f.WM(this.yK(b)),f.bi(a),a.rm(f.vv,this.type()),this.Xu(f,a),this.wN(f))}};d.prototype.$k=function(){};d.prototype.Xu=function(a,b){this.rC(a.key).forEach(function(c){c.key.z<b.rb.z&&b.Yy(this.type());c.bi(b);
a.race().add("ready-to-display",function(){c.Nn(b)},b).add("loading-failed",function(){c.Nn(b)},b)},this)};d.prototype.rC=function(a){for(var b=[],c=0,e=this.sa.length;c<e;c++){var d=this.sa[c],f=d.key;if(!d.jq&&f.z!==a.z){if(f.z<a.z)var l=a;else l=f,f=a;var k=l.z-f.z;k>this.cC||l.x>>k===f.x&&l.y>>k===f.y&&b.push(d)}}return b};d.prototype.ig=function(a){var b=this.sa.slice(),c;if(a.rb.id in this.Pj)delete this.Pj[a.rb.id];else{var e=0;for(c=b.length;e<c;e++){var d=b[e];d.ux(a)&&(d.va("ready-to-display",
void 0,a),d.Nn(a))}for(e in this.Nf)d=this.Nf[e],d.va("ready-to-display",void 0,a),d.va("loading-failed",void 0,a),d.ux(a)&&d.Nn(a)}};d.prototype.bv=function(){this.ed.Je()};d.prototype.push=function(a){this.ed&&a.Ma("tile-key-changed",this.bv,this);m.prototype.push.call(this,a)};d.prototype.remove=function(a){m.prototype.remove.call(this,a);this.ed&&a.va("tile-key-changed",this.bv,this)};d.prototype.ki=function(a){return new k(a,this.type())};d.prototype.wN=function(a){this.uy(a);this.Nx.Mx(a)};
d.prototype.EL=function(a){var c=this.$f(a),e=new b(function(b,c){a.Kl=function(b){a.Kl=void 0;c(b)};a.once("empty",function(){a.Kl=void 0;c("Tile Layer empty before ready for rendering")},this)}.bind(this));b.race([e,c]).then(function(){this.Wp(a);this.GL(a)}.bind(this)).catch(function(b){a.CL(b);this.Zc(a).then(function(){this.iy(a)}.bind(this))}.bind(this))};d.prototype.uy=function(a){this.RA(a);a.race().add("loaded",function(){this.EL(a)},this).add("loading-aborted",function(){this.iy(a)},this).add("loading-failed",
function(){this.FL(a)},this)};d.prototype.Wp=function(a){delete this.Nf[a.Zl]};d.prototype.RA=function(a){this.Nf[a.Zl]=a};d.prototype.$f=function(){return b.resolve("__tile-layer-renderable__")};d.prototype.GL=function(a){a.once("empty",function(){this.HL(a)},this);this.push(a);var b=a.nv?0:this.sr();this.Wa?this.Wa.show(a,b):a.alpha=1;a.BL()};d.prototype.FL=function(a){this.Wp(a);this.Nj(a)};d.prototype.iy=function(a){this.Wp(a);this.Nj(a)};d.prototype.HL=function(a){a.jq=!0;a.QE=this.Zc(a).then(function(){this.remove(a);
this.tI(a);a.jq=!1}.bind(this))};d.prototype.tI=function(a){this.ae.push(a);!this.Sl&&this.ae.length>this.Uq()&&(a=this.ae.shift(),this.Nj(a))};d.prototype.Nj=function(a){a.us()};d.prototype.Fv=function(a,c){var e=this;c.lp&&c.lp();this.Pj[a.rb.id]=a;var d=c.QE.then(function(){if(!(a.rb.id in e.Pj))return b.reject("--pending-tile-destroyed--");delete e.Pj[a.rb.id];var d=e.ae.indexOf(c);-1!==d?(e.ae.splice(d,1),c.yO(),e.uy(c),c.bi(a),c.ws(),c.nv=!0,c.vs(),c.nv=!1):c.bi(a);c.jt(a.rb.offset)});a.rm(d,
this.type())};d.prototype.Qy=function(a,b){a.lp=function(){delete a.lp;b()}};d.prototype.Zc=function(a){if(this.Wa){var c=this.Wa.ie(a,this.YJ());a=new b(this.Qy.bind(this,a));return b.race([c,a])}return b.resolve("onloaded")};d.prototype.gi=function(){this.Wa=null;this.sa.forEach(function(a){this.Zc(a).then(function(){a.us()})},this);for(var a in this.Nf){var b=this.Nf[a];void 0!==b.Kl?b.Kl("__map-layer-removed__"):this.Nx.pm(b,"__map-layer-removed__")}this.xI()};d.prototype.Qr=function(){return 0!==
Object.keys(this.Nf).length};d.prototype.xI=function(){this.ae.forEach(this.Nj,this);this.ae.length=0};q.da(d.prototype);return d});u(163,0,function(){function d(d,g,m,k,e){r.prototype.constructor.apply(this,arguments);this.gg=1;this.fg=!1;this.na=e}var g=h(8),r=h(162);g.Y(r,d);d.prototype.Le=function(d){this.fg=d.Qc===this.na.qe.Dl;this.gg=1;r.prototype.Le.apply(this,arguments)};d.prototype.wi=function(){return!1};d.prototype.update=function(d){if(this.fg){var g=d.Ik();this.gg=0;8>=g?this.gg=1:9>=
g?this.gg=.8:11>=g?this.gg=.7:13>=g?this.gg=.6:21>=g&&(this.gg=.5)}r.prototype.update.apply(this,arguments)};return d});u(164,0,function(){function d(d,e,b){p.prototype.constructor.call(this,q.U,d,e,b);this.Fu=-1;this.Qk=!0;this.Rq=[];this.yq=[];this.xq=[];this.clearColor=r.Iw}var g=h(8),r=h(0),p=h(162),q=h(15),m=h(4).global;g.Y(p,d);d.prototype.wi=function(){return!1};d.prototype.Le=function(d){this.clearColor=d.vd;p.prototype.Le.apply(this,arguments)};d.prototype.update=function(d){var e=d.lf();
this.Fu!==e&&(this.Qk=!0);this.Fu=e;if(this.Qk){this.Rq.length=0;this.yq.length=0;this.xq.length=0;e=this.sa;for(var b=0,a=e.length;b<a;b++){var c=e[b],f=c.elements;c.elements.sort(function(a,b){return a.bb.zIndex-b.bb.zIndex});c=0;for(var l=f.length;c<l;c++){var k=f[c],g=k.bb.ab;g===m.Po?this.Rq.push(k):g===m.Iz?this.yq.push(k):this.xq.push(k)}}this.Qk=!1}p.prototype.update.apply(this,arguments)};d.prototype.push=function(){this.Qk=!0;p.prototype.push.apply(this,arguments)};d.prototype.remove=function(){this.Qk=
!0;p.prototype.remove.apply(this,arguments)};return d});u(165,0,function(){function d(b,a){m.prototype.constructor.call(this,b,k.gc);this.Wa=a}function g(b,a,c,e){q.prototype.constructor.call(this,k.gc,a,c,e);this.oz=b;this.oz.Ma("styles-updated",this.wc,this)}var r=h(8),p=h(0),q=h(162),m=h(161),k=h(15),e=h(13);r.Y(m,d);d.prototype.update=function(){this.elements.forEach(function(b){b.bb.visible?this.EE(b):this.fv(b)},this)};d.prototype.EE=function(b){this.Wa.show(b,p.qI)};d.prototype.fv=function(b){return this.Wa.ie(b,
p.rI)};d.prototype.mi=function(){this.elements.forEach(function(b){this.Wa.Xf(b)},this);m.prototype.mi.apply(this,arguments)};d.prototype.HC=function(){return this.elements.map(function(b){return this.fv(b)},this)};r.Y(q,g);g.prototype.wi=function(){return!1};g.prototype.update=function(b){var a=[];this.sa.forEach(function(b){b.update();a.push.apply(a,b.elements)});this.zw=a;this.zw.sort(function(a,b){return a.bb.zIndex-b.bb.zIndex});q.prototype.update.apply(this,arguments)};g.prototype.Zc=function(b){var a=
this.Wa?b.HC():e.resolve();return e.all([a,q.prototype.Zc.apply(this,arguments)])};g.prototype.gi=function(){q.prototype.gi.apply(this,arguments);this.oz.va("styles-updated",null,this)};g.prototype.ki=function(b){return new d(b,this.Wa)};return g});u(166,0,function(){function d(d){p.prototype.constructor.call(this,g.eP,null,d);this.wf=[]}var g=h(15),r=h(8),p=h(162);r.Y(p,d);d.prototype.pf=function(d){d.wu="loading";d.gp={};this.wf.push(d)};d.prototype.$k=function(d){d.IS().forEach(function(m){if("number"===
typeof m){var k=g.OS(m);d.gp[k]="loading";d.B(m).then(function(){d.gp[k]="loaded"}).catch(function(){d.gp[k]="failed"})}});d.B().then(function(){d.wu="loaded"}).catch(function(){d.wu="failed"})};d.prototype.ig=function(d){this.wf.splice(this.wf.indexOf(d),1)};return d});u(167,0,function(){function d(d,e,b,a){g.prototype.constructor.call(this,d,e,b);this.na=a}var g=h(162),r=h(8),p=h(0),q=h(13),m=h(15);r.Y(g,d);d.prototype.Le=function(d){this.fg=d.Qc===this.na.qe.Dl;g.prototype.Le.apply(this,arguments)};
d.prototype.Ur=function(){return!1};d.prototype.wi=function(){return this.type()!==m.ub};d.prototype.Zc=function(d){if(this.Wa&&this.Wa.Ye){var e=q.timeout(this.sr());this.Qy(d,e.cancel);return e.then(g.prototype.Zc.bind(this,d),function(){})}return g.prototype.Zc.call(this,d)};d.prototype.Uq=function(){return p.kM};d.prototype.ex=function(d){return d};return d});u(168,0,function(){function d(e,b){return.5*(b-e)}function g(e,b){return b-e}function r(){return 0}function p(e,b){this.offset=e.offset;
var a=this.ge=0;this.lines=e.lines.map(function(c){var e=c.lineWidth+2*b;a=Math.max(a,e);return{ef:c.ef,pO:e,width:0}});this.rn=this.lines.map(function(){return m.g.create()});this.TE=a;this.SE=e.lineHeight;this.L=m.g.create()}function q(e,b,a){var c=Math.min.apply(null,e);e=Math.max.apply(null,e);this.Gu=Array(e-c+1);for(var d=null,l=c;l<=e;l++){var k=b[l];k&&(d=new p(k,a));this.Gu[l-c]=d}this.lc=c;this.ke=e}var m=h(3),k=h(4).global;p.prototype.$y=function(e){this.ge=e;this.L[0]=this.TE*e;this.lineHeight=
this.SE*e;this.L[1]=this.lines.length*this.lineHeight;for(var b=0,a=this.lines.length;b<a;++b){var c=this.lines[b];c.width=c.pO*e}};p.prototype.Ix=function(){this.rn[0][1]=.5*-this.lineHeight};p.prototype.Jx=function(e){switch(e){case k.Eh:case k.pj:case k.mj:var b=r;break;case k.lj:case k.oj:case k.Dh:b=g;break;case k.Dg:case k.Fh:case k.Cf:b=d}e=this.L[0];for(var a=this.lineHeight,c=0,f=this.lines.length;c<f;c++)this.rn[c][0]=b(this.lines[c].width,e),this.rn[c][1]=-a,a+=this.lineHeight};q.prototype.Bw=
function(e){return this.Gu[m.ym(Math.floor(e.nF),this.lc,this.ke)-this.lc]};q.create=function(e,b){var a=Object.keys(e).map(function(a){return parseInt(a)});return a.length?new q(a,e,b):null};return q});u(169,0,function(){function d(a,b,c,e){k.prototype.constructor.call(this,a,b);p.Qa(this)&&(this.sb=e,this.wq=[],this.dr=[],this.qt=[],this.mc=c)}function g(a,b,c,e,d,f){m.prototype.constructor.call(this,a,b,c,f);p.Qa(this)&&(this.mc=e.mc,this.sb=e.sb,this.ed=d)}var r=h(3),p=h(8),q=h(5),m=h(162),k=
h(161),e=h(27),b=h(29),a=h(10),c=h(168),f=h(28),l=h(13),n=h(4).global;p.Y(k,d);d.prototype.Mk=function(){return!0};d.prototype.mi=function(){for(var d=0,l=this.elements.length;d<l;d++){var k=this.elements[d],m=k.Vb,g=q.Fb(),h=c.create(m.Vf,m.uk?0:this.mc),p=m.kd;if(m.Fi)g=new f(k,m.Fi,this.sb,g),g.ct(h),k.ec=g,this.dr.push(k),g=p;else{var u=m.dd?new b(k,g):new e(k,g,a.w);g=m.Ub;h&&u.ct(h);var J=m.Zr;h=null;m.uk?h=[n.Dg]:J.position!==n.nj&&(h=[J.position]);J=m.jg;for(var N=0,B=J.length;N<B;N++){var P=
r.g.clone(J[N]);r.g.scale(P,P,this.sb);u.Md(P,h)}k.ec=u;m.uk?this.qt.push(k):this.wq.push(k)}k.ec.Wb=m.Wb||0;k.ec.kd=p;k.ec.Ub=g;k.ec.bg=d;k.uc=m.cb}this.elements=this.elements.filter(function(a){return void 0!==a.ec})};p.Y(m,g);g.prototype.sr=function(){return 0};g.prototype.$f=function(a){var b=m.prototype.$f.call(this,a);a.fp=a.fp||l.resolve("__first-time__");if(this.ed){var c=this.ed;var e=a.elements;for(var d=Array(e.length),f=0,k=e.length;f<k;f++)d[f]=e[f].ec;e=a.fp.then(function(){return c.nh(a,
d)});a.Ap=e}else e=l.resolve("__no-label-manager__");return l.all([e,b])};g.prototype.Zc=function(a){if(this.ed){var b=a.elements.map(function(a){return a.ec}),c=this;a.fp=a.Ap.then(function(){return c.ed.tg(a,b)})}return m.prototype.Zc.apply(this,arguments)};g.prototype.ki=function(a){return new d(a,this.type(),this.mc,this.sb)};return g});u(170,0,function(){function d(d,k){r.prototype.constructor.call(this,p.El,d,k)}var g=h(8),r=h(25),p=h(10),q=h(4).global;g.Y(r,d);d.prototype.Md=function(d){r.prototype.Md.call(this,
d,[q.Cf])};return d});u(171,0,function(){function d(a,e){k.prototype.constructor.call(this,a,b.V);p.Qa(this)&&(this.sb=e)}function g(a,e,d,k,g){m.prototype.constructor.call(this,b.V,a,e,g);p.Qa(this)&&(this.sb=d.sb,this.ed=k)}var r=h(3),p=h(8),q=h(5),m=h(162),k=h(161),e=h(170),b=h(15),a=h(13);p.Y(k,d);d.nK=function(){return q.Fb()};d.prototype.fy=function(a){this.lg.Ji(a);this.elements=[];a=a.uh;for(var b=0,c=a.length;b<c;b++)for(var e=a[b],d=0,k=e.jg.length;d<k;d++)this.elements.push({ea:this,Vb:e,
bM:d})};d.prototype.mi=function(){for(var a=this.elements,b=0,l=a.length;b<l;b++){var k=a[b],m=k.Vb,g=d.nK();g=new e(k,g);g.kd=m.text;g.Ub=g.kd+":"+m.Wb;g.bg=b;g.Wb=m.Wb;var h=m.jg[k.bM];g.Md(r.g.scale(r.g.create(),h,this.sb));k.ec=g;k.uc={};k.uc[this.key.z]=m.Zq}};p.Y(m,g);g.prototype.$f=function(b){var c=m.prototype.$f.call(this,b);b.ep=b.ep||a.resolve("__first-time__");var e=this.ed;b.elements=b.elements.filter(function(a){return void 0!==a.O});var d=b.scale;for(var k=b.elements,g=Array(k.length),
h=0,p=k.length;h<p;h++){var q=k[h],r=q.O.di.size;q=q.ec;q.nl(r[0]/d,r[1]/d);g[h]=q}d=b.ep.then(function(){return e.nh(b,g)});b.Ap=d;return a.all([d,c])};g.prototype.Zc=function(a){if(this.ed){var b=a.elements.map(function(a){return a.ec}),c=this.ed;a.ep=a.Ap.then(function(){return c.tg(a,b)})}return m.prototype.Zc.apply(this,arguments)};g.prototype.ki=function(a){return new d(a,this.sb)};return g});u(172,0,function(){function d(a,b){m.prototype.constructor.call(this,a,k.qa);this.sb=b}function g(a,
b,e,d,m,g){q.prototype.constructor.call(this,k.qa,a,b,g);p.Qa(this)&&(this.sb=e.sb,this.ed=d,this.xx=m)}var r=h(3),p=h(8),q=h(162),m=h(161),k=h(15),e=h(13),b=h(30),a=h(0);p.Y(m,d);d.prototype.qx=function(){return!0};d.prototype.mi=function(){for(var c=this.elements,e=0,d=c.length;e<d;e++){var k=c[e],m=k.Vb,g=new b(k);g.kd=a.xM;g.Ub=""+g.id;g.bg=e;g.Wb=this.key.z;g.Md(r.g.scale(r.g.create(),m.position,this.sb));k.ec=g;k.uc={};k.uc[this.key.z]=a.Hy}};p.Y(q,g);g.prototype.$f=function(a){var b=q.prototype.$f.call(this,
a);a.cp=a.cp||e.resolve("__first-time__");for(var c=a.elements,d=0,k=c.length;d<k;d++){var m=c[d],g=m.Vb,h=r.g.clone(g.position);r.g.scale(h,h,this.sb);m=m.vc;m.re({origin:h});m.angle=g.angle}var p=this.ed,w=a.elements.map(function(a){return a.ec});a.uu=a.cp.then(function(){return p.nh(a,w)});return e.all([b,a.uu])};g.prototype.Zc=function(a){var b=a.elements.map(function(a){return a.ec}),c=this.ed;a.cp=a.uu.then(function(){return c.tg(a,b)});return q.prototype.Zc.apply(this,arguments)};g.prototype.ki=
function(a){return new d(a,this.sb)};return g});u(173,0,function(){function d(d){q.prototype.constructor.call(this,d,m.Ve)}function g(d,e,b){p.prototype.constructor.call(this,d,e,b)}var r=h(8),p=h(162),q=h(161),m=h(15);r.Y(q,d);d.prototype.Mk=function(){return!0};r.Y(p,g);g.prototype.ki=function(k){return new d(k)};return g});u(174,0,function(){function d(a,b,c,e,d,f,l,k,m,g){this.aa=a;this.D=b;this.W=c;this.Fd=e;this.Mb=f;this.ua=l;this.Cb=k;this.Ea=m;this.Z=g}h(13);var g=h(15),r=h(108),p=h(126);
h(129);h(130);h(131);h(132);var q=h(133),m=h(135),k=h(136),e=h(138);h(142);var b=h(143),a=h(144),c=h(146),f=h(147),l=h(150),n=h(155),t=h(156);h(157);var v=h(158),z=h(159);h(162);var u=h(163),A=h(164),w=h(165);h(166);var S=h(167),O=h(169),J=h(171),N=h(172),B=h(173);d.prototype.get=function(a){return this[a]()};d.prototype.LI=function(){return new r(this.D,this.W,this)};d.prototype.has=function(a){return"function"===typeof this[a]};d.prototype[g.qj]=function(){return e.B(this.D).then(function(){var a=
new e(this.D),b=new z(this.W,this.Z);return new p(b,a)}.bind(this))};d.prototype[g.w]=function(){return n.B(this.D,this.W).then(function(){var a=new n(this.D,this.W,this.Ea),b=new q(g.w,this.aa,this.Fd,this.Mb,this.ua,a);b.ll(this.Ea);b=new O(g.w,b,this.Z,this.W,this.ua,this.W.Ds);return new p(b,a)}.bind(this))};d.prototype[g.rc]=function(){return n.B(this.D,this.W).then(function(){var a=new n(this.D,this.W,this.Ea),b=new q(g.rc,this.aa,this.Fd,this.Mb,this.ua,a);b.ll(this.Ea);b=new O(g.rc,b,this.Z,
this.W,this.ua,this.W.Mi);return new p(b,a)}.bind(this))};d.prototype[g.Dc]=function(){return n.B(this.D,this.W).then(function(){var a=new n(this.D,this.W,this.Ea),b=new q(g.Dc,this.aa,this.Fd,this.Mb,this.ua,a);b.ll(this.Ea);b=new O(g.Dc,b,this.Z,this.W,this.ua,this.W.Bs);return new p(b,a)}.bind(this))};d.prototype[g.Ve]=function(){return v.B(this.D,this.W).then(function(){var a=new v(this.D,this.W,this.Ea),b=new q(g.Ve,this.aa,this.Fd,this.Mb,null,a);b.ll(this.Ea);b=new B(g.Ve,b,this.Z);return new p(b,
a)}.bind(this))};d.prototype[g.$]=function(){return c.B(this.D,this.W).then(function(){var a=new c(this.D,this.W),b=new q(g.$,this.aa,this.Fd,this.Mb,null,a);b=new u(g.$,b,null,this.W.Mi,this.W);return new p(b,a)}.bind(this))};d.prototype[g.Ec]=function(){return c.B(this.D,this.W).then(function(){var a=new c(this.D,this.W),b=new q(g.Ec,this.aa,this.Fd,this.Mb,null,a);b=new u(g.Ec,b,null,this.W.Fn,this.W);return new p(b,a)}.bind(this))};d.prototype[g.qa]=function(){return t.B(this.D).then(function(){var a=
new t(this.D,this.Ea),b=new q(g.qa,this.aa,this.Fd,this.Mb,this.Cb,a);b.ll(this.Ea);b=new N(b,this.Z,this.W,this.Cb,this.Ea,this.W.Mi);return new p(b,a)}.bind(this))};d.prototype[g.V]=function(){return l.B(this.D).then(function(){var a=new l(this.D),b=new m(this.aa,this.Fd,this.Mb,this.ua,a);b=new J(b,this.Z,this.W,this.ua,this.W.Mi);return new p(b,a)}.bind(this))};d.prototype[g.U]=function(){return b.B(this.D,this.W).then(function(){var a=new b(this.D,this.W),c=new q(g.U,this.aa,this.Fd,this.Mb,
null,a);c=new A(c,null,this.W.Fn);return new p(c,a)}.bind(this))};d.prototype[g.gc]=function(){return a.B(this.D,this.W).then(function(){var b=new a(this.D,this.W),c=new q(g.gc,this.aa,this.Fd,this.Mb,null,b);c=new w(this.Mb,c,this.Z,this.W.Tq);return new p(c,b)}.bind(this))};d.prototype[g.Gf]=function(){return f.B(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,a,g.Gf,!1);b=new S(g.Gf,b,this.Z,this.W);return new p(b,a)}.bind(this))};d.prototype[g.$d]=function(){return f.B(this.D).then(function(){var a=
new f(this.D),b=new k(this.aa,a,g.$d,!1);b=new S(g.$d,b,this.Z,this.W);return new p(b,a)}.bind(this))};d.prototype[g.Ig]=function(){return f.B(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,a,g.Ig,!1);b=new S(g.Ig,b,null,this.W);return new p(b,a)}.bind(this))};d.prototype[g.Df]=function(){return f.B(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,a,g.Df,!1);b=new S(g.Df,b,this.Z,this.W);return new p(b,a)}.bind(this))};d.prototype[g.se]=function(){return f.B(this.D).then(function(){var a=
new f(this.D),b=new k(this.aa,a,g.se,!1);b=new S(g.se,b,this.Z,this.W);return new p(b,a)}.bind(this))};d.prototype[g.ue]=function(){return f.B(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,a,g.ue,!0);b=new S(g.ue,b,this.Z,this.W);return new p(b,a)}.bind(this))};d.prototype[g.ub]=function(){return f.B(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,a,g.ub,!0);b=new S(g.ub,b,null,this.W);return new p(b,a)}.bind(this))};d.prototype[g.Te]=function(){return f.B(this.D).then(function(){var a=
new f(this.D),b=new k(this.aa,a,g.Te,!0);b=new S(g.Te,b,this.Z,this.W);return new p(b,a)}.bind(this))};return d});u(175,0,function(){function d(d){return d}function g(d,e,b){return 0>b?m.I.clone(d):1<b?m.I.clone(e):p(d,e,b)}function r(d,e,b){return 1<=b?e:d}function p(d,e,b){return m.I.eh(m.I.create(),d,e,b)}function q(d,e,b){return d+(e-d)*b}var m=h(3);d.yP=function(){console.assert(!0)};g.lv=!0;r.lv=!0;return{hc:q,mA:function(d,e,b){return 0===d?e:0===e?d:q(d,e,b)},Ih:function(d,e,b){return 1<=
b?e:d},gP:function(d,e,b){return m.g.eh(m.g.create(),d,e,b)},hP:function(d,e,b){return m.Ba.eh(m.Ba.create(),d,e,b)},iP:p,COLOR:g,Oz:r,Oo:function(d,e,b){return q(d?1:0,e?1:0,b)},Qt:function(d){return d},Kz:function(d,e){return d||e},GO:function(d,e){return d&&e},ju:d}});u(176,0,function(){function d(d,g,h){this.Kd=[];this.Uv=d;this.Ng={};this.$l=g;for(this.kD=h;g<=h;g++)this.Kd.push({Yc:g});h=d.iM();g=0;for(d=h.length;g<d;g++)this.Ng[h[g]]=null}var g=h(3);h(15);d.prototype.value=function(d,h,q){q&&
this.Uv.WK(d)?this.Kd[h-this.$l][d]=g.I.l(q[0]/255,q[1]/255,q[2]/255,q[3]/255):this.Kd[h-this.$l][d]=q;return this};d.prototype.uC=function(d){if(d<=this.$l)return{ns:0,hs:1,t:0};if(d>=this.kD)return d=this.Kd.length-1,{ns:d-1,hs:d,t:1};var g=Math.floor(d),h=g-this.$l;return{ns:h,hs:h+1,t:d-g}};d.prototype.Gy=function(d){this.nF=d;var g;if(1===this.Kd.length)for(g in this.Ng=this.Kd[0],this.Ng)this[g]=this.Ng[g];else for(g in d=this.uC(d),this.Ng)this.Ng[g]=this.Uv.dn(g,this.Kd[d.ns][g],this.Kd[d.hs][g],
d.t),this[g]=this.Ng[g]};d.prototype.MK=function(){for(var d=0,g=this.Kd.length;d<g;d++){var h=this.Kd[d];if(h.tl||h.Dk)return!0}return!1};return d});u(177,0,function(){function d(d){this.dn=d}function g(d){this.type=d;this.X={}}var r=h(175),p=h(176);d.prototype.default=function(d){this.defaultValue=d;return this};for(var q in r)g[q]=function(g){return function(){return new d(g)}}(r[q]);g.prototype.WK=function(d){return this.X[d].dn.lv};g.prototype.Hm=function(d,k){for(var e=new p(this,d,k);d<=k;d++)for(var b in this.X)e.value(b,
d,this.X[b].defaultValue);return e};g.prototype.dn=function(d,k,e,b){return this.X[d].dn(k,e,b)};g.prototype.iM=function(){return Object.keys(this.X)};return g});u(178,0,function(){function d(a,b){this.xp=m.Fb();this.IE=a;this.Kd=b}function g(){this.reset();this.np=-1}var r=h(3),p=h(15),q=h(177),m=h(5),k=h(11),e={},b=new q(p.U);b.X.zIndex=q.hc().default(0);b.X.nc=q.hc().default(0);b.X.strokeColor=q.COLOR().default(r.I.l(0,0,0,0));b.X.fillColor=q.COLOR();b.X.ab=q.Ih().default(-1);b.X.visible=q.Qt();
e[p.U]=b;b=new q(p.Fa);b.X.color=q.COLOR().default(r.I.l(0,0,0,0));b.X.nt=q.hc().default(0);b.X.ot=q.hc().default(0);b.X.Lr=q.hc().default(0);b.X.Kr=q.hc().default(0);b.X.ys=q.hc().default(0);b.X.xs=q.hc().default(0);e[p.Fa]=b;b=new q(p.gc);b.X.zIndex=q.hc().default(0);b.X.visible=q.Kz();b.X.rt=q.hc();b.X.nc=q.hc().default(0);b.X.strokeColor=q.COLOR().default(r.I.l(1,1,1,0));b.X.Bt=q.hc().default(0);b.X.Wi=q.COLOR().default(r.I.l(1,0,0,1));b.X.ri=q.COLOR().default(r.I.l(1,0,0,1));b.X.$g=q.COLOR().default(r.I.l(1,
0,0,1));b.X.$i=q.COLOR().default(r.I.l(1,0,0,1));e[p.gc]=b;[p.w,p.rc,p.Dc].forEach(function(a){var b=new q(a);b.X.Kk=q.hc().default(0);b.X.ge=q.mA().default(0);b.X.uf=q.COLOR();b.X.sg=q.COLOR();b.X.padding=q.Ih().default(0);b.X.je=q.Ih().default(0);e[a]=b});[p.qa].forEach(function(a){var b=new q(a);b.X.height=q.Ih().default(0);e[a]=b});[p.$,p.Ec].forEach(function(a){var b=new q(a);b.X.Rm=q.Ih().default(0);b.X.ao=q.Ih().default(0);b.X.width=q.hc();b.X.nc=q.hc().default(0);b.X.fillColor=q.Oz();b.X.Uw=
q.COLOR();b.X.Rn=q.Oo();b.X.jn=q.Oo();b.X.kn=q.Qt();b.X.Dk=q.ju().default(0);b.X.tl=q.ju().default(0);b.X.strokeColor=q.COLOR().default(r.I.l(255,255,255,0));b.X.Pr=q.Oo().default(!1);e[a]=b});[p.Ve].forEach(function(a){var b=new q(a);b.X.Ym=q.hc().default(1);b.X.$m=q.hc().default(1);e[a]=b});d.prototype.SK=function(a){var b=""+this.xp,e;for(e in a)b+="-"+e+":"+a[e];return b};d.prototype.Hm=function(a){var b=Object.keys(a).map(function(a){return parseInt(a)}),e=Math.min.apply(null,b),d=Math.max.apply(null,
b);e=this.IE.Hm(e,d);d=0;for(var k=b.length;d<k;d++){var g=b[d],m=this.Kd[a[g]],h;for(h in m)e.value(h,g,m[h])}return e};g.prototype.MD=function(a){a.once("destroyed",this.RE,this)};g.prototype.RE=function(a){a.yr(function(a){a.bb.jm.count--});this.Iu()};g.prototype.update=function(a){a=a.Ik();if(a!==this.np){for(var b in this.Og){var e=this.Og[b];e.count&&e.style.Gy(a)}this.np=a;this.M("styles-updated")}};g.prototype.QB=function(a,b,e){var c={},f;var k=0;for(f=a.length;k<f;k++){var g=a[k];g=m.Re(g.Vb.cb);
for(var h=0,p=g.length;h<p;h++){var q=g[h];c[q]=e[q]}}b=new d(b,c);k=0;for(f=a.length;k<f;k++)g=a[k],c=g.Vb.cb,q=b.SK(c),(e=this.Og[q])?(e.En++,c=e.style):(c=b.Hm(c),c.Gy(this.np),c.kP=q,e={style:c,count:0,En:1},c.jm=e,this.Og[q]=e),g.bb=c};g.prototype.kb=function(a,b){a.$B.forEach(function(c){var d=e[c],f=a.elements.filter(function(a){return a.type===c});this.QB(f,d,b)}.bind(this));a.race().add("loaded",this.KE,this).add("loading-failed",this.Yv.bind(this,a),this).add("loading-aborted",this.Yv.bind(this,
a),this)};g.prototype.KE=function(a){a.yr(function(a){a.bb.jm.En--;a.bb.jm.count++});this.MD(a)};g.prototype.Yv=function(a){a.yr(function(a){a.bb.jm.En--},this);this.Iu()};g.prototype.Iu=function(){for(var a in this.Og){var b=this.Og[a];0===b.count&&0===b.En&&delete this.Og[a]}};g.prototype.reset=function(){this.Og={}};k.da(g.prototype);g.prototype.reset=g.prototype.reset;g.prototype.update=g.prototype.update;return g});u(179,0,function(){function d(e,b,a){this.Z=a;this.W=e;this.labels={};this.ad=
{};this.yi={};this.Lm=this.nr=!1;this.Io=b;this.Mj=[];this.Sj=[];this.Lj=[];this.Qh=[];this.Vh=[];this.id=r.Fb();this.hk=this.Rj=!1;this.Sh=null}var g=h(11),r=h(5),p=h(13),q=h(0),m=h(10),k=h(25);h(4);d.prototype.count=function(){return r.Re(this.labels).length};d.prototype.lb=function(){var e=this,b=this.Io.ma({Gk:3},this.id,64,this.W.zc).then(function(){return e.Oe(!1)});b.then(function(){e.mP=0});return b};d.prototype.Oe=function(e){this.XK=e;return this.Io.ma({Gk:4},this.id,e)};d.prototype.reset=
function(){var e=r.Re(this.labels);e=this.tg(e);this.Zp(!1);return e};d.prototype.PA=function(e,b){if(this.XK&&!b.length){for(var a={},c=e.uq,d=c[0];d<=c[1];d++)a[d]=q.Cx;a=new k(m.Zt,{ea:e,Vb:{},uc:a},r.Fb());a.Ub=""+a.id;a.bg=-1;e.Wu=a;b.push(a)}};d.prototype.Je=function(){this.nr=!0};d.prototype.vi=function(){this.Lm=!0};d.prototype.ev=function(){return this.Mj.length||this.Sj.length||this.Lj.length||this.Qh.length||this.Vh.length};d.prototype.nh=function(e,b){this.PA(e,b);if(0===b.length)return p.resolve("__no-labels__");
e=0;for(var a=b.length;e<a;e++){var c=b[e];c.dh();c.kl(this.Z)}this.Mj.push.apply(this.Mj,b);this.vi();return this.sq()};d.prototype.tg=function(e,b){e.Wu&&b.push(e.Wu);if(0===b.length)return p.resolve("__no-labels__");this.vi();this.Sj.push.apply(this.Sj,b);return this.sq()};d.prototype.mh=function(e){for(var b in e)if(!(b in this.ad)){var a=e[b];a.id=b;this.ad[b]=a;this.Lj.push(a)}if(!this.Lj.length)return p.resolve("__no-collisions__");this.vi();return this.sq()};d.prototype.Ne=function(e){var b=
this.Vh.indexOf(e);-1!==b?this.Vh.splice(b,1):(this.vi(),this.Qh.push(e))};d.prototype.Se=function(e){var b=this.Qh.indexOf(e);-1!==b?this.Qh.splice(b,1):(this.Vh.push(e),this.vi())};d.prototype.update=function(e,b,a,c){if(this.nr){this.nr=!1;var d="labels-update-"+r.Fb();this.qE(e,b,a,c,e.Ik(),d)}this.Lm&&(this.Lm=!1,this.Zp(!0))};d.prototype.fo=function(){this.Zp(!1)};d.prototype.$E=function(e){var b=this.labels,a;var c=0;for(a=e.length;c<a;c++){var d=e[c],l=b[d.id];l&&l.sO(d)}};d.prototype.qE=
function(e,b,a,c,d,l){if(this.hk)this.Je();else{this.hk=!0;var f=[],k=[],g;for(g in this.labels){var m=this.labels[g];m.Gt();m.Lk()&&(m=m.nd(this.IC(m.element.dK)),f.push(m))}for(g in this.yi)m=this.yi[g],m.Lk()&&(m=m.nd(),k.push(m));var h=this;this.Io.ma({Gk:5},this.id,f,k,e.Qb,b,d,a,c,l).then(function(a){h.$E(a);h.hk=!1;h.M("labels-updated",a.length)})}};d.prototype.IC=function(e){if(this.Sh&&null!=e)return{ff:this.Sh.includes&&0>this.Sh.includes.indexOf(e)||this.Sh.Nm&&0<=this.Sh.Nm.indexOf(e)}};
d.prototype.RM=function(e){this.Sh=null===e?null:Array.isArray(e.includes)?{includes:e.includes.reduce(this.Hu.bind(this),[])}:{Nm:e.Nm.reduce(this.Hu.bind(this),[])};this.Je()};d.prototype.Hu=function(e,b){return b in this.W.ny?e.concat(this.W.ny[b]):e};d.prototype.Zp=function(e){if(this.ev())if(this.Rj)this.vi();else{this.Rj=!0;var b=[],a=[],c=[],d=[],l=[];this.Mj.forEach(function(a){b.push(a.Cd());this.labels[a.id]=a},this);this.Sj.forEach(function(b){a.push(b.id);b.Xm();delete this.labels[b.id]},
this);this.Lj.forEach(function(a){c.push(a);this.ad[a.id]=a},this);this.Qh.forEach(function(a){d.push(a.Cd());a.Ma("property-changed",this.Je,this);this.yi[a.id]=a},this);this.Vh.forEach(function(a){l.push(a.id);a.va("property-changed",this.Je,this);delete this.yi[a.id]},this);this.Lj=[];this.Mj=[];this.Sj=[];this.Qh=[];this.Vh=[];this.M("labels-registrations-start");var k=this;this.Io.ma({Gk:6},this.id,b,a,c,d,l).then(function(){if(e)return k.Je(),k.Kt()}).then(function(){k.Rj=!1;k.M("labels-registrations-end")})}};
d.prototype.Go=function(e){e[this.id+"-update-work-unit-runnning"]=this.hk;e[this.id+"-registration-work-unit-runnning"]=this.Rj;return this.hk||this.Rj};d.prototype.Yp=function(e){var b=this;return new p(function(a){b.once(e,function(){a()})})};d.prototype.Kt=function(){return this.Yp("labels-updated")};d.prototype.jF=function(){return this.Yp("labels-registrations-start")};d.prototype.kF=function(){return this.Yp("labels-registrations-end")};d.prototype.sq=function(){return this.Lm&&this.ev()?this.jF().then(this.kF.bind(this)):
p.resolve()};g.da(d.prototype);return d});u(180,0,function(){var d=h(12);return{da:function(g){g.prototype.KI=function(){return new d};g.prototype.Ne=function(d){this.ua.Ne(d);d.lP=!0};g.prototype.Se=function(d){this.ua.Se(d)};g.prototype.createLabelRegion=g.prototype.KI;g.prototype.registerLabelRegion=g.prototype.Ne;g.prototype.unregisterLabelRegion=g.prototype.Se}}});u(181,0,function(){function d(d){this.i=d;this.Tb=d.createRenderbuffer();this.Td();this.once("released",this.ya,this)}var g=h(22);
d.prototype.bind=function(){var d=this.i;d.bindRenderbuffer(d.RENDERBUFFER,this.Tb);return this};d.prototype.m=function(){var d=this.i;d.bindRenderbuffer(d.RENDERBUFFER,null);return this};d.prototype.jI=function(d,g){var h=this.i;h.renderbufferStorage(h.RENDERBUFFER,h.RGBA4,d,g);return this};d.prototype.kI=function(d,g){var h=this.i;h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,d,g);return this};d.prototype.uw=function(d,g){var h=this.i;h.renderbufferStorage(h.RENDERBUFFER,h.STENCIL_INDEX8,
d,g);return this};d.prototype.Nb=function(){return this.Tb};d.prototype.ya=function(){this.i.deleteRenderbuffer(this.Tb);this.Tb=null};g.da(d.prototype);d.prototype.bind=d.prototype.bind;d.prototype.unbind=d.prototype.m;d.prototype.glObject=d.prototype.Nb;d.prototype.destroy=d.prototype.ya;d.prototype.asColor=d.prototype.jI;d.prototype.asDepth=d.prototype.kI;d.prototype.asStencil=d.prototype.uw;return d});u(182,0,function(){function d(d){r.Qa(this)&&(this.id=p.Fb(),this.oe=d)}var g=h(103),r=h(8),
p=h(5),q=h(22),m=h(13);d.prototype.getData=function(d){var e=d.url,b="#decoded-"+e+"-"+this.id,a=null,c=this.oe;if(c.has(b))a=c.get(b);else{var f=this.Sw(d),l,k=new m(function(a,b){l=b}),h=this;a=f.then(function(b){a.va("released",null,f);return h.UI(b,d).catch(function(a){a+=", url = '"+e+"'";return m.reject(a)})});a=m.race([a,k]);q.da(a);a.Td();a.once("released",function(){f.abort("--loading-aborted--")},f);a.once("released",l,this);c.add(b,a,g.qA)}return a.De()};return d});u(183,0,function(){function d(a,
b){this.Ls=b.Xd;this.cb=b.cb;this.ad=b.ad;this.Ii=b.Ii;this.Ni=b.Ni;this.Am=b.Am;this.uh=b.uh;this.vf=b.vf;this.dd=b.dd;this.il=b.il;this.zk=b.zk;this.bl=b.bl;this.Xd={};this.aa=a;this.Td();this.Ma("released",this.ND,this)}function g(a){k.Qa(this)&&p.prototype.constructor.call(this,a)}function r(a,b){g.prototype.constructor.call(this,a);this.VI=b}var p=h(182),q=h(103),m=h(15),k=h(8),e=h(5),b=h(22),a=h(21),c=h(0);h(13);var f={};d.prototype.mM=function(){this.KD();this.JD();return this};d.prototype.JD=
function(){function a(a){for(var b=[],d=0,f=a.length;d<f;d++){var l=e.Fb();c.add(l,a[d]);b.push(l)}return b}var b=this.Ls,c=this.aa;this.Xd.Od=a(b.Od);this.Xd.li=a(b.li);this.Xd.oc=a(b.oc)};d.prototype.KD=function(){for(var a=this.vf,b=[],c=0,e=a.length;c<e;c++){var d=a[c],f=0,l=d.Fi;if(l){do{var k={},g;for(g in d)k[g]=d[g];var m={},h=!1,p;for(p in l){var q=l[p];f>=q.length?m[p]=null:(m[p]=q[f],h=!0)}k.Fi=m;if(h)b.push(k);else break;f++}while(1)}else b.push(d)}this.vf=b};d.prototype.ND=function(){for(var a in this.Xd)this.Xd[a].forEach(this.aa.remove,
this.aa)};b.da(d.prototype);k.Y(p,g);var l={};l[m.U]="standard";l[m.$]="road";l[m.Ec]="standard";l[m.V]="road";l[m.rc]="road";l[m.qa]="road";l[m.w]="standard";l[m.Dc]="poi";l[m.gc]="building";l[m.Ve]="poi";g.prototype.OK=function(a,b){var e=a.key,d=a.language||"",f=a.Ie||"",l=a.Me||"",k=a.yb||c.Xg,g=a.xb||c.Wg;return"x="+e.x+"&y="+e.y+"&z="+e.z+"&scale="+a.scale+"&style="+a.Qc+"&v="+a.Zb+"&type="+b+(a.nf?"&lo=1":"")+(d.length?"&lang="+d:"")+(f.length?"&country="+f:"")+(l.length?"&region="+l:"")+(k.length?
"&tint="+k:"")+(g.length?"&emphasis="+g:"")};g.prototype.tM=function(a,b){var c=a.key;return{Qn:"vtile",x:c.x,y:c.y,z:c.z,type:b,Qc:a.Qc,scale:a.scale,language:a.language||"",Ie:a.Ie||"",Me:a.Me||"",Zb:a.Zb,sc:a.key.x+a.key.z}};g.prototype.kf=function(a,b){var c="vtile?"+this.OK(a,b);b=this.tM(a,b);return{url:c,data:b,key:a.key}};g.prototype.fetch=function(a,b){a=this.kf(a,b);return this.Sw(a)};g.prototype.vK=function(a,b){b=this.kf(a,l[b]);var c=this.getData(b);return c.Rr()?(a.once("loading-aborted",
function(){c.release()}),c.Hb()):c};g.prototype.UI=function(b,c){var e=this;return this.fr(b,c).then(function(a){return new d(e.oe,a)}).then(function(b){b.Hb();a.vj.ma(b.release,b);return b.mM()})};k.Y(g,r);r.prototype.fr=function(a,b){return this.VI.fr(a,b.key)};r.prototype.Sw=function(a){return this.oe.get(a.url,q.No,a.data,q.Eg)};f.Vz=r;f.A=d;return f});u(185,0,function(){function d(d,h){this.Vd=d;this.xe=0;this.Wc=h||g.g.l(0,0);this.Xc=g.Ba.create()}var g=h(3),r=h(0);d.prototype.reset=function(d,
h,m){this.ci=d[0]/d[1];var k=Math.pow(2,m-h.rb.z),e=Math.pow(2,-m);this.Qb=g.S.cg(g.S.create());var b=h.coords;e=g.Ba.l(this.Wc[0]*e-b[0]-h.size/2,-this.Wc[1]*e-b[1]-h.size/2,0);d=this.Vd/(h.size*d[0]*.5);g.S.scale(this.Qb,this.Qb,g.Ba.l(d,d*this.ci,1));g.S.scale(this.Qb,this.Qb,g.Ba.l(k,k,0));g.S.translate(this.Qb,this.Qb,e);this.Fz=m;this.Ot=r.tn;this.Xc=e};d.prototype.tw=function(){return!1};d.prototype.lf=function(){return this.Fz};d.prototype.Ik=function(){return this.Fz-this.Ot+r.pz};d.prototype.ht=
function(d){this.xe=d;this.reset()};d.prototype.rx=function(){return!1};d.prototype.ds=function(){return 0};d.prototype.Ko=function(){return 0};d.prototype.Mq=function(){return 0};d.prototype.lt=function(){};d.prototype.it=function(){};d.prototype.ui=function(){return this.Xc};d.prototype.update=function(){};d.prototype.ui=function(){return this.Xc};return d});u(186,0,function(){function d(b,a,c){this.id=b;this.jf=a;this.Xs={};this.na=c;this.uM()}function g(b,a,c){0===b&&q.forward(m,this);this.Nt=
Array(b);this.tq=b;for(var e=0;e<b;e++){var l=new d(e,a,c);q.forward(l,this);this.Nt[e]=l}this.QI=-1}var r=h(13);h(4);var p=h(5),q=h(11),m=h(40),k=h(21);var e={global:{},sP:"./",rP:"worker-api",bT:{}};d.prototype.uM=function(){this.Ah||(this.Ah=this.jf());var b=this;this.B=new r(function(a){b.Ah.onmessage=function(c){"initialized"===c.data.id&&(b.Ah.onmessage=function(a){return k.Bf.ma(function(){b.qD(a.data)})},a())}});var a={id:"init",FI:e,na:this.na.Ny()};this.Ah.postMessage(a)};d.prototype.qD=
function(b){switch(b.type){case "result":var a=b.xi,c=this.Xs[a];delete this.Xs[a];c.resolve(b.result);break;case "error":c.reject(b.reason);case "message":this.M(b.key,b.value)}};d.prototype.ma=function(b,a,c){var e={xi:c,Ah:this,Sm:b.Gk,Nq:a};b=new r(function(a,b){e.resolve=a;e.reject=b});e.In=b;this.oE(e);return e};d.prototype.oE=function(b){var a=this;this.B.then(function(){a.Xs[b.xi]=b;a.Ah.postMessage({id:"run",xi:b.xi,Sm:b.Sm,Nq:b.Nq})})};q.da(d.prototype);g.prototype.mF=function(b,a,c){var e=
++this.QI%this.tq;return this.Nt[e].ma(b,a,c).In};g.prototype.HE=function(b,a){return r.timeout(0).then(function(){var c=m.ma(b.Gk,a);return k.Bf.ma(function(){return c})}.bind(this))};g.prototype.ma=function(b,a,c,e,d,k,g,m,h,q){var f=p.Fb();a=[a,c,e,d,k,g,m,h,q];return 0!==this.tq?this.mF(b,a,f):this.HE(b,a)};g.prototype.ya=function(){0!==this.tq&&this.Nt.forEach(function(b){b.Ah.terminate()})};q.da(g.prototype);return g});u(187,0,function(){function d(d){this.OE=d;this.ce={};this.Qf=!0;this.cF=
Math.floor(60/r.cO);this.jD=10;this.pv=Date.now();this.reset()}var g=h(11),r=h(0),p=h(3),q=h(20);d.prototype.LD=function(d,k){d=this.OE.wK(d,k);k={};var e,b;this.Qf=!1;var a=0;for(e=d.length;a<e;a++){var c=d[a];(b=this.ce[c.id])?(k[c.id]=b,delete this.ce[c.id]):(this.Qf=!0,b=new q(c),k[c.id]=b,this.M("tile-created",b))}for(a in this.ce)this.Qf=!0,b=this.ce[a],this.M("tile-destroyed",b);this.ce=k};d.prototype.reset=function(){for(var d in this.ce)this.M("tile-destroyed",this.ce[d]);this.ce={};this.Eu=
this.Vp=0;this.Dv=p.Ba.l(-1E3,-1E3,0)};d.prototype.Zk=function(){return this.Qf};d.prototype.update=function(d,k){var e=Date.now(),b=(e-this.pv)/1E3,a=d.ui(),c=d.lf();b=Math.abs(c-this.Eu)/b;this.Eu=c;c=!1;b>this.jD&&(this.Vp=0,c=this.Qf=!0);if((b=.5<Math.abs(a[0]-this.Dv[0]))||!c)c=b||0===this.Vp++%this.cF,this.Dv=a,c?(this.LD(d,k),this.Vp=1,this.Qf=!1):this.Qf=this.Qf||!d.zt(),this.pv=e};d.prototype.nL=function(d){console.assert(void 0===this.ce[d.rb.id]);this.ce[d.rb.id]=d;this.M("tile-created",
d)};d.prototype.wf=function(){return this.ce};g.da(d.prototype);d.prototype.tiles=d.prototype.wf;return d});u(188,0,function(){function d(d){this.rq=[];this.nm=new g(d);this.nm.Ma("tile-created",this.pf,this);this.nm.Ma("tile-destroyed",this.ig,this)}var g=h(187);d.prototype.Qe=function(){return this.nm};d.prototype.pw=function(d){this.rq.push(d)};d.prototype.pf=function(d){this.rq.forEach(function(g){g.pf(d)})};d.prototype.ig=function(d){this.rq.forEach(function(g){g.ig(d)})};d.prototype.update=
function(d,g){this.nm.update(d,g)};d.prototype.addView=d.prototype.pw;d.prototype.update=d.prototype.update;d.prototype.tileManager=d.prototype.Qe;return d});u(189,0,function(){function d(d,g,m){this.Ln=m;this.style=g.Qc;this.scale=g.scale;this.yb=g.yb;this.xb=g.xb;this.lw={};this.alpha=1;g=this.Ln[0];m=this.Ln[1];for(var k=d[g];g<=m;){this.lw[g]=k;g++;var e=d[g];e&&(k=e)}this.reset()}var g=h(3),r=h(13);d.prototype.reset=function(){this.angle=0;this.Kg=-1;this.icon=null;this.Aa=g.g.l(0,0);this.Jo=
{}};d.prototype.tC=function(d){return this.lw[d]};d.prototype.sC=function(d,g){g=Math.min(Math.max(this.Ln[0],g),this.Ln[1]);var m=this.tC(g);if("0"===m)return r.resolve(null);var k=this.Jo[g];if(k)return k;k=d.lL(this,m,g);this.Jo[g]=k.then(function(e){e&&e.Hb();return e});return k};d.prototype.kt=function(d,g){this.Kg=g;d=this.sC(d,g);d=d.catch(function(){return null});return d=d.then(function(d){return this.sE(d,g)}.bind(this))};d.prototype.sE=function(d,g){this.Kg===g&&(d?(this.Aa[0]=d.width,
this.Aa[1]=d.height):(this.Aa[0]=0,this.Aa[1]=0),this.icon=d);return this};d.prototype.re=function(d){this.position=d.origin;g.g.l(.5*-this.Aa[0],.5*-this.Aa[1])};d.prototype.mf=function(){return this.Aa};d.prototype.co=function(){for(var d in this.Jo)this.Jo[d].then(function(d){d&&d.release()})};return d});u(190,0,function(){function d(d,g){this.XA=d.Hb();this.width=d.size[0]/g;this.height=d.size[1]/g;this.once("released",d.release,d);this.Td()}var g=h(22);d.prototype.di=function(){return this.XA};
g.da(d.prototype);return d});u(191,0,function(){function d(b,a,c){this.Qq=c;this.aa=b;this.QK="icon";this.Kg=0;this.na=a;this.Wl={};this.Mg={};this.Du={}}var g=h(103),r=h(11),p=h(13),q=h(189),m=h(21),k=h(0),e=h(190);d.prototype.fetch=function(b){var a=b.scale,c=b.Dd,e=b.attributes,d=b.yb,k=b.xb,m=b.name,h="scale="+a+"&subtype="+c+"&tint="+d+"&emphasis="+k;a={Qn:"icon",scale:a,Dd:c,yb:d,xb:k,sc:b.sc};"poi"===c?(c=b.size||0,m=b.style,b=b.zoom||0,a.style=m,a.zoom=b,a.attributes=e,h=h+("&style="+m)+("&zoom="+
b)+("&attributes="+encodeURIComponent(e)),(a.size=c)&&(h+="&size="+c)):"named"===c?(a.name=m,h+="&name="+m):(c=b.size||0,m=b.style,e=b.Cw,b=b.wz,a.style=m,a.Cw=e,h=h+("&style="+m)+("&cartoId="+e),a.wz=b,h+="&transitType="+b,(a.size=c)&&(h+="&size="+c));return this.aa.get(this.QK+"?"+h,g.Ef,a,g.Eg)};d.prototype.hC=function(b,a,c,e,d,g,k){b=this.Wl[b];var f="",l=0,m;for(m in b){var n=b[m];f+=m+":"+n+",";l+=n}f=f.slice(0,-1);k.scale=c;k.style=e;k.Dd="poi";k.zoom=a;k.yb=d;k.xb=g;k.attributes=f;k.sc=l};
d.prototype.Mu=function(b,a,c,e,d,k){return b+":"+a+":"+c+":"+e+":"+d+":"+k};d.prototype.lL=function(b,a,c){var e=b.scale,d=b.style,k=b.yb;b=b.xb;var g=this.Mu(a,c,e,d,k,b),m=this.Mg[g];if(!m){var h=this;this.hC(a,c,e,d,k,b,this.Du);m=this.fetch(this.Du).then(function(a){return h.uv(a,e)});this.Mg[g]=m;m.then(function(a){a.once("released",function(){delete h.Mg[g]})});m.catch(function(){delete h.Mg[g]})}return m};d.prototype.uv=function(b,a){b=this.Qq.Hs(b);return(new e(b,a)).De()};d.prototype.hM=
function(b){var a=b.dd;b=a.bn;a=a.cb;for(var c in b)if(!this.Wl[c]){var e=b[c];console.assert(0<=e);console.assert(e<a.length);this.Wl[c]=a[e].attributes}p.resolve("__icon-data-ready__")};d.prototype.XI=function(b){for(var a=[],c=b.elements,e=0,d=c.length;e<d;e++){var k=c[e],g=k.Vb;if(g.dd){var m=this.MC(k,b,g.dd);a.push(m);this.LC(k,g.dd)}}b.once("destroyed",this.aw,this);return p.all(a)};d.prototype.MC=function(b,a,c){a=new q(c,a,a.uq);c=a.kt(this,this.Kg);this.Ma("zoom-changed",a.kt.bind(a,this),
a);b.vc=a;return c};d.prototype.LC=function(b,a){for(var c=Object.keys(a),e=0,d=c.length;e<d;++e){var k=this.Wl[a[c[e]]];if(k&&k.hasOwnProperty("6")&&(k=k["6"],this.na.UL[k])){b.dK=k;break}}};d.prototype.aw=function(b){var a=b.elements.map(function(a){return(a=a.vc)?(this.va("zoom-changed",null,a),a):null},this);m.tj.ma(function(){a.forEach(function(a){a&&a.co()})})};d.prototype.WI=function(b){var a=b.elements.map(function(a){return this.qC(b).then(function(b){a.vc=b})}.bind(this));b.once("destroyed",
this.aw,this);return p.all(a)};d.prototype.qK=function(b,a,c,e){return{scale:a,style:b,yb:c,xb:e,Dd:"named",name:this.na.Us[b],sc:0}};d.prototype.qC=function(b){var a=b.Qc,c=b.scale,e=b.yb,d=b.xb,g=this.Mu("__arrow__",0,c,a,e,d),m=this,h=this.Mg[g];h||(h=this.fetch(this.qK(a,c,e,d)).then(function(a){return m.uv(a,c)}).then(function(a){a.width*=.5;a.height*=.5;return a.Hb()}),this.Mg[g]=h,h.catch(function(){delete m.Mg[g]}));return h.then(function(){return(new q({0:"__arrow__"},b,[k.qs,k.qs])).kt(m,
0)})};d.prototype.update=function(b){b=Math.floor(b.Ik());b!==this.Kg&&(this.Kg=b,this.M("zoom-changed",this.Kg))};r.da(d.prototype);return d});u(192,0,function(){function d(d){this.Hn=g.S.create();this.zx=g.S.create();this.view=g.S.create();this.Ax=g.S.create();this.Qb=g.S.create();this.VK=g.S.create();this.Ot=p.tn;this.Yc=3;this.aK=1E3;this.yL=1E-7;this.Tl=30*Math.PI/180;this.bt(d||1);this.Xc=g.Ba.l(0,0,0);this.Qj=g.Ba.create();this.ze=this.xe=0;this.Tf=g.Ba.create();this.Np=g.g.create();this.om=
this.Il=0;this.iq=p.Vd;this.iE();this.gk=Date.now();this.we=!1;this.proj=this.Hn;this.view=this.view;this.viewProj=this.Qb}var g=h(3),r=h(11),p=h(0);d.prototype.clone=function(){var m=new d(this.ci);g.Ba.He(m.Xc,this.Xc);g.Ba.He(m.Qj,this.Qj);m.Yc=this.Yc;m.xe=this.xe;m.ze=this.ze;m.gk=this.gk;m.we=this.we;return m};d.prototype.fK=function(){return this.Tl};d.prototype.iE=function(){this.ze=this.xe=0;this.Qj[0]=this.Xc[0];this.Qj[1]=this.Xc[1];this.Qj[2]=this.Yc;this.Km=!0};d.prototype.bt=function(d){this.ci=
d;this.Km=!0};d.prototype.tw=function(){return this.we};d.prototype.NM=function(d){this.we=d};d.prototype.ds=function(){return this.fD};d.prototype.Ko=function(){return this.om};d.prototype.Mq=function(){return this.Il};d.prototype.vO=function(d,k){this.update(k);var e=.001*(this.gk-d.gk);if(0!==e){e=1/e;g.g.sub(this.Tf,this.Xc,d.Xc);g.g.scale(this.Tf,this.Tf,e);var b=this.my();this.Np[0]=this.Tf[0]*k[0]/b[0];this.Np[1]=this.Tf[1]*k[1]/b[1];this.fD=g.g.length(this.Np);this.Il=(this.xe-d.xe)*e;this.om=
(this.Yc-d.Yc)*e}};d.prototype.update=function(d){this.lF=this.Km;var k=d[0]/d[1];k!==this.ci&&this.bt(k);this.gk=Date.now();this.fF(d);this.bF();this.dF();this.eF()};d.prototype.zt=function(d){var k=!this.we&&0===this.Tf[0]&&0===this.Tf[1]&&0===this.Il&&0===this.om;(d||{}).xP={jU:this.Tf,Mq:this.Il,Ko:this.om};return k};d.prototype.rx=function(){return this.lF};d.prototype.fF=function(g){this.mD=d.kx(g,this.iq);this.lD=d.jx();this.Yc=Math.max(this.Yc,this.mD,2);this.Yc=Math.min(this.Yc,this.lD);
this.Tu=this.kB(g,this.Yc,this.Tl)};d.prototype.bF=function(){g.S.perspective(this.Hn,this.Tl,this.ci,this.yL,this.aK);g.S.eg(this.zx,this.Hn)};d.jx=function(){return 21};d.kx=function(d,k){return g.log2(1+Math.sqrt(d[0]*d[0]+d[1]*d[1])/(k/2))};d.prototype.kB=function(d,k,e){return d[1]/this.iq*Math.pow(2,-k-.001)*.5/Math.tan(.5*e)};d.prototype.my=function(){var d=2*this.Tu*Math.tan(.5*this.Tl);return g.g.l(d*this.ci,d)};d.prototype.dF=function(){g.S.cg(this.view);g.S.translate(this.view,this.view,
g.Ba.l(0,0,-this.Tu));g.S.Vs(this.view,this.view,-this.ze);g.S.Ws(this.view,this.view,this.xe);g.S.translate(this.view,this.view,g.Ba.ts(g.Ba.create(),this.Xc));g.S.eg(this.Ax,this.view)};d.prototype.eF=function(){g.S.multiply(this.Qb,this.Hn,this.view);g.S.multiply(this.VK,this.Ax,this.zx)};var q=g.yh(70);d.prototype.Xy=function(d){this.ze=d;this.ze=Math.max(this.ze,0);this.ze=Math.min(this.ze,q);this.M("pitch",d)};d.prototype.pitch=function(d){this.Xy(this.ze+d)};d.prototype.NL=function(d,k){d=
d||g.yh(22.5);this.pitch(d,k)};d.prototype.OL=function(d,k){d=d||g.yh(22.5);this.pitch(-d,k)};d.prototype.ht=function(d){this.xe=d;this.M("rotate",d)};d.prototype.rotate=function(d){this.ht(d+this.xe)};d.prototype.DM=function(d,k){d=d?g.yh(d):g.yh(10);this.rotate(-d,k)};d.prototype.EM=function(d,k){d=d?g.yh(d):g.yh(10);this.rotate(d,k)};d.prototype.lt=function(d){this.Yc=d;this.Km=!0;this.M("zoom",d)};d.prototype.Ik=function(){return this.lf()-this.Ot+p.pz};d.prototype.lf=function(){return this.Yc};
d.prototype.it=function(d){this.Xc=g.Ba.clone(d);this.Km=!0};d.prototype.ui=function(){return g.Ba.clone(this.Xc)};d.prototype.zO=function(d,k){var e=Math.pow(2,this.Yc)*this.iq;d=[d[0]-.5*k[0],d[1]-.5*k[1]];e=[d[0]/e,-d[1]/e];return g.g.add(g.g.create(),e,this.Xc)};r.da(d.prototype);d.prototype.fovy=d.prototype.fK;d.prototype.getTarget=d.prototype.ui;d.prototype.setTarget=d.prototype.it;d.prototype.setZoomLevel=d.prototype.lt;d.prototype.getZoomLevel=d.prototype.lf;d.prototype.rotateRight=d.prototype.EM;
d.prototype.rotateLeft=d.prototype.DM;d.prototype.rotate=d.prototype.rotate;d.prototype.setRotation=d.prototype.ht;d.prototype.pitch=d.prototype.pitch;d.prototype.setPitch=d.prototype.Xy;d.prototype.pitchDown=d.prototype.NL;d.prototype.pitchUp=d.prototype.OL;d.prototype.update=d.prototype.update;d.prototype.setAspect=d.prototype.bt;d.prototype.hasChangedThisFrame=d.prototype.rx;d.prototype.planeSizeAtZEqual0=d.prototype.my;d.prototype.setAnimating=d.prototype.NM;d.prototype.worldCoordinatesAtPoint=
d.prototype.zO;d.getMaxZoomLevel=d.jx;d.getMinZoomLevel=d.kx;return d});u(193,0,function(){function d(d){var e=d.na,b=d.viewport,a=d.scale;d=d.hl;for(var c=e.zc*e.Ai,f=e.zc*e.zi,l=[0,0,!0,.4,.4,!1,.4,.6,!1,0,1,!1,.4,.6,!1,.6,.6,!1,1,1,!1,.6,.6,!1,.6,.4,!1,1,0,!1,.6,.4,!1,.4,.4,!1,0,0,!0,.5,.5,!0,.5,0,!1,1,.5,!1,.5,.5,!1,.5,1,!1,0,.5,!1,.5,.5,!0,.25,.4,!0,.5,.5,!1,.75,.6,!0,.4,.25,!0,.5,.5,!1,.6,.75,!0,.2,0,!0,.5,0,!1,.8,0,!0,1,.2,!0,1,.5,!1,1,.8,!0,.8,1,!0,.5,1,!1,.2,1,!0,0,.8,!0,0,.5,!1,0,.2,!0,
-.01,-.01,!0,-.4,-.4,!1,-.4,-.6,!1,-.01,-.99,!1,-.4,-.6,!1,-.6,-.6,!1,-.99,-.99,!1,-.6,-.6,!1,-.6,-.4,!1,-.99,-.01,!1,-.6,-.4,!1,-.4,-.4,!1,-.01,-.01,!0,-.5,-.5,!0,-.5,-.01,!1,-.99,-.5,!1,-.5,-.5,!1,-.5,-.99,!1,-.01,-.5,!1,-.5,-.5,!0,-.25,-.4,!0,-.5,-.5,!1,-.75,-.6,!0,-.4,-.25,!0,-.5,-.5,!1,-.6,-.75,!0,-.2,-.01,!0,-.5,-.01,!1,-.8,-.01,!0,-.99,-.2,!0,-.99,-.5,!1,-.99,-.8,!0,-.8,-.99,!0,-.5,-.99,!1,-.2,-.99,!0,-.01,-.8,!0,-.01,-.5,!1,-.01,-.2,!0],g=new Uint32Array(l.length/3),k=0,m=0;m<l.length;m+=
3){var h=l[m+0]+e.Ti,q=l[m+1]+e.Ti;h=p.iJ(h,q,l[m+2],e.zc,c,f);g[k++]=h}e={count:l.length/3,offset:0};for(m=0;m<l.length;m+=3)h=Math.floor(.5*(l[m+0]*a+1)*b[0]),q=Math.floor(.5*(l[m+1]*a+1)*b[1]),d[q*b[0]+h]=1;b=new Uint8Array(g.buffer);return{line:e,hL:b}}var g=h(3),r=h(120),p=h(121),q=h(113),m=h(0);return{check:function(k){var e=Date.now(),b=k.i,a=k.viewport,c=k.lh,f=k.scale;k=d(k);var l=k.line,h=k.hL;k=q.Ya.Za(b,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDERING_TEST:1});var t=p.HP(b,
l.count),u=t.Na,z=t.Xa;return k.then(function(d){var k=r.Tm(b,h),n=g.S.create();g.S.scale(n,n,[f,f,1]);var q=Date.now();d.use();u.bind();z.bind();b.vertexAttribPointer(d.attributes().dataIndex,1,b.FLOAT,!1,12,0);b.enableVertexAttribArray(d.attributes().dataIndex);b.vertexAttribPointer(d.attributes().refIndex,1,b.FLOAT,!1,12,4);b.enableVertexAttribArray(d.attributes().refIndex);b.vertexAttribPointer(d.attributes().expansionDirection,1,b.FLOAT,!1,12,8);b.enableVertexAttribArray(d.attributes().expansionDirection);
var p=m.qn/c;b.uniform1f(d.F().lineAAPointCount,p);b.uniformMatrix4fv(d.F().modelViewProjMatrix,!1,n);b.activeTexture(b.TEXTURE0);k.bind();b.uniform1i(d.F().positionDataTexture,0);b.uniform2f(d.F().positionDataTextureSize,k.width,k.height);b.uniform1f(d.F().halfLineWidth,0);b.uniform1f(d.F().lineWidthFactor,0);b.uniform2fv(d.F().viewportSize,a);n=l.count-1;b.uniform1f(d.F().lineSectionOffset,l.offset);b.drawElements(b.POINTS,6*n,b.UNSIGNED_SHORT,0);k.m();z.m();u.m();b.disableVertexAttribArray(d.attributes().dataIndex);
b.disableVertexAttribArray(d.attributes().refIndex);b.disableVertexAttribArray(d.attributes().expansionDirection);d.Sa();z.ya();u.ya();k.ya();return{jL:q-e,iL:Date.now()-q}})}}});u(194,0,function(){function d(d){var g=d.hl,e=d.viewport,b=[0,0],a=[-16,-16];d=[[0,.5*e[1]],[.5*e[0],0]];for(var c=[9,3,16,1,3,9,1,5,3,19,1,5,28,9,1,5,28,19,1,5,27,5,1,1,5,5,1,1,10,15,2,8,21,15,2,8,12,8,10,1,12,9,1,1,21,9,1,1,8,27,1,1,12,27,1,1,16,27,1,1,20,27,1,1,24,27,1,1],f=[],l=0,m=0;m<c.length;m+=4){var h=c[m+0],q=c[m+
1],r=c[m+2],u=c[m+3];f.push(p.hJ(h+a[0],q+a[1]));f.push(p.Rw(l,0));l+=r;f.push(p.Rw(l,u));d.forEach(function(a){var c=r,d=u;a=(b[1]+a[1]+q)*e[0]+(b[0]+a[0]+h);for(var f=0;f<d;f++)for(var l=a+f*e[0],k=0;k<c;k++)g[l+k]=1})}d.forEach(function(b){b[0]-=a[0];b[1]-=a[0]});c=new Uint32Array(f);f=new Uint8Array(c.buffer);return{label:{ef:c.length/3},AL:d,La:b,GK:f}}var g=h(3),r=h(120),p=h(151),q=h(113);return{check:function(m){var k=Date.now(),e=m.i,b=m.viewport,a=m.lh;m=d(m);var c=m.label,f=m.AL,l=m.La,
h=m.GK;m=q.Ya.Za(e,"shaders/axis-aligned-text-label.vert","shaders/text-label.frag",{RENDERING_TEST:"1",SNAP_GLYPHS_TO_PIXEL:"0"});var t=p.yx(e,c.ef),u=t.Mc,z=t.Nc,C=t.Kc;return m.then(function(d){var m=r.Tm(e,h),n=d.F(),q=d.attributes(),p=Date.now();d.use();u.bind();e.uniform1f(n.pr,a);e.uniform2fv(n.viewportSize,b);z.bind();e.enableVertexAttribArray(q.position);e.vertexAttribPointer(q.position,2,e.FLOAT,!1,8,0);z.m();C.bind();e.enableVertexAttribArray(q.dataIndex);e.vertexAttribPointer(q.dataIndex,
1,e.FLOAT,!1,4,0);C.m();var t=g.S.create();e.uniformMatrix4fv(n.modelViewProjMatrix,!1,t);e.uniform2f(n.center,l[0]-1,l[1]-1);e.uniform1f(n.labelIndexOffset,0);e.uniform1f(n.fontScaleFactor,1);e.activeTexture(e.TEXTURE0);m.bind();e.uniform1i(n.dataTexture,0);e.uniform2f(n.dataTextureSize,m.width,m.height);for(t=0;t<f.length;t++)e.uniform2fv(n.positionOffset,f[t]),e.drawElements(e.TRIANGLES,6*c.ef,e.UNSIGNED_SHORT,0);m.m();u.m();e.disableVertexAttribArray(q.position);e.disableVertexAttribArray(q.dataIndex);
d.Sa();u.ya();z.ya();C.ya();m.ya();return{eL:p-k,dL:Date.now()-p}})}}});u(195,0,function(){function d(a,b){return 255===a[4*b]&&0===a[4*b+1]&&0===a[4*b+2]&&255===a[4*b+3]}function g(a,b){var d=a.i,e=a.viewport,l=a.lh,g=a.backgroundColor;k.M("loaded",a.na);m.resize(d,e[0],e[1],l);a.he.bind();d.viewport(0,0,e[0]*l,e[1]*l);d.clearColor(g[0],g[1],g[2],g[3]);d.clear(d.COLOR_BUFFER_BIT);var h=b.times,n=b.failures;return c.check(a).then(function(c){a.he.m();b.lineHasRun=!0;h.lineSetup=c.jL;h.lineRendering=
c.iL;b.linePass=r(a,b);a.he.bind();b.linePass||n.push("line-mismatch")}).catch(function(a){n.push("line-rendering-failure");n.push(a)}).then(function(){q(a.hl);d.clear(d.COLOR_BUFFER_BIT);return f.check(a)}).then(function(c){a.he.m();b.labelHasRun=!0;h.labelSetup=c.eL;h.labelRendering=c.dL;b.labelPass=r(a,b);a.he.bind();b.labelPass||n.push("label-mismatch")}).catch(function(a){n.push("label-rendering-failure");n.push(a)}).then(function(){a.he.m();return b})}function r(a,b){var c=a.viewport,e=a.lh,
f=Date.now();c=a.he.read(c[0]*e,c[1]*e);b.times.framebufferFetch+=Date.now()-f;a:{f=a.hl;a=a.viewport;e=a[0];for(var g=a[1],k=1;k<e-1;k++)for(var l=1;l<g-1;l++){var m=l*e+k,h=(d(c,(l-1)*a[0]+(k-1))?1:0)+(d(c,(l-1)*a[0]+(k+0))?1:0)+(d(c,(l-1)*a[0]+(k+1))?1:0)+(d(c,(l+0)*a[0]+(k-1))?1:0)+(d(c,(l+0)*a[0]+(k+0))?1:0)+(d(c,(l+0)*a[0]+(k+1))?1:0)+(d(c,(l+1)*a[0]+(k-1))?1:0)+(d(c,(l+1)*a[0]+(k+0))?1:0)+(d(c,(l+1)*a[0]+(k+1))?1:0);if(1===f[m]&&0===h){f=!1;break a}}for(k=1;k<e-1;k++)for(l=1;l<g-1;l++)if(m=
l*e+k,h=f[(l-1)*a[0]+(k-1)]+f[(l-1)*a[0]+(k+0)]+f[(l-1)*a[0]+(k+1)]+f[(l+0)*a[0]+(k-1)]+f[(l+0)*a[0]+(k+0)]+f[(l+0)*a[0]+(k+1)]+f[(l+1)*a[0]+(k-1)]+f[(l+1)*a[0]+(k+0)]+f[(l+1)*a[0]+(k+1)],d(c,m)&&0===h){f=!1;break a}f=!0}b.times.resultCheck+=Date.now()-Date.now();b.pixels=c;return f}function p(){var c=[64,64],d=m.create(c[0],c[1],1);if(!d)return e.reject("WebGL Context not available");var f={zc:8192,Vk:3.9998779296875,Ai:4,Uk:3.9998779296875,zi:4,Ti:.9998779296875,xn:.125,mc:8};f.sb=1/f.zc;f.xn=1/
f.mc;var k=new Uint8Array(c[0]*c[1]);q(k);var g=new a(d,1*c[0],1*c[1]);g.bind().data(null,d.RGBA,d.RGBA).hd(d.LINEAR).fd(d.LINEAR).m();var h=new b(d);h.bind().xk(g.Nb()).m();return e.resolve({i:d,na:f,viewport:c,lh:1,scale:.8,backgroundColor:[.3,.3,.7,1],hl:k,he:h,rM:g})}function q(a){for(var b=0,c=a.length;b<c;b++)a[b]=0}var m=h(111),k=h(104),e=h(13),b=h(116),a=h(118),c=h(193),f=h(194);return{ma:function(){var a,b,c={pass:!1,linePass:!1,lineHasRun:!1,labelPass:!1,labelHasRun:!1,times:{framebufferFetch:0,
resultCheck:0},failures:[]};var d=Date.now();return p().then(function(e){a=Date.now();b=e;c.times.mainSetup=a-d}).then(function(){return g(b,c)}).then(function(a){c.viewport=b.viewport;c.pr=b.lh;c.pixels=a.ky;c.setup=b.hl;c.backgroundColor=b.backgroundColor;c.pass=0===c.failures.length;c.times.total=Date.now()-d;b.i.canvas.width=0;b.i.canvas.height=0;return e.resolve(c)}).catch(function(a){c.failures.push(a);return e.reject(c)})}}});u(196,0,function(){function d(a){g.Qa(this)&&(this.Op=new F(1),this.aa=
new r,this.Rp=Date.now(),this.qp=p.resolve(),this.Bp=p.resolve(),this.be=w.Vc.Bg,this.Ou="standard",this.hF=this.Pu=!0,"object"===typeof a&&(!0===a.startInLoCSR&&(this.be=w.Vc.Hh),!0===a.noLabels&&(this.be=w.Vc.kj)))}var g=h(8),r=h(103),p=h(13),q=h(104);h(102);var m=h(101),k=h(105),e=h(107),b=h(174),a=h(178),c=h(179),f=h(180),l=h(21),n=h(12),t=h(111),u=h(118),z=h(116),C=h(181),A=h(183);h(184);var w=h(15),S=h(185),O=h(186),J=h(3),N=h(188),B=h(20),P=h(19),D=h(5),y=h(0),x=h(11),H=h(22),V=h(191),G=h(149),
F=h(192),E=h(35),K=h(33),I=h(32),M=h(195),Q=h(42);d.vl=function(){var a;M.ma().then(function(b){a=b}).catch(function(b){a=b});return a};d.prototype.i=function(){return this.D};d.prototype.element=function(){return this.D.canvas};d.prototype.oe=function(){return this.aa};d.prototype.wr=function(){this.ua.Je();this.Cb.Je();this.ka.wc();this.M("needs-update")};d.prototype.qh=function(a){this.sh(a,1)};d.prototype.sh=function(a,b){a=J.ym(a,y.qz[0],y.qz[1]);if(this.Ol!==a||this.Kj!==b)this.Ol=a,this.Kj=
b,this.ck=a*b,this.ka.sh(a,b),this.Uh[0]=-1,this.Wj()};d.prototype.devicePixelRatio=function(){return this.Ol};d.prototype.Zx=function(){return this.Kj};d.prototype.ft=function(a,b,c){var d="#F9F5ED";if("standard"===a){var e=this.na.qe.su;"dark"===b&&(d="#404040")}else"satellite"===a?(e=this.na.qe.tA,d="#404040"):"hybrid"===a&&(e=this.na.qe.Dl,d="#404040");if(e!==this.hq||b!==this.Qg||c!==this.Lg){this.ka.rO(e,b,c);var f=this.Z.Ye;this.Z.ni();this.Wj();f&&this.Z.pi(Date.now())}this.hq=e;this.Qg=b;
this.Lg=c;this.Sp=a;this.D.canvas.style["background-color"]=d};d.prototype.Qc=function(){return this.Sp};d.prototype.yb=function(){return this.Qg};d.prototype.xb=function(){return this.Lg};d.prototype.Qi=function(a){a=parseInt(a,10);0===a&&(a=this.na.hf);a!==this.mm&&(this.ka.Qi(a),this.Wj());this.mm=a};d.prototype.Zb=function(){return this.mm};d.prototype.map=function(){return this.rd};d.prototype.PC=function(a){var b=a.rasterTiles;if(!b)return p.resolve();var c={},d;for(d in b){var e=b[d];if(e){var f=
{standard:/^standardTile/,"hybrid-overlay":/^hybridTile/,satellite:/^satelliteTile/};e=e.tileSources;for(var k=0,g=e.length;k<g;k++){var l=e[k],h=l.name;!c[h]&&(c[h]=!0,h=f[h])&&(l=new m.mu(l,a.proxyPrefixes),this.aa.ph(h,l))}}}return p.resolve()};d.prototype.NC=function(a){var b=a.madabaDomains;if(a=a.proxyPrefixes)for(var c=0,d=b.length;c<d;c++)b[c]=a[c%a.length]+b[c];a=this.aa;b=new m.eu({al:b,at:"md/v1/"});a.ph(/.*/,b);return p.resolve()};d.prototype.kv=function(a){var b=this;return this.PC(a).then(function(){return b.NC(a)})};
d.prototype.eC=function(){this.Ql=new E;return(new q).load(this.aa,this.Ql).then(function(a){D.Yg(a.nn);D.Yg(a.mn);D.Yg(a.qe);D.Yg(I.Wo);return a})};d.prototype.AE=function(){this.rd.Qe().Ma("tile-created",function(a){var b=[];w.Lz.forEach(function(c){if(a.KK(c)&&!a.LK(c)){var d=new p(function(b){a.once(c+"-dependency-ready",b);a.B(c).catch(b)});b.push(d)}},this);var c=p.all(b),d=new p(function(b,c){a.JE=c}),e=this;p.race([c,d]).then(function(){var b=new n,c=a.rb.ei(),d=c.width(),f=c.height();b.x=
c.min()[0]+.5*d;b.y=c.min()[1]+.5*f;b.width=d;b.height=f;b.az();b.Vy();b.gt(n.Jh.Yo);e.ua.Ne(b);e.Cb.Ne(b);a.Xl=b})},this);this.rd.Qe().Ma("tile-destroyed",function(a){a.JE();a.Xl&&(this.ua.Se(a.Xl),this.Cb.Se(a.Xl),a.Xl=null)},this)};d.prototype.KC=function(a){this.vx=new A.Vz(this.aa,this.Ql,a.Bi)};d.prototype.OC=function(b){this.na=b;this.Mb=new a(b);var d=Q();this.hF?(this.tm=new O(1,d,b),this.$r=new O(1,d,b)):this.$r=this.tm=new O(0,d,b);this.KC(b);this.fO=new e(y.ms);this.rd=new N(this.fO);
this.Z=new k(Date.now());this.ua=new c(this.na,this.$r,this.Z);this.Cb=new c(this.na,this.tm,this.Z);this.AE();return p.all([this.ua.lb(),this.Cb.lb()])};d.prototype.TC=function(){this.Ol=y.Lw;this.Kj=y.Kw;this.ck=this.Ol*this.Kj;this.Uh=J.g.l(128,128);this.D=t.create(this.Uh[0],this.Uh[1],this.ck,null);if(!this.D)return p.reject("Could not create WebGL Context");this.Of=J.g.l(0,0);var a=this.D.getParameter(this.D.MAX_RENDERBUFFER_SIZE),c=this.D.getParameter(this.D.MAX_VIEWPORT_DIMS);a&&c?(this.Of[0]=
Math.min(a,c[0]),this.Of[1]=Math.min(a,c[1])):c?this.Of=c:this.Of[0]=a?this.Of[1]=a:this.Of[1]=4096;t.Ma("context-lost",function(a){a===this.D&&this.Jv("WEBGL_CONTEXT_LOST")},this);a=new G(this.D,512,512,16,1);this.Ea=new V(this.aa,this.na,a);this.iF=new b(this.aa,this.D,this.na,this.vx,this.NS,this.Mb,this.ua,this.Cb,this.Ea,this.Z);this.ka=this.iF.LI();this.ka.Pi(this.be);this.rd.pw(this.ka);this.ua.Ma("labels-updated",this.ka.wc,this.ka);this.Cb.Ma("labels-updated",this.ka.wc,this.ka);this.Z.Ma("alpha-updated",
this.ka.wc,this.ka);return this};d.prototype.Wr=function(a,b){b=b||{};if("object"!==typeof a)return b.reason="Parameter 1 is not an object",!1;if("object"===typeof a.nodabaConfig)return!0;var c=a.madabaDomains;if(!c)return b.reason="Expecting config.madabaDomains to be defined",!1;if(!Array.isArray(c))return b.reason="Expecting config.madabaDomains to be an array of strings",!1;for(var d=0,e=c.length;d<e;d++)if("string"!==typeof c[d])return b.reason="Expecting config.madabaDomains["+d+"] to be a string",
!1;if(a=a.proxyPrefixes){if(!Array.isArray(a))return b.reason="Expecting config.proxyPrefixes to be an array of strings",!1;d=0;for(e=a.length;d<e;d++)if("string"!==typeof a[d])return b.reason="Expecting config.proxyPrefixes["+d+"] to be a string",!1}return!0};d.prototype.tO=function(a){if(this.Wr(a)){this.aa.zm();this.Ip=a;var b=this;this.kv(a).then(function(){b.bw();b.hw()})}};d.prototype.bw=function(){var a=this.Ip.accessKey;a&&this.aa.sf(a)};d.prototype.hw=function(){this.Qi(this.Ip.tileGroup||
0)};d.prototype.lb=function(a){var b={};if(!this.Wr(a,b))return p.reject(b.reason);this.Ip=a;l.vh();b=this.kv(a).then(this.bw.bind(this)).then(function(){this.aa.Ma("invalid-access-key",function(){this.M("invalid-access-key")},this)}.bind(this)).then(this.eC.bind(this)).then(this.OC.bind(this)).then(function(){"boolean"!==typeof a.animate||a.animate||this.Z.ni()}.bind(this)).then(this.TC.bind(this));return b=b.then(function(){this.ft(y.aJ,y.Xg,y.Wg);this.ng(y.kr);this.ml(y.hr,y.lr);this.hw()}.bind(this)).then(function(){this.Hp=
!1;l.Vi();return this}.bind(this))};d.prototype.Jv=function(a){this.M("fallback",a)};d.prototype.Xp=function(a){if(this.Uh[0]!==a[0]||this.Uh[1]!==a[1])(this.ck*a[0]>this.Of[0]||this.ck*a[1]>this.Of[1])&&this.Jv("MAX_RESOLUTION_REACHED"),t.resize(this.D,a[0],a[1],this.ck),this.Uh=J.g.clone(a),this.ka.wc()};d.prototype.oL=function(a){if("object"===typeof a)for(var b in this.vp)a[b]=this.vp[b];return this.Hp};d.prototype.YN=function(){switch(this.be){case w.Vc.Bg:case w.Vc.kj:return!0;default:return!1}};
d.prototype.Zv=function(a){for(var b=this.ka.un(),c=0,d=b.length;c<d;c++){var e=b[c];if(e&&e.Qr())return a["map-layer-loading"]=e.type(),!0}a["map-layer-loading"]="none";return!1};d.prototype.aB=function(a){var b={};!a.zt(b)||l.Zk(b)||this.ua.Go(b)||this.Cb.Go(b)||this.Z.Dx(b)||this.Zv(b)||this.rd.Qe().Zk()||this.ka.ez(b)?(this.Hp=!1,this.vp=b):(this.Hp=!0,this.vp=b,this.M("fully-rendered",b))};d.prototype.VE=function(a,b){a.vO(this.Op,b);0===a.ds()&&0===a.Ko()||this.wr();this.Op.zt()||this.ka.wc();
this.Op=a.clone()};d.prototype.update=function(a,b,c,d){var e=Date.now();this.Xp(b);this.VE(a,b);l.Bf.update();this.Z.update(e);this.rd.update(a,b);this.Mb.update(a);this.Ea.update(a);c="boolean"===typeof c?c:!0;this.ua.update(a,b,c,"boolean"===typeof d?d:!0);this.Cb.update(a,b,c,!1);this.ka.update(a,b);H.qr();l.update(e);this.aB(a)};d.prototype.wf=function(){return D.Re(this.rd.Qe().wf())};d.prototype.cB=function(){var a=a||{};return!l.Zk(a)&&!this.ua.Go(a)&&!this.Cb.Go(a)&&!this.Z.Dx(a)&&!this.Zv(a)};
d.prototype.Gp=function(){this.ua.fo();this.Cb.fo();this.cB()&&this.M("fully-loaded")};d.prototype.pE=function(){var a=new p(function(a){l.Ma("loop",this.Gp,this);this.once("fully-loaded",function(){p.timeout(0).then(function(){l.va("loop",this.Gp,this);a()}.bind(this))},this)}.bind(this)),b=this.Ox().catch(function(a){this.va("fully-loaded",null,this);l.va("loop",this.Gp,this);return p.reject(a)}.bind(this));return p.all([a,b])};d.prototype.WB=function(){this.Ld||(this.Ld=new n,this.Ld.x=.5,this.Ld.y=
.5,this.Ld.width=3,this.Ld.height=1,this.Ld.Vy(),this.Ld.az(),this.Ld.gt(n.Jh.Yo));p.all([this.ua.Ne(this.Ld),this.Cb.Ne(this.Ld)])};d.prototype.bC=function(){p.all([this.ua.Se(this.Ld),this.Cb.Se(this.Ld)])};d.prototype.kC=function(a,b,c,d){this.Mb.update(a);this.Ea.update(a);this.ua.Je();this.Cb.Je();this.ua.update(a,b,c,d);this.Cb.update(a,b,c,!1);return p.all([this.ua.Kt(),this.Cb.Kt()])};d.prototype.JI=function(a,b){var c=this.D,d=new u(c,a,b);d.Hb();d.bind().data(null,c.RGBA,c.RGBA).hd(c.LINEAR).fd(c.LINEAR).m();
var e=new C(c);e.Hb();e.bind().uw(a,b);a=new z(c);a.bind().xk(d.Nb()).lz(e.Nb()).m();e.m();a.once("released",e.release,e);a.once("released",d.release,d);a.rM=d;return a.De()};d.prototype.ty=function(a,b,c,d){this.WB();return this.pE().then(function(){return this.kC(a,b,c,d)}.bind(this))};d.prototype.Ll=function(a){this.bC();l.clear();this.rd.Qe().reset();this.ua.fo();this.Cb.fo();H.qr();l.clear();a&&this.Z.pi(Date.now());l.Vi();this.ua.count();this.Cb.count();return p.resolve()};d.prototype.Ps=function(a,
b,c,d,e,f,k,g,m,h){h=h||1;this.Xp(c);this.sh(d,h);d=new B(a);b=new S(b,k);b.reset(c,d,f||a.z);g="boolean"===typeof g?g:!0;m="boolean"===typeof m?m:!0;var n=this.Z.Ye;this.Z.ni();l.vh();return this.NA(d,b,c,e,g,m).catch(function(a){var b={Ss:a};b.renderingFailure=b.Ss;return this.Ll(n).catch(function(a){b.Xq=a;b.cleanupFailure=b.Xq}).then(function(){return p.reject(b)})}.bind(this)).then(function(a){return this.Ll(n).catch(function(b){a.Xq=b;a.cleanupFailure=a.Xq}).then(function(){return a})}.bind(this))};
d.prototype.NA=function(a,b,c,d,e,f){this.fh=Date.now();this.Mb.update(b);this.Ea.update(b);var k=a.rb,g=y.AI;a=[];for(var m,h=1<<k.z,n=k.x-g,q=k.x+g;n<=q;n++)for(var r=n,x=k.y-g,t=k.y+g;x<=t;x++)0>x||x>=h||(m=new P(r,x,k.z,0),a.push(m.cy()));k=0;for(g=a.length;k<g;k++)m=a[k],m=new B(m),this.rd.Qe().nL(m);return this.ty(b,c,e,f).then(function(){this.oh=Date.now();d&&d.bind();this.ka.update(b,c);d&&d.m();l.clear();return p.resolve({fh:this.fh,oh:this.oh,Rs:Date.now()})}.bind(this))};d.prototype.Ay=
function(a,b,c,d){var e=this;this.fh=Date.now();c.map(function(a){e.ua.Ne(a)});l.vh();this.Xp(b);this.rd.update(a,b);this.Mb.update(a);this.Ea.update(a);return this.ty(a,b,!0,!0).then(function(){this.oh=Date.now();d&&d.bind();e.ka.update(a,b);d&&d.m();c.forEach(function(a){e.ua.Se(a)});e.Ll();var f={};f={fh:this.fh,oh:this.oh,Rs:Date.now()};f={loadingStartTime:f.fh,renderingStartTime:f.oh,renderingEndTime:f.Rs};return p.resolve(f)}.bind(this)).catch(function(a){e.Ll();return p.reject(a)})};d.prototype.Ox=
function(){var a=this.rd.Qe().wf();a=D.Re(a);return p.all(a.map(function(a){return a.B()}))};d.prototype.dt=function(a){l.vh();return p.all([this.ua.Oe(a),this.Cb.Oe(a)]).then(l.Vi)};d.prototype.Wj=function(){var a=this.Z.Ye;this.Z.ni();this.ka.wm();var b=this;this.rd.Qe().once("tile-created",function(){l.Bf.ma(function(){b.ka.sm()})});this.rd.Qe().reset();this.wr();a&&this.Z.pi(Date.now())};d.prototype.ng=function(a){return this.Bp=this.Bp.then(function(){var b=a||y.kr,c=this.za().filter(this.ka.$K,
this.ka),d=c.map(function(a){return this.Z.ie(a,y.Et)},this);return p.all(d).then(function(){this.ka.ng(b);this.Wj()}.bind(this)).then(function(){var a=c.map(function(a){return this.Z.show(a,y.Dt)},this);return p.all(a)}.bind(this))}.bind(this)).catch(function(a){console.log(a)})};d.prototype.ml=function(a,b){a=a||y.hr;b=b||y.lr;this.ka.ml(a,b);this.Wj()};d.prototype.Pi=function(a){this.be!==a&&(this.be=a,this.ka.Pi(this.be))};d.prototype.Uy=function(a,b){return this.Un({mode:a,usePOI:b})};d.prototype.Un=
function(a){if("poiFilter"in a){var b=a.poiFilter;b&&Array.isArray(b.includes)&&0===b.includes.length?(a.usePOI=!1,b=null):(a.usePOI=!0,b&&Array.isArray(b.excludes)&&0===b.excludes.length&&(b=null));b&&(b.includes&&(b.includes=b.includes),b.excludes&&(b.Nm=b.excludes));this.ua.RM(b)}return this.qp=this.qp.then(function(){var b=!1,c=this.Qg;"tint"in a&&(c=a.tint,b=this.Qg!==c);var d=!1,e=this.Lg;"emphasis"in a&&(e=a.emphasis,d=this.Lg!==e);b=b||d;var f=y.Et;d=this.za();var k=d.map(function(a){return a.type}),
g="mode"in a?a.mode:this.Ou,l="usePOI"in a?a.usePOI:this.Pu,m=w.wy(this.be,g,!l),h=m.za,n=m.style;m=n!==this.Sp;!m||"standard"!==n&&"standard"!==this.Sp||(f=0);this.Pu=l;this.Ou=g;g=[];var q=[],r=[];l=0;for(var x=h.length;l<x;l++){var t=h[l];-1===k.indexOf(t)&&q.push(t)}l=0;for(x=d.length;l<x;l++)k=d[l],-1===h.indexOf(k.type)?g.push(k):(b||m&&this.ka.aL(k))&&r.push(k);var u=this;b=g.map(function(a){return u.Z.ie(a,f).then(function(){return u.ka.Mn(a)})});d=r.map(function(a){return u.Z.ie(a,f)});h=
[];h.push.apply(h,d);h.push.apply(h,b);return p.all(h).then(function(){return u.ft(n,c,e)}).then(function(){r.forEach(function(a){u.Z.show(a,f)});return p.all(q.map(function(a){return u.ka.ai(a).then(function(a){u.Z.Xf(a);u.Z.show(a,f)})}))}).then(function(){return u})}.bind(this))};d.prototype.za=function(){return this.ka.za.apply(this.ka,arguments)};d.prototype.ai=function(){var a=this;return this.ka.ai.apply(this.ka,arguments).then(function(b){a.Z.Xf(b);a.Z.show(b,y.Dt);a.M("layer-added",b);return b})};
d.prototype.Mn=function(){var a=this;return this.ka.Mn.apply(this.ka,arguments).then(function(b){a.M("layer-removed",b);return b})};d.prototype.insertBefore=function(){var a=this;return this.ka.insertBefore.apply(this.ka,arguments).then(function(b){a.M("layer-added",b);return b})};d.prototype.Mr=function(){var a=this;return this.ka.Mr.apply(this.ka,arguments).then(function(b){a.M("layer-added",b)})};d.prototype.info=function(){var a={mL:this.Ql?this.Ql.Bi:"N/A (JSON requested)",ZN:K};a.madabaProtoVersion=
a.mL;a.syrupProtoVersion=a.ZN;this.na&&(a.Wk=this.na.Wk,a.hf=this.na.hf,a.madabaVersion=a.Wk,a.defaultTileGroupIdentifier=a.hf);return a};d.prototype.xx=function(){return this.Ea};d.prototype.pi=function(){this.Z.pi(Date.now())};d.prototype.ni=function(){this.Z.ni()};d.prototype.ya=function(){t.va("context-lost",null,this);this.tm.ya();this.$r.ya();t.ya(this.D)};x.da(d.prototype);d.prototype.init=d.prototype.lb;d.prototype.destroy=d.prototype.ya;d.prototype.isValidNetworkConfiguration=d.prototype.Wr;
d.prototype.updateNetworkConfiguration=d.prototype.tO;d.prototype.map=d.prototype.map;d.prototype.gl=d.prototype.i;d.prototype.element=d.prototype.element;d.prototype.resourceManager=d.prototype.oe;d.prototype.tiles=d.prototype.wf;d.prototype.setPixelRatio=d.prototype.qh;d.prototype.setSurfaceProperties=d.prototype.sh;d.prototype.devicePixelRatio=d.prototype.devicePixelRatio;d.prototype.msaaFactor=d.prototype.Zx;d.prototype.setMapViewOptions=d.prototype.ft;d.prototype.tileSetStyle=d.prototype.Qc;
d.prototype.tileGroup=d.prototype.Zb;d.prototype.setTileGroup=d.prototype.Qi;d.prototype.setLanguage=d.prototype.ng;d.prototype.setLocationInfo=d.prototype.ml;d.prototype.setDeterministicCollisions=d.prototype.dt;d.prototype.setDisplayOptions=d.prototype.Un;d.prototype.setRenderingMode=d.prototype.Pi;d.prototype.forceRerender=d.prototype.wr;d.prototype.renderTile=d.prototype.Ps;d.prototype.renderSnapshot=d.prototype.Ay;d.prototype.mapFullyRendered=d.prototype.oL;d.prototype.supportsNonIntegralZoomLevels=
d.prototype.YN;d.prototype.loadingDependencies=d.prototype.Ox;d.prototype.update=d.prototype.update;d.prototype.setMapMode=d.prototype.Uy;d.prototype.layers=d.prototype.za;d.prototype.addLayer=d.prototype.ai;d.prototype.removeLayer=d.prototype.Mn;d.prototype.insertBefore=d.prototype.insertBefore;d.prototype.insertAfter=d.prototype.Mr;d.testRendering=d.vl;f.da(d);return d});u(197,0,function(){function d(d,e,b,a){this.Qu=d;this.offset=e;this.size=b;this.next=a;this.Vr=this.zr=!0}function g(k,e){this.D=
k;this.data={};var b=k.getParameter(k.MAX_TEXTURE_SIZE);e?(e=p.hx(e),this.width=e[0],this.height=e[1]):this.height=this.width=b;this.Sf=new r(k,this.width,this.height);this.Sf.bind().data(null,k.RGBA).hd(r.NEAREST).fd(r.NEAREST).m();this.kO=this.width*this.height;k=new d(this,0,this.kO,null);this.Ul=[k];this.Lv(k)}for(var r=h(118),p=h(5),q=new Uint8Array(32384),m=0;32384>m;m++)q[m]=255;d.prototype.Nb=function(){return this.Qu.Nb()};d.split=function(k,e){var b=new d(k.Qu,k.offset+e,k.size-e,k.next);
k.next=b;k.size=e;return[k,b]};d.wL=function(d){var e=d;for(d=d.next;d&&d.zr;)d.Vr=!1,e.size+=d.size,d=d.next;e.next=d};g.prototype.zr=function(d){this.up(d)};g.prototype.get=function(){};g.prototype.uE=function(d,e,b){var a=this.D;b=b||d.byteLength/4;var c=Math.floor(e/this.width);e%=this.width;var f=this.width-e;if(f>=b)this.Sf.bind().Xi(new Uint8Array(d.buffer,0,d.byteLength),a.RGBA,e,c,b,1).m();else{var g=new Uint8Array(d.buffer,0,4*f);this.Sf.bind().Xi(g,a.RGBA,e,c,f,1);c++;e=0;g=f;b-=f;f=Math.floor(b/
this.width);if(0<f){var k=this.width*f,m=new Uint8Array(d.buffer,4*g,4*f*this.width);this.Sf.Xi(m,a.RGBA,e,c,this.width,f);b-=k;g+=k;c+=f}0!==b?(d=new Uint8Array(d.buffer,4*g,4*b),this.Sf.Xi(d,a.RGBA,e,c,b,1).m()):this.Sf.m()}};g.prototype.ZE=function(){var g=this.Ul;this.Ul=[];var e;var b=0;for(e=g.length;b<e;b++){var a=g[b];a.Vr&&d.wL(a)}b=0;for(e=g.length;b<e;b++)a=g[b],a.Vr&&this.Ul.push(a)};g.prototype.Lv=function(d){for(var e=d.size,b=0;0<e;){var a=Math.min(e,8096);this.uE(q,d.offset+b,a);b+=
a;e-=a}};g.prototype.up=function(d){d.zr=!0;this.Ul.push(d);this.ZE();this.Lv(d)};g.prototype.Ja=function(){return this.Sf};g.prototype.Nb=function(){return this.Sf.Nb()};return g});u(205,0,function(){function d(d){this.aa=d}var g=h(103),r=h(22);d.kf=function(d){var g=d.Dd,m=d.Sx,k=d.Pw,e=d.scale,b=d.Oq;d=d.Xr;var a={Qn:"arrow",Dd:g,Sx:m,Pw:k,scale:e,Oq:b,Xr:d,sc:0},c="arrow?";g&&(a.Dd=g,c+="subtype="+encodeURIComponent(g));c+="&maneuverType="+m+"&drivingSide="+k+"&scale="+e;b&&(a.Oq=b,c+="&arrowFill="+
b);d&&(a.Xr=d,c+="&junctionFill="+d);return{url:c,data:a}};d.prototype.Om=function(d,h){var m=this.aa;if(m.has(d))return m.get(d);var k=m.get(d,g.Ef,h,g.Eg);r.da(k).Td().once("released",function(){k.Rr()&&k.abort("loading-aborted");g.remove(d)});return k.De()};d.prototype.fetch=function(g){g=d.kf(g);return this.Om(g.url,g.data)};return d});u(206,0,function(){var d=h(92),g=h(33),r=h(196),p=h(192),q=h(103),m=h(19),k=h(205),e=h(134),b=h(115),a=h(3),c=h(5);h(102);var f=h(15),l=h(12),n=h(0),t=h(98),u=
h(113);h(118);var z=h(21),C=h(13),A={To:400,gu:500,nu:503,lu:504};return function(h){function v(a){return"standard"===a?n.ls:"satellite"===a?n.ks:"hybrid"===a?Math.min(n.ls,n.ks):0}function w(a){return"standard"===a?n.ps:"satellite"===a?n.os:"hybrid"===a?Math.max(n.ps,n.os):0}function J(a){return a&&"object"===typeof a&&2===a.length&&"number"===typeof a[0]&&"number"===typeof a[1]}function N(a){return void 0===a||"string"===typeof a&&2===a.length}function B(a){return C.reject({code:A.To,reason:"Invalid request parameter: "+
a})}function P(){return C.reject({code:A.nu,reason:"Service unavailable"})}function D(){this.gb=new r;this.qd=0;this.Rv=!1}h.xg=function(a,b){return b?void 0!==a&&"string"===typeof a&&0!==a.length&&a.match(/^[a-zA-Z-]+$/):void 0===a||"string"===typeof a&&0!==a.length&&a.match(/^[a-zA-Z-]+$/)};h.xg.reject=B("'language' must be a valid language string or undefined");h.validLanguage=h.xg;h.hj=function(a,b,c){return Number.isInteger(a)&&Number.isInteger(b)&&Number.isInteger(c)};h.hj.reject=B("'x', 'y', 'z' are not valid numbers");
h.validXYZ=h.hj;h.od=function(a){return 1===a||2===a||3===a};h.od.reject=B("'scale' is not a number or should be 1, 2 or 3");h.validScale=h.od;h.yg=function(a,b){return b?void 0!==a&&Number.isInteger(a)&&0<=a:void 0===a||Number.isInteger(a)&&0<=a};h.yg.reject=B("'tileGroup' should be a positive integer or undefined");h.validTileGroup=h.yg;h.wo=function(a){return Number.isInteger(a)};h.wo.reject=B("'tileSetStyle' is not a number");h.validTileSetStyle=h.wo;h.vo=function(a){return 46===a||0===a};h.vo.reject=
B("'style' is not a number with value '0' (standard) or '46' (hybrid)");h.validStyle=h.vo;h.cj=function(a){return 1===a||6===a||7===a};h.cj.reject=B("'style' is not a number with value '1' (standard), '6' (hybrid) or '7' (satellite)");h.validIconStyle=h.cj;h.xo=function(a){return 0===a||1===a||2===a};h.xo.reject=B("'size' is not a number or should be 0, 1 or 2");h.validTileSize=h.xo;h.wg=function(a){return void 0===a||Number.isInteger(a)&&-4<=a&&4>=a};h.wg.reject=B("'size' is not a number or should be in the [-4, 4] range");
h.validIconSize=h.wg;h.vg=function(a){return Number.isInteger(a)};h.vg.reject=B("'id' is not a number");h.validID=h.vg;h.yo=function(a){return"string"===typeof a&&("standard"===a||"road"===a||"poi"===a||"building"===a)};h.yo.reject=B("'type' is not a number with value 'standard', 'road', 'poi' or 'building'");h.validVTileType=h.yo;h.aj=function(a){return N(a)};h.aj.reject=B("'countryCode' must be a string of 2 chars");h.validCountryCode=h.aj;h.ej=function(a){return N(a)};h.ej.reject=B("'regionCode' must be a string of 2 chars");
h.validRegionCode=h.ej;h.ro=function(a){return"boolean"===typeof a};h.ro.reject=B("'labels' is not a boolean");h.validLabels=h.ro;h.gj=function(a){return"boolean"===typeof a};h.gj.reject=B("'usePOI' is not a boolean");h.validUsePOI=h.gj;h.fj=function(a){return"string"===typeof a&&("dark"===a||"light"===a)};h.fj.reject=B("'tint' is not a string with value 'dark' or 'light'");h.validTint=h.fj;h.bj=function(a){return"string"===typeof a&&("standard"===a||"muted"===a)};h.bj.reject=B("'emphasis' is not a string with value 'standard' or 'muted'");
h.validEmphasis=h.bj;h.to=function(a){return void 0===a||"transit"===a||"road"===a};h.to.reject=B("'subtype' should be undefined, 'transit' or 'road'");h.validShieldSubtype=h.to;h.po=function(a){return"poi"===a||"named"===a||"transit"===a};h.po.reject=B("'subtype' should be undefined, 'poi', 'named' or 'transit'");h.validIconSubtype=h.po;h.oo=function(a){return"string"===typeof a&&0<a.length};h.oo.reject=B("'name' should be a non-empty string");h.validIconName=h.oo;h.ug=function(a){return void 0===
a||"string"===typeof a&&6===a.length&&a.match(/[0-9A-Fa-f]{6}$/)};h.ug.reject=B("'color' should be undefined or 6 Hexadecimal digits string");h.validColor=h.ug;h.zo=function(a){return void 0===a||"string"===typeof a&&a.length};h.zo.reject=B("'vendorKey' should be undefined or a string");h.validVendorKey=h.zo;h.mo=function(a){return"string"===typeof a};h.mo.reject=B("'attributes' should be a string");h.validAttributes=h.mo;h.Bo=function(a){return void 0===a||Number.isInteger(a)&&0<=a&&21>=a};h.Bo.reject=
B("'zoom' should be undefined or a number in the range [0, 21]");h.validZoom=h.Bo;h.no=function(a){return J(a)&&0<=a[0]&&1>=a[0]&&0<=a[1]&&1>=a[1]};h.no.reject=B("'center' should be an array of 2 numbers");h.validCenter=h.no;h.Ao=function(a,b){var c=J(a)&&a[0]>=n.yn&&a[1]>=n.yn;return b?c:c&&a[0]<=n.wn&&a[1]<=n.wn};h.Ao.reject=B("'viewport' should be an array of 2 numbers in the range ["+n.yn+", "+n.wn+"]");h.validViewport=h.Ao;var y=["standard","hybrid","satellite"];h.so=function(a){return-1!==y.indexOf(a)};
h.so.reject=B("'mapMode' should have one of the following values: 'standard', 'hybrid', 'satellite'");h.validMapMode=h.so;h.uo=function(a,b){return"number"!==typeof b?!1:b>=w(a)&&b<=v(a)};h.uo.reject=function(a){return B("'z' for "+a+" mode should be number in the range ["+w(a)+", "+v(a)+"]")};h.validSnapshotZoom=h.uo;h.Bz=function(a){return"object"===typeof a&&"number"===typeof a.x&&"number"===typeof a.y&&"number"===typeof a.width&&0<a.width&&"number"===typeof a.height&&0<a.height&&"number"===typeof a.xOffset&&
"number"===typeof a.yOffset};h.validLabelRegion=h.Bz;h.qo=function(a){return Array.isArray(a)?a.filter(h.Bz).length===a.length:!1};h.qo.reject=B("'labelRegions' parameter is not an array or labelRegion description is invalid");h.validLabelRegions=h.qo;D.prototype.ya=function(){switch(this.qd){case 0:return C.reject("Cannot destroy an uninitialized service");case 1:return C.reject("Cannot destroy an initializing service");case 3:return C.reject("Cannot destroy an already destroyed service")}this.qd=
3;return C.timeout(0).then(function(){this.gb.ya()}.bind(this))};D.prototype.gD=function(a){return C.resolve(a)};D.prototype.JC=function(){var a=this.gb.i(),c=u.Ya.Za(a,"shaders/texture-saver.vert","shaders/texture-saver.frag");a=b.ah(a);return C.all([c,a]).then(function(){}.bind(this))};D.prototype.UC=function(a){if(2===this.qd)return C.reject("Service already initialized");if(1===this.qd)return C.reject("Service already initializing");this.qd=1;a.Ey&&this.gb.oe().Zy(a.Ey);var b=this;return this.gD(a).then(function(){return b.gb.lb(a)}).then(function(){return b.gb.dt(!0)}).then(function(){return b.JC()}).then(function(){b.Ea=
b.gb.xx();b.DE=["transit","road"];b.qP=b.DE.map(function(a){return"'"+a+"'"}).join(", ");b.$v=c.Re(b.gb.na.qe);b.LE=b.$v.map(function(a){return"'"+a+"'"}).join(", ");return b}).then(function(){b.qd=2;return b}).then(function(){var a=b.gb.oe();b.WA=new k(a);b.eq=new e(a)})};D.prototype.$e=function(a){z.vh();a=a.catch(function(a){if("object"===typeof a){if(a.code===q.TIMEOUT)return C.reject({code:A.lu,reason:"resource timeout: "+a.vM});if(a.code===A.To)return C.reject(a)}return C.reject({code:A.gu,
reason:a})});a.catch(function(){}).then(z.Vi);return a};D.prototype.lb=function(a){var b=null,c=["vectorOrigins"],d=a.disableCaching;if("boolean"!==typeof d&&"undefined"!==typeof d)return C.reject("Configuration error: disableCaching should be a boolean or undefined");c.push("madabaDomains");for(var e=0,f=c.length;e<f;e++){var g=c[e],k=a[g];if("undefined"!==typeof k){b=0;for(c=k.length;b<c;b++)if("string"!==typeof k[b])return C.reject("Configuration error: "+g+"["+b+"] is not a string");b={animate:!1,
disableCaching:d};var l;d=k.map(function(a){a=a.split("//");l=a[0];return a[1]});d={satellite:{tileSources:[{name:"satellite",protocol:l,domains:d,path:"/md/v1/stile?x={{x}}&y={{y}}&z={{z}}&v={{v}}"}]}};b.madabaDomains=k;b.rasterTiles=d;break}}if(!b)return C.reject("'madabaDomains' or 'nodabaConfig' not provided for Service initialization.");if(a=a.requestTimeout){if("number"!==typeof a||0>=a)return C.reject("'requestTimeout' parameter should be a positive number");b.Ey=a}z.vh();var h=this;return this.UC(b).then(function(){z.Vi();
return h})};D.prototype.wD=function(b){var c=this.gb,d=b.language,e=b.Ie,g=b.Me,k=b.Zb,l=b.Mk,h={mode:b.Xk,usePOI:b.ho,tint:b.yb,emphasis:b.xb},n=b.gO,q=a.g.l(n,n),p=new m(b.key.x,b.key.y,b.key.z),r=b.scale;b=1*r*n;var t=f.Vc.Bg;l||(t=f.Vc.kj);c.Pi(t);c.Qi(k);c.ng(d);c.ml(e,g);return this.yv(function(a){return c.Un(h).then(function(){return c.Ps(p,n,q,r,a,p.z,null,!0,!0,1)})},b,b)};D.prototype.vD=function(a){var b=this.gb,c=a.language,d=a.scale,e=a.viewport,g=1*d*e[0],k=1*d*e[1],h={mode:a.Xk,usePOI:a.ho,
tint:a.yb,emphasis:a.xb},m=a.yi.map(function(a){var b=new l;b.gt(l.Jh.Tt);b.x=a.x;b.y=a.y;b.width=a.width;b.height=a.height;b.xOffset=a.AO;b.yOffset=a.BO;return b}),n=a.Zb,q=new p(a.width/a.height);q.it([a.La[0],1-a.La[1],0]);q.lt(a.z);q.update(e);b.Pi(f.Vc.ap);b.sh(d,1);b.ng(c);b.Qi(n);return this.yv(function(a){return b.Un(h).then(function(){return b.Ay(q,e,m,a)})},g,k)};D.prototype.yv=function(a,b,c){var d=b/1;var e=c/1;var f=this.gb,g=this.gb.JI(b,c).Hb();a=a(g).then(function(a){var b=f.i();b.flush();
g.bind();var c=new Uint8Array(d*e*4);b.readPixels(0,0,d,e,b.RGBA,b.UNSIGNED_BYTE,c);g.m();b={data:c,width:d,height:e};b.times={renderingStartTime:a.oh,loadingStartTime:a.fh,renderingEndTime:a.Rs};return b}.bind(this)).catch(function(a){return"object"===typeof a&&a.Ss?C.reject(a.Ss):C.reject(a)});a.then(g.release.bind(g));return a};D.prototype.na=function(){if(2!==this.qd)return P();var a=this.gb.oe();return this.$e(this.gb.na.fetch(a))};D.prototype.xO=function(a){if(2!==this.qd)return P();if("object"!==
typeof a)return B("parameter 0 is not an object");var b=a.x,c=a.y,d=a.z;if(!h.hj(b,c,d))return h.hj.reject;var e=a.language;if(!h.xg(e,!1))return h.xg.reject;var f=a.scale;if(!h.od(f))return h.od.reject;var g=a.tileGroup;if(!h.yg(g,!1))return h.yg.reject;var k=a.tileSetStyle;if(!h.wo(k))return h.wo.reject;if(-1===this.$v.indexOf(k))return B("'tileSetStyle' should have on of the following value "+this.LE);var l=a.type;if(!h.yo(l))return h.yo.reject;var n=a.countryCode;a=a.regionCode;if(!h.aj(n))return h.aj.reject;
if(!h.ej(a))return h.ej.reject;b={key:new m(b,c,d),scale:f,Qc:k,Zb:g||this.gb.na.hf,language:e,Ie:n,Me:a,nf:!1};return this.$e(this.gb.vx.fetch(b,l))};D.prototype.ea=function(a){if(2!==this.qd)return P();if("object"!==typeof a)return B("parameter 0 is not an object");var b=a.x,c=a.y,d=a.z;if(!h.hj(b,c,d))return h.hj.reject;var e=a.scale;if(!h.od(e))return h.od.reject;var f=a.size;if(!h.xo(f))return h.xo.reject;f=128*Math.pow(2,f);var g=a.tileGroup;if(!h.yg(g,!1))return h.yg.reject;var k=a.style;if(!h.vo(k))return h.vo.reject;
var l=a.labels;if(!h.ro(l))return h.ro.reject;var n=a.usePOI;if(!h.gj(n))return h.gj.reject;if(!l&&n)return B("incompatible 'labels === false' with 'usePOI === true'");var q=a.tint;if(!h.fj(q))return h.fj.reject;var p=a.emphasis;if(!h.bj(p))return h.bj.reject;var r=a.language;if(!h.xg(r,!1))return h.xg.reject;var t=a.countryCode;a=a.regionCode;if(!h.aj(t))return h.aj.reject;if(!h.ej(a))return h.ej.reject;var u="";switch(k){case 0:u="standard";break;case 46:u="hybrid"}b={key:new m(b,c,d),Xk:u,gO:f,
ho:n,Mk:l,yb:q,xb:p,scale:e,Zb:g||this.gb.na.hf,language:r,Ie:t,Me:a};return this.$e(this.wD(b))};D.prototype.$M=function(a){if(2!==this.qd)return P();var b=a.center;if(!h.no(b))return h.no.reject;var c=a.labelRegions;if(!h.qo(c))return h.qo.reject;c=c.map(function(a){return{x:a.x,y:a.y,width:a.width,height:a.height,AO:a.xOffset,BO:a.yOffset}});var d=a.language;if(!h.xg(d,!0))return h.xg.reject;var e=a.usePOI;if(!h.gj(e))return h.gj.reject;var f=a.scale;if(!h.od(f))return h.od.reject;var g=a.mapMode;
if(!h.so(g))return h.so.reject;var k=a.viewport;if(!h.Ao(k,this.Rv))return h.Ao.reject;var l=a.z;if(!h.uo(g,l))return h.uo.reject(g);var m=a.tint;if(!h.fj(m))return h.fj.reject;var n=a.emphasis;if(!h.bj(n))return h.bj.reject;a=a.tileGroup;return h.yg(a,!0)?this.$e(this.vD({La:b,yi:c,language:d,ho:e,scale:f,Xk:g,viewport:k,z:l,yb:m,xb:n,Zb:a||this.gb.na.hf})):h.yg.reject};D.prototype.YM=function(a){if(2!==this.qd)return P();if("object"!==typeof a)return B("parameter 0 is not an object");var b=a.text;
if("string"!==typeof b)return B("'text' is not a string");var c=a.id;if(!h.vg(c))return h.vg.reject;var d=a.size;if(!h.wg(d))return h.wg.reject;var e=a.scale;if(!h.od(e))return h.od.reject;var f=a.subtype;if(!h.to(f))return h.to.reject;var g=a.color;if(!h.ug(g))return h.ug.reject;a=a.vendorKey;if(!h.zo(a))return h.zo.reject;var k=this.eq.fetch({text:b,id:c,scale:e,color:g,Dd:f,Dz:a,size:d,variant:0});k.Hb();k.then(function(){k.release()});return this.$e(k)};D.prototype.xD=function(a,b){var c=a.style;
if(!h.cj(c))return h.cj.reject;var d=a.zoom;if(!h.Bo(d))return h.Bo.reject;var e=a.attributes;if(!h.mo(e))return h.mo.reject;a=a.size;if(!h.wg(a))return h.wg.reject;b={style:c,scale:b,yb:n.Xg,xb:n.Wg,Dd:"poi",zoom:d,attributes:e,sc:0};a&&(b.size=a);return this.$e(this.Ea.fetch(b))};D.prototype.nD=function(a,b){a=a.name;return h.oo(a)?this.$e(this.Ea.fetch({scale:b,yb:n.Xg,xb:n.Wg,Dd:"named",name:a,sc:0})):h.oo.reject};D.prototype.PE=function(a,b){var c=a.cartoId;if("number"!==typeof c||!Number.isInteger(c))return B("'cartoId' should be a number");
var d=a.transitType;if("number"!==typeof d||!Number.isInteger(d))return B("'transitType' should be a number");var e=a.style;if(!h.cj(e))return h.cj.reject;a=a.size;return h.wg(a)?this.$e(this.Ea.fetch({style:e,scale:b,yb:n.Xg,xb:n.Wg,size:a,Dd:"transit",Cw:c,wz:d,sc:0})):h.wg.reject};D.prototype.icon=function(a){if(2!==this.qd)return P();if("object"!==typeof a)return B("parameter 0 is not an object");var b=a.subtype;if(!h.po(b))return h.po.reject;var c=a.scale;return h.od(c)?"poi"===b?this.xD(a,c):
"named"===b?this.nD(a,c):this.PE(a,c):h.od.reject};D.prototype.iI=function(a){if(2!==this.qd)return P();if("object"!==typeof a)return B("parameter 0 is not an object");var b=a.subtype||"maneuver",c=a.maneuverType;if(!h.vg(c))return h.vg.reject;var d=a.drivingSide;if(!h.vg(d))return h.vg.reject;var e=a.scale;if(!h.od(e))return h.od.reject;var f=a.arrowFill;if(!h.ug(f))return h.ug.reject;a=a.junctionFill;if(!h.ug(a))return h.ug.reject;var g=this.WA.fetch({Dd:b,Sx:c,Pw:d,scale:e,Oq:f,Xr:a});g.Hb();g.then(function(){g.release()});
return this.$e(g)};D.prototype.gJ=function(){this.Rv=!0};h.jz=z.vh;h.mz=z.Vi;h.startDispatchQueueLoop=h.jz;h.stopDispatchQueueLoop=h.mz;D.prototype.destroy=D.prototype.ya;D.prototype.init=D.prototype.lb;D.prototype.manifest=D.prototype.na;D.prototype.vtile=D.prototype.xO;D.prototype.tile=D.prototype.ea;D.prototype.shield=D.prototype.YM;D.prototype.icon=D.prototype.icon;D.prototype.arrow=D.prototype.iI;D.prototype.snapshot=D.prototype.$M;D.prototype.enableSnapshotSuperSize=D.prototype.gJ;h.DK=function(){return new D};
h.info=Object.freeze({name:"Syrup",version:d,decoderVersion:g});h.info=h.info;h.getService=h.DK;h.LogLevels=t;h.ServiceErrors=A;h.ServiceErrors.INVALID_PARAMETER=A.To;h.ServiceErrors.INTERNAL_ERROR=A.gu;h.ServiceErrors.SERVICE_UNINITIALIZED=A.nu;h.ServiceErrors.RESOURCE_TIMEOUT=A.lu;h.Constants={defaultTint:n.Xg,defaultEmphasis:n.Wg,minStandardSnapshotZ:n.ps,maxStandardSnapshotZ:n.ls,minSatelliteSnapshotZ:n.os,maxSatelliteSnapshotZ:n.ks,minSnapshotSize:n.yn,maxSnapshotSize:n.wn}}});u(207,0,function(){return{MR:function(d){d=
d.IR.Vg;for(var g=new Float32Array(2*d.length),h=0;h<d.length;h++){var p=d[h];g[2*h]=(p[0]+180)/360;p=Math.sin(-p[1]*Math.PI/180);p=Math.min(Math.max(p,-.9999),.9999);g[2*h+1]=.5-Math.log((1+p)/(1-p))/(4*Math.PI)}return g},lU:function(d){return[-(-2*(Math.atan(Math.pow(Math.E,2*Math.PI*(d[1]-.5)))-Math.PI/4)/Math.PI*180),360*d[0]-180]}}});u(208,0,function(){return function(d){d.Map=h(188);d.s=h(104);d.Promise=h(13);d.Fl=h(196);d.uA=h(103);d.tu=h(3);d.PO=h(207);d.Uz=h(101);d.GA=h(111);d.Xz=h(116);
d.Yz=h(181);d.$z=h(118);d.Wz=h(114);d.Zz=h(113);d.aA=h(115);d.Vt=h(192);d.FA=h(174);d.BA=h(107);d.Hf=h(19);d.bA=h(183);d.fA=h(15);d.eA=h(179);d.AA=h(178);d.IA=h(186);d.HA=h(42);d.Rz=h(21);d.cA=h(5);d.kA=h(11);d.jA=h(98);d.VO=h(102);d.Map=d.Map;d.Manifest=d.s;d.SyrupRenderer=d.Fl;d.ResourceManager=d.uA;d.XMath=d.tu;d.FileAdapters=d.Uz;d.WebGLContext=d.GA;d.GLFramebuffer=d.Xz;d.GLRenderbuffer=d.Yz;d.GLTexture=d.$z;d.GLBuffer=d.Wz;d.GLSL=d.Zz;d.Geometries=d.aA;d.Camera=d.Vt;d.ViewFactory=d.FA;d.TileSelector=
d.BA;d.TileKey=d.Hf;d.HeaderAdapters=d.bA;d.LayerTypes=d.fA;d.LabelManager=d.eA;d.StyleManager=d.AA;d.WorkerHub=d.IA;d.WorkerFactory=d.HA;d.DispatchQueue=d.Rz;d.Helpers=d.cA;d.Messager=d.kA;d.LogLevels=d.jA;var g=d.Constants||{},r=h(0);g.minTileSize=r.Vd;g.maxTileSize=r.ms;g.baseTileSize=r.vm;Object.freeze(g);d.Constants=g}});u(211,0,function(){h(5).LM();var d={},g=h(13);d.Promise=g;d.Version=h(92);h(206)(d);h(208)(d);return d});u(212,0,function(){function d(d){var g=d[this.key]>=this.threshold;return{zs:g,
message:g?"":"must be greater than/equal to "+this.threshold+". Value: "+d[this.key]}}function g(d){d.EXTENSIONS=d.EXTENSIONS.sort(function(a,b){return a.localeCompare(b)});d.standardDerivatives=-1!==d.EXTENSIONS.indexOf("OES_standard_derivatives");for(var g=!0,k={},e=0;e<p.length;e++){var b=p[e],a=b.Ac.call(b,d);a.zs||(k[b.key]=a.message,g=!1)}g?d.status=r.Hc:d.failures=k;return d}var r=h(89),p=[{key:"combinedTextureImageUnit",Ac:function(d){var g=d[this.key]>this.threshold;return{zs:g,message:g?
"":"must be greater than "+this.threshold+". Value: "+d[this.key]}},threshold:4},{key:"maxFragmentUniformVectors",Ac:d,threshold:64},{key:"maxRenderBufferSize",Ac:d,threshold:4096},{key:"maxTextureImageUnits",Ac:d,threshold:8},{key:"maxTextureSize",Ac:d,threshold:4096},{key:"maxVaryingVectors",Ac:d,threshold:8},{key:"maxVertexAttribs",Ac:d,threshold:8},{key:"maxVertexTextureUnits",Ac:d,threshold:4},{key:"maxVertexUniformVectors",Ac:d,threshold:24},{key:"maxWidth",Ac:d,threshold:4096},{key:"maxHeight",
Ac:d,threshold:4096},{key:"depthBits",Ac:d,threshold:16},{key:"glslVersion",Ac:d,threshold:1},{key:"fragmentHighfPrecisionFormat",Ac:d,threshold:23},{key:"vertexHighfPrecisionFormat",Ac:d,threshold:23},{key:"standardDerivatives",Ac:function(d){d=d[this.key];return{zs:d,message:d?"":"does not exist."}}}];return{HM:function(){var d={status:r.qc},h=document.createElement("canvas").getContext("webgl");d.gl=null!=h;d.webglContext=h;if(!d.gl)return d;d.combinedTextureImageUnit=h.getParameter(h.MAX_COMBINED_TEXTURE_IMAGE_UNITS);
d.maxFragmentUniformVectors=h.getParameter(h.MAX_FRAGMENT_UNIFORM_VECTORS);d.maxRenderBufferSize=h.getParameter(h.MAX_RENDERBUFFER_SIZE);d.maxTextureImageUnits=h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS);d.maxTextureSize=h.getParameter(h.MAX_TEXTURE_SIZE);d.maxVaryingVectors=h.getParameter(h.MAX_VARYING_VECTORS);d.maxVertexAttribs=h.getParameter(h.MAX_VERTEX_ATTRIBS);d.maxVertexTextureUnits=h.getParameter(h.MAX_VERTEX_TEXTURE_IMAGE_UNITS);d.maxVertexUniformVectors=h.getParameter(h.MAX_VERTEX_UNIFORM_VECTORS);
var k=h.getParameter(h.MAX_VIEWPORT_DIMS);d.maxWidth=k[0];d.maxHeight=k[1];d.depthBits=h.getParameter(h.DEPTH_BITS);k=h.getParameter(h.SHADING_LANGUAGE_VERSION).replace("WebGL GLSL ES ","");d.glslVersion=parseFloat(k);k=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_FLOAT);d.fragmentHighfPrecisionFormat=k.precision;k=h.getShaderPrecisionFormat(h.VERTEX_SHADER,h.HIGH_FLOAT);d.vertexHighfPrecisionFormat=k.precision;d.ALIASED_LINE_WIDTH_RANGE=h.getParameter(h.ALIASED_LINE_WIDTH_RANGE);d.COMPRESSED_TEXTURE_FORMATS=
h.getParameter(h.COMPRESSED_TEXTURE_FORMATS);d.MAX_CUBE_MAP_TEXTURE_SIZE=h.getParameter(h.MAX_CUBE_MAP_TEXTURE_SIZE);d.RENDERER=h.getParameter(h.RENDERER);d.VENDOR=h.getParameter(h.VENDOR);d.VERSION=h.getParameter(h.VERSION);d.EXTENSIONS=h.getSupportedExtensions()||[];return g(d)},iU:g}});u(213,0,function(){var d=h(90),g;"undefined"!==typeof STATIC_RESOURCES_ORIGINS_OVERRIDE&&(g=STATIC_RESOURCES_ORIGINS_OVERRIDE);var r=h(103),p=h(101);return{preload:function(h){"undefined"===typeof g&&(g=d.AK());
var m=h.oe();h=new p.Zd({origin:g[0]});m.ph("spile.map",h);return m.get("spile.map",r.JSON).then(function(d){m.zm();m.ph(/.*/,new p.te(g,d))})},co:function(d){d=d.oe();d.zm();d.reset()}}});u(214,0,function(){return{lM:function(d){return"tile?x="+d.x+"&y="+d.y+"&z="+d.z+"&style=0&type=standard&scale=1&size=1&lang=en&poi=1"},Xk:"standard",ho:!0,eO:1*h(0).Vd,language:"en"}});u(215,0,function(){var d=h(19);d=[{key:new d(653,1581,12),Ci:17.67},{key:new d(654,1581,12),Ci:20},{key:new d(653,1582,12),Ci:17.02},
{key:new d(654,1582,12),Ci:20.27}];Object.freeze(d);return d});u(216,0,function(){function d(a,c,e,h){if(0===c.length)return q.resolve(e);var f=c.pop();return g(a,f.key,h).then(function(a){e.push({data:a.ky,width:b,height:b,key:f.key,Ci:f.Ci,Pn:a.Pn,sn:a.sn});return q.timeout(0)}).then(function(){return d(a,c,e,h)})}function g(a,c,d){var f=e.g.l(b,b);return a.Ps(c,b,f,1,d,c.z,null,!0,!0).then(function(c){var e=a.i();e.flush();d.bind();var f=new Uint8Array(b*b*4);e.readPixels(0,0,b,b,e.RGBA,e.UNSIGNED_BYTE,
f);d.m();e=Math.floor(b/2);for(var g=4*b,h=new Uint8Array(b*b*4),k=0;k<e;k++)for(var l=0;l<g;l++){var m=k*g+l,n=(b-k-1)*g+l;h[m]=f[n];h[n]=f[m]}return{ky:h,Pn:c.renderingEndTime-c.renderingStartTime,sn:c.renderingStartTime-c.loadingStartTime}})}var r=h(215),p=h(214),q=h(13),m=h(116),k=h(118),e=h(3),b=p.eO;return function(a){var c=a.i(),e=new m(c),g=new k(c,b,b);g.bind().data(null,c.RGBA,c.RGBA).hd(c.LINEAR).fd(c.LINEAR).m();e.bind().xk(g.Nb()).m();return d(a,r.slice(),[],e)}});u(217,0,function(){var d=
h(214),g=d.Xk,r=d.language;return{lb:function(d,h){return d.lb(h).then(function(){return d.dt(!0)}).then(function(){return d.Uy(g,!0)}).then(function(){d.ng(r);return d})}}});u(218,[],function(){return function(d,g){if(d.width!==d.width||g.height!==g.height)return null;var h=d.width,p=d.height;d=d.data;g=g.data;var q=h*p*4;h={width:h,height:p,data:new Uint8Array(q)};for(var m=p=0;m<q;m+=4){var k=Math.abs(.2126*d[m+0]+.7152*d[m+1]+.0722*d[m+2]-(.2126*g[m+0]+.7152*g[m+1]+.0722*g[m+2]));h.data[m+0]=
k;h.data[m+1]=k;h.data[m+2]=k;h.data[m+3]=255;p+=k}h.jO=Math.round(p/10)/100;return h}});u(219,0,function(){function d(a,b,d){return a.get(e.lM(d),r.Ef,{sc:d.x+d.y}).then(g).then(function(a){var e=c(b,a),f=e.jO;var g=e.width;var h=e.height,k=e.data;e=document.createElement("canvas");e.width=g;e.height=h;var l=e.getContext("2d");g=new ImageData(Uint8ClampedArray.from(k),g,h);l.putImageData(g,0,0);g=e.toDataURL();a={totalGrayDiff:f,renderedTile:b,expectedTile:a,tileDiff:g};a.key=d.id;return a})}function g(a){var b=
document.createElement("canvas"),c=a.width,d=a.height;b.width=c;b.height=d;b=b.getContext("2d");b.drawImage(a,0,0);return b.getImageData(0,0,c,d)}var r=h(103),p=h(196),q=h(211),m=h(13),k=h(213),e=h(214),b=h(216),a=h(217),c=h(218),f=h(89),l=h(35);return function(c){var g={status:f.Ue,pass:!1,tileResults:null,syrupRenderer:null};l.fJ();q.jz();var h={animate:!1,madabaDomains:[""]},n=new p;return k.preload(n).then(function(){return a.lb(n,h)}).then(function(){g.webglContext=n.i();n.ng(e.language);return b(n).then(function(a){for(var b=
n.oe(),c=[],e=0;e<a.length;e++){var h=a[e];c.push(d(b,h,h.key))}return m.all(c).then(function(b){g.tileResults=b;for(var c=0,d=0,e=!0,h=0;h<b.length;h++)b[h].renderTime=a[h].Pn,b[h].loadTime=a[h].sn,b[h].maxGrayDiff=a[h].Ci,b[h].fidelityPass=b[h].totalGrayDiff<=b[h].maxGrayDiff,b[h].fidelityPass||(e=!1),1<=h&&(c+=a[h].Pn,d+=a[h].sn);g.averageRenderTime=c/(b.length-1);g.averageLoadTime=d/(b.length-1);g.renderTimePass=30>=g.averageRenderTime;g.fidelityPass=e;g.pass=g.fidelityPass;g.pass?(g.status=f.Hc,
g.syrupRenderer=n):g.status=f.qc})}).catch(function(a){g.reason=a;return g}).then(function(){k.co(n);q.mz();n.ya();return g})}).catch(function(a){k.co(n);g.reason=a;return g}).then(function(a){l.dJ();c(a)})}});u(220,0,function(){function d(){f=h(211);b=h(212);c=h(219);a=f.Fl}function g(){this.result={status:r.Ff,version:m};this.result["basic-tests"]={status:r.Ff};this.result["webgl-capabilities"]={status:r.Ff,failures:{}};this.result["async-fidelity"]={status:r.Ff,gl:null};this.result["sync-fidelity"]=
{status:r.Ff};this.runAdvancedTests=null;this.result["user-agent"]=navigator&&navigator.userAgent;this.result.host=document.location.host;this.result.pathname=document.location.pathname;this.result=this.result}var r=h(89),p=h(93),q=h(95),m=h(94),k=h(96),e=h(97),b,a,c;g.Xo=!1;g.Ro=!0;g.prototype.nE=function(){this.result["basic-tests"].status=r.qc;var a=k.ma();this.result["basic-tests"]=a;return a.status===r.Hc};g.prototype.OA=function(){this.result.status=r.qc;if(!this.nE()&&g.Xo)return p.jl(this.result),
this.result;d();this.result["webgl-capabilities"].status=r.qc;var c=b.HM();this.result["webgl-capabilities"]=c;this.result.hash=e.gK(c.webglContext);if(g.Xo&&c.status!==r.Hc)return this.result.status=r.qc,p.jl(this.result),this.result;delete this.runAdvancedTests;this.result.status=r.Ue;if(c=q.lx(this.result.hash))this.result.status=c.status,this.result.status===r.Hc&&(this.SyrupRenderer=a);return this.result};g.prototype.Ky=function(){if(g.Ro)return this.result.status=r.qc,this.result;try{return this.OA()}catch(l){return this.result.status=
r.qc,this.result["webgl-capabilities"].failures["loading-failure"]=l,this.result.hash="simple-test-exception",q.lx(this.result.hash)||(q.Ez(this.result),p.jl(this.result)),this.result}};g.prototype.FM=function(b){if(g.Ro)this.result.status=r.qc,b(this.result);else{var d=a.vl();this.result["sync-fidelity"].pass=d.KL;this.result["sync-fidelity"].times=d.cU;this.result["sync-fidelity"].status=d.KL?r.Hc:r.qc;this.result["sync-fidelity"].lineStatus=r.Ff;this.result["sync-fidelity"].labelStatus=r.Ff;d.lineHasRun&&
(this.result["sync-fidelity"].lineStatus=d.linePass?r.Hc:r.qc);d.labelHasRun&&(this.result["sync-fidelity"].labelStatus=d.labelPass?r.Hc:r.qc);d.failures.length&&(this.result["sync-fidelity"].failures=d.failures);c(function(c){this.result["async-fidelity"]=c;var d=this.result["sync-fidelity"];this.result.status=c.pass&&d.pass?r.Hc:d.pass&&c.status===r.Ue?r.Ue:r.qc;g.Xo||(this.result.status=this.result["basic-tests"].status===r.Hc&&this.result["webgl-capabilities"].status===r.Hc&&this.result["sync-fidelity"].status===
r.Hc?this.result["async-fidelity"].status===r.Ue?r.Ue:this.result["async-fidelity"].status:r.qc);p.jl(this.result);this.result.status!==r.Ue&&(this.result.status===r.Hc&&(this.Fl=a),q.Ez(this.result));"function"===typeof b&&b(this.result)}.bind(this))}};g.GM=function(a){a=a||function(){};if(g.Ro)g.vl(a);else{var b=new g;b.Ky();b.result.status===r.Ue?b.runAdvancedTests(a):"function"===typeof a&&a(b.result)}};g.zA=r;g.Syrup={version:m.syrup};try{var f=h(211);g.Syrup.Camera=f.Vt;g.Syrup.XMath=f.tu}catch(l){}g.zK=
function(){return f.Fl};g.vl=function(a){function b(){e.result.status=e.result["async-fidelity"].status;p.jl(e.result);var b=e.result["async-fidelity"].webglContext;b&&(e.result["gpu-identifier"]={VERSION:b.getParameter(b.VERSION)},delete e.result["async-fidelity"].webglContext);a(e.result)}a=a||function(){};var e=new g;try{d(),c(function(a){e.result["async-fidelity"]=a;b()})}catch(v){e.result["async-fidelity"].reason=v,b()}};g.version=m.spile;g.prototype.runSimpleTests=g.prototype.Ky;g.prototype.runAdvancedTests=
g.prototype.FM;g.Status=g.zA;g.version=g.version;g.testRendering=g.vl;g.runAnalytics=g.GM;g.getRendererWithoutAnyWarranty=g.zK;return g});return h(220)}"undefined"!==typeof define?define(W):"undefined"!==typeof module?module.exports=W():window.Spile=W();
